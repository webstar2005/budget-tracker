(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function WS(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Pd={exports:{}},It={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k_;function ZS(){if(k_)return It;k_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),R=Symbol.iterator;function C(N){return N===null||typeof N!="object"?null:(N=R&&N[R]||N["@@iterator"],typeof N=="function"?N:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,tt={};function K(N,J,rt){this.props=N,this.context=J,this.refs=tt,this.updater=rt||z}K.prototype.isReactComponent={},K.prototype.setState=function(N,J){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,J,"setState")},K.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function pt(){}pt.prototype=K.prototype;function ht(N,J,rt){this.props=N,this.context=J,this.refs=tt,this.updater=rt||z}var Q=ht.prototype=new pt;Q.constructor=ht,X(Q,K.prototype),Q.isPureReactComponent=!0;var ut=Array.isArray,st={H:null,A:null,T:null,S:null,V:null},ft=Object.prototype.hasOwnProperty;function V(N,J,rt,et,yt,Ot){return rt=Ot.ref,{$$typeof:r,type:N,key:J,ref:rt!==void 0?rt:null,props:Ot}}function b(N,J){return V(N.type,J,void 0,void 0,void 0,N.props)}function w(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function O(N){var J={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(rt){return J[rt]})}var k=/\/+/g;function x(N,J){return typeof N=="object"&&N!==null&&N.key!=null?O(""+N.key):J.toString(36)}function D(){}function Ue(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(D,D):(N.status="pending",N.then(function(J){N.status==="pending"&&(N.status="fulfilled",N.value=J)},function(J){N.status==="pending"&&(N.status="rejected",N.reason=J)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function le(N,J,rt,et,yt){var Ot=typeof N;(Ot==="undefined"||Ot==="boolean")&&(N=null);var bt=!1;if(N===null)bt=!0;else switch(Ot){case"bigint":case"string":case"number":bt=!0;break;case"object":switch(N.$$typeof){case r:case t:bt=!0;break;case T:return bt=N._init,le(bt(N._payload),J,rt,et,yt)}}if(bt)return yt=yt(N),bt=et===""?"."+x(N,0):et,ut(yt)?(rt="",bt!=null&&(rt=bt.replace(k,"$&/")+"/"),le(yt,J,rt,"",function(Xn){return Xn})):yt!=null&&(w(yt)&&(yt=b(yt,rt+(yt.key==null||N&&N.key===yt.key?"":(""+yt.key).replace(k,"$&/")+"/")+bt)),J.push(yt)),1;bt=0;var De=et===""?".":et+":";if(ut(N))for(var te=0;te<N.length;te++)et=N[te],Ot=De+x(et,te),bt+=le(et,J,rt,Ot,yt);else if(te=C(N),typeof te=="function")for(N=te.call(N),te=0;!(et=N.next()).done;)et=et.value,Ot=De+x(et,te++),bt+=le(et,J,rt,Ot,yt);else if(Ot==="object"){if(typeof N.then=="function")return le(Ue(N),J,rt,et,yt);throw J=String(N),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return bt}function F(N,J,rt){if(N==null)return N;var et=[],yt=0;return le(N,et,"","",function(Ot){return J.call(rt,Ot,yt++)}),et}function it(N){if(N._status===-1){var J=N._result;J=J(),J.then(function(rt){(N._status===0||N._status===-1)&&(N._status=1,N._result=rt)},function(rt){(N._status===0||N._status===-1)&&(N._status=2,N._result=rt)}),N._status===-1&&(N._status=0,N._result=J)}if(N._status===1)return N._result.default;throw N._result}var mt=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function qt(){}return It.Children={map:F,forEach:function(N,J,rt){F(N,function(){J.apply(this,arguments)},rt)},count:function(N){var J=0;return F(N,function(){J++}),J},toArray:function(N){return F(N,function(J){return J})||[]},only:function(N){if(!w(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},It.Component=K,It.Fragment=n,It.Profiler=o,It.PureComponent=ht,It.StrictMode=s,It.Suspense=p,It.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=st,It.__COMPILER_RUNTIME={__proto__:null,c:function(N){return st.H.useMemoCache(N)}},It.cache=function(N){return function(){return N.apply(null,arguments)}},It.cloneElement=function(N,J,rt){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var et=X({},N.props),yt=N.key,Ot=void 0;if(J!=null)for(bt in J.ref!==void 0&&(Ot=void 0),J.key!==void 0&&(yt=""+J.key),J)!ft.call(J,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&J.ref===void 0||(et[bt]=J[bt]);var bt=arguments.length-2;if(bt===1)et.children=rt;else if(1<bt){for(var De=Array(bt),te=0;te<bt;te++)De[te]=arguments[te+2];et.children=De}return V(N.type,yt,void 0,void 0,Ot,et)},It.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},It.createElement=function(N,J,rt){var et,yt={},Ot=null;if(J!=null)for(et in J.key!==void 0&&(Ot=""+J.key),J)ft.call(J,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(yt[et]=J[et]);var bt=arguments.length-2;if(bt===1)yt.children=rt;else if(1<bt){for(var De=Array(bt),te=0;te<bt;te++)De[te]=arguments[te+2];yt.children=De}if(N&&N.defaultProps)for(et in bt=N.defaultProps,bt)yt[et]===void 0&&(yt[et]=bt[et]);return V(N,Ot,void 0,void 0,null,yt)},It.createRef=function(){return{current:null}},It.forwardRef=function(N){return{$$typeof:m,render:N}},It.isValidElement=w,It.lazy=function(N){return{$$typeof:T,_payload:{_status:-1,_result:N},_init:it}},It.memo=function(N,J){return{$$typeof:y,type:N,compare:J===void 0?null:J}},It.startTransition=function(N){var J=st.T,rt={};st.T=rt;try{var et=N(),yt=st.S;yt!==null&&yt(rt,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(qt,mt)}catch(Ot){mt(Ot)}finally{st.T=J}},It.unstable_useCacheRefresh=function(){return st.H.useCacheRefresh()},It.use=function(N){return st.H.use(N)},It.useActionState=function(N,J,rt){return st.H.useActionState(N,J,rt)},It.useCallback=function(N,J){return st.H.useCallback(N,J)},It.useContext=function(N){return st.H.useContext(N)},It.useDebugValue=function(){},It.useDeferredValue=function(N,J){return st.H.useDeferredValue(N,J)},It.useEffect=function(N,J,rt){var et=st.H;if(typeof rt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return et.useEffect(N,J)},It.useId=function(){return st.H.useId()},It.useImperativeHandle=function(N,J,rt){return st.H.useImperativeHandle(N,J,rt)},It.useInsertionEffect=function(N,J){return st.H.useInsertionEffect(N,J)},It.useLayoutEffect=function(N,J){return st.H.useLayoutEffect(N,J)},It.useMemo=function(N,J){return st.H.useMemo(N,J)},It.useOptimistic=function(N,J){return st.H.useOptimistic(N,J)},It.useReducer=function(N,J,rt){return st.H.useReducer(N,J,rt)},It.useRef=function(N){return st.H.useRef(N)},It.useState=function(N){return st.H.useState(N)},It.useSyncExternalStore=function(N,J,rt){return st.H.useSyncExternalStore(N,J,rt)},It.useTransition=function(){return st.H.useTransition()},It.version="19.1.0",It}var P_;function Cm(){return P_||(P_=1,Pd.exports=ZS()),Pd.exports}var Yt=Cm();const S=WS(Yt);var xd={exports:{}},Al={},Ud={exports:{}},Ld={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x_;function JS(){return x_||(x_=1,function(r){function t(F,it){var mt=F.length;F.push(it);t:for(;0<mt;){var qt=mt-1>>>1,N=F[qt];if(0<o(N,it))F[qt]=it,F[mt]=N,mt=qt;else break t}}function n(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var it=F[0],mt=F.pop();if(mt!==it){F[0]=mt;t:for(var qt=0,N=F.length,J=N>>>1;qt<J;){var rt=2*(qt+1)-1,et=F[rt],yt=rt+1,Ot=F[yt];if(0>o(et,mt))yt<N&&0>o(Ot,et)?(F[qt]=Ot,F[yt]=mt,qt=yt):(F[qt]=et,F[rt]=mt,qt=rt);else if(yt<N&&0>o(Ot,mt))F[qt]=Ot,F[yt]=mt,qt=yt;else break t}}return it}function o(F,it){var mt=F.sortIndex-it.sortIndex;return mt!==0?mt:F.id-it.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],T=1,R=null,C=3,z=!1,X=!1,tt=!1,K=!1,pt=typeof setTimeout=="function"?setTimeout:null,ht=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function ut(F){for(var it=n(y);it!==null;){if(it.callback===null)s(y);else if(it.startTime<=F)s(y),it.sortIndex=it.expirationTime,t(p,it);else break;it=n(y)}}function st(F){if(tt=!1,ut(F),!X)if(n(p)!==null)X=!0,ft||(ft=!0,x());else{var it=n(y);it!==null&&le(st,it.startTime-F)}}var ft=!1,V=-1,b=5,w=-1;function O(){return K?!0:!(r.unstable_now()-w<b)}function k(){if(K=!1,ft){var F=r.unstable_now();w=F;var it=!0;try{t:{X=!1,tt&&(tt=!1,ht(V),V=-1),z=!0;var mt=C;try{e:{for(ut(F),R=n(p);R!==null&&!(R.expirationTime>F&&O());){var qt=R.callback;if(typeof qt=="function"){R.callback=null,C=R.priorityLevel;var N=qt(R.expirationTime<=F);if(F=r.unstable_now(),typeof N=="function"){R.callback=N,ut(F),it=!0;break e}R===n(p)&&s(p),ut(F)}else s(p);R=n(p)}if(R!==null)it=!0;else{var J=n(y);J!==null&&le(st,J.startTime-F),it=!1}}break t}finally{R=null,C=mt,z=!1}it=void 0}}finally{it?x():ft=!1}}}var x;if(typeof Q=="function")x=function(){Q(k)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Ue=D.port2;D.port1.onmessage=k,x=function(){Ue.postMessage(null)}}else x=function(){pt(k,0)};function le(F,it){V=pt(function(){F(r.unstable_now())},it)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return C},r.unstable_next=function(F){switch(C){case 1:case 2:case 3:var it=3;break;default:it=C}var mt=C;C=it;try{return F()}finally{C=mt}},r.unstable_requestPaint=function(){K=!0},r.unstable_runWithPriority=function(F,it){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var mt=C;C=F;try{return it()}finally{C=mt}},r.unstable_scheduleCallback=function(F,it,mt){var qt=r.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?qt+mt:qt):mt=qt,F){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=mt+N,F={id:T++,callback:it,priorityLevel:F,startTime:mt,expirationTime:N,sortIndex:-1},mt>qt?(F.sortIndex=mt,t(y,F),n(p)===null&&F===n(y)&&(tt?(ht(V),V=-1):tt=!0,le(st,mt-qt))):(F.sortIndex=N,t(p,F),X||z||(X=!0,ft||(ft=!0,x()))),F},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(F){var it=C;return function(){var mt=C;C=it;try{return F.apply(this,arguments)}finally{C=mt}}}}(Ld)),Ld}var U_;function tb(){return U_||(U_=1,Ud.exports=JS()),Ud.exports}var zd={exports:{}},Xe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L_;function eb(){if(L_)return Xe;L_=1;var r=Cm();function t(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,T){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:R==null?null:""+R,children:p,containerInfo:y,implementation:T}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Xe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xe.createPortal=function(p,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(p,y,null,T)},Xe.flushSync=function(p){var y=f.T,T=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=T,s.d.f()}},Xe.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Xe.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Xe.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var T=y.as,R=m(T,y.crossOrigin),C=typeof y.integrity=="string"?y.integrity:void 0,z=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:R,integrity:C,fetchPriority:z}):T==="script"&&s.d.X(p,{crossOrigin:R,integrity:C,fetchPriority:z,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Xe.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Xe.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,R=m(T,y.crossOrigin);s.d.L(p,T,{crossOrigin:R,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Xe.preloadModule=function(p,y){if(typeof p=="string")if(y){var T=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Xe.requestFormReset=function(p){s.d.r(p)},Xe.unstable_batchedUpdates=function(p,y){return p(y)},Xe.useFormState=function(p,y,T){return f.H.useFormState(p,y,T)},Xe.useFormStatus=function(){return f.H.useHostTransitionStatus()},Xe.version="19.1.0",Xe}var z_;function nb(){if(z_)return zd.exports;z_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),zd.exports=eb(),zd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B_;function ib(){if(B_)return Al;B_=1;var r=tb(),t=Cm(),n=nb();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(s(188))}function p(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),e;if(d===l)return m(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,E=h.child;E;){if(E===a){v=!0,a=h,l=d;break}if(E===l){v=!0,l=h,a=d;break}E=E.sibling}if(!v){for(E=d.child;E;){if(E===a){v=!0,a=d,l=h;break}if(E===l){v=!0,l=d,a=h;break}E=E.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function y(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=y(e),i!==null)return i;e=e.sibling}return null}var T=Object.assign,R=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),pt=Symbol.for("react.provider"),ht=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),ut=Symbol.for("react.forward_ref"),st=Symbol.for("react.suspense"),ft=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function x(e){return e===null||typeof e!="object"?null:(e=k&&e[k]||e["@@iterator"],typeof e=="function"?e:null)}var D=Symbol.for("react.client.reference");function Ue(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===D?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case X:return"Fragment";case K:return"Profiler";case tt:return"StrictMode";case st:return"Suspense";case ft:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case z:return"Portal";case Q:return(e.displayName||"Context")+".Provider";case ht:return(e._context.displayName||"Context")+".Consumer";case ut:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V:return i=e.displayName||null,i!==null?i:Ue(e.type)||"Memo";case b:i=e._payload,e=e._init;try{return Ue(e(i))}catch{}}return null}var le=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},qt=[],N=-1;function J(e){return{current:e}}function rt(e){0>N||(e.current=qt[N],qt[N]=null,N--)}function et(e,i){N++,qt[N]=e.current,e.current=i}var yt=J(null),Ot=J(null),bt=J(null),De=J(null);function te(e,i){switch(et(bt,i),et(Ot,e),et(yt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?l_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=l_(i),e=u_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}rt(yt),et(yt,e)}function Xn(){rt(yt),rt(Ot),rt(bt)}function er(e){e.memoizedState!==null&&et(De,e);var i=yt.current,a=u_(i,e.type);i!==a&&(et(Ot,e),et(yt,a))}function Ai(e){Ot.current===e&&(rt(yt),rt(Ot)),De.current===e&&(rt(De),yl._currentValue=mt)}var Wr=Object.prototype.hasOwnProperty,Zr=r.unstable_scheduleCallback,Jr=r.unstable_cancelCallback,mo=r.unstable_shouldYield,nu=r.unstable_requestPaint,En=r.unstable_now,kh=r.unstable_getCurrentPriorityLevel,go=r.unstable_ImmediatePriority,Ws=r.unstable_UserBlockingPriority,ts=r.unstable_NormalPriority,Ph=r.unstable_LowPriority,Zs=r.unstable_IdlePriority,po=r.log,iu=r.unstable_setDisableYieldValue,ue=null,Gt=null;function cn(e){if(typeof po=="function"&&iu(e),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(ue,e)}catch{}}var Qe=Math.clz32?Math.clz32:es,ru=Math.log,xh=Math.LN2;function es(e){return e>>>=0,e===0?32:31-(ru(e)/xh|0)|0}var ns=256,is=4194304;function Un(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Js(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~d,l!==0?h=Un(l):(v&=E,v!==0?h=Un(v):a||(a=E&~e,a!==0&&(h=Un(a))))):(E=l&~d,E!==0?h=Un(E):v!==0?h=Un(v):a||(a=l&~e,a!==0&&(h=Un(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function rs(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function yo(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _o(){var e=ns;return ns<<=1,(ns&4194048)===0&&(ns=256),e}function vo(){var e=is;return is<<=1,(is&62914560)===0&&(is=4194304),e}function Si(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function bi(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Eo(e,i,a,l,h,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,I=e.expirationTimes,B=e.hiddenUpdates;for(a=v&~a;0<a;){var G=31-Qe(a),W=1<<G;E[G]=0,I[G]=-1;var q=B[G];if(q!==null)for(B[G]=null,G=0;G<q.length;G++){var j=q[G];j!==null&&(j.lane&=-536870913)}a&=~W}l!==0&&$n(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~i))}function $n(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-Qe(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function To(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-Qe(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function nr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ta(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ir(){var e=it.p;return e!==0?e:(e=window.event,e===void 0?32:C_(e.type))}function su(e,i){var a=it.p;try{return it.p=e,i()}finally{it.p=a}}var re=Math.random().toString(36).slice(2),Se="__reactFiber$"+re,pe="__reactProps$"+re,Tn="__reactContainer$"+re,Ao="__reactEvents$"+re,Uh="__reactListeners$"+re,rr="__reactHandles$"+re,au="__reactResources$"+re,ss="__reactMarker$"+re;function sr(e){delete e[Se],delete e[pe],delete e[Ao],delete e[Uh],delete e[rr]}function wi(e){var i=e[Se];if(i)return i;for(var a=e.parentNode;a;){if(i=a[Tn]||a[Se]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=d_(e);e!==null;){if(a=e[Se])return a;e=d_(e)}return i}e=a,a=e.parentNode}return null}function Wn(e){if(e=e[Se]||e[Tn]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function Zn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function tn(e){var i=e[au];return i||(i=e[au]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function fe(e){e[ss]=!0}var So=new Set,ea={};function Ln(e,i){Ri(e,i),Ri(e+"Capture",i)}function Ri(e,i){for(ea[e]=i,e=0;e<i.length;e++)So.add(i[e])}var ou=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lu={},as={};function uu(e){return Wr.call(as,e)?!0:Wr.call(lu,e)?!1:ou.test(e)?as[e]=!0:(lu[e]=!0,!1)}function ar(e,i,a){if(uu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function Jn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Le(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}var os,cu;function Ii(e){if(os===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);os=i&&i[1]||"",cu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+os+e+cu}var na=!1;function ia(e,i){if(!e||na)return"";na=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(j){var q=j}Reflect.construct(e,[],W)}else{try{W.call()}catch(j){q=j}e.call(W.prototype)}}else{try{throw Error()}catch(j){q=j}(W=e())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(j){if(j&&q&&typeof j.stack=="string")return[j.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],E=d[1];if(v&&E){var I=v.split(`
`),B=E.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===B.length)for(l=I.length-1,h=B.length-1;1<=l&&0<=h&&I[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==B[h]){var G=`
`+I[l].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=l&&0<=h);break}}}finally{na=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ii(a):""}function bo(e){switch(e.tag){case 26:case 27:case 5:return Ii(e.type);case 16:return Ii("Lazy");case 13:return Ii("Suspense");case 19:return Ii("SuspenseList");case 0:case 15:return ia(e.type,!1);case 11:return ia(e.type.render,!1);case 1:return ia(e.type,!0);case 31:return Ii("Activity");default:return""}}function ra(e){try{var i="";do i+=bo(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function en(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function wo(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Lh(e){var i=wo(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),l=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function sa(e){e._valueTracker||(e._valueTracker=Lh(e))}function Ro(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=wo(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function ls(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var zh=/[\n"\\]/g;function ye(e){return e.replace(zh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function hn(e,i,a,l,h,d,v,E){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+en(i)):e.value!==""+en(i)&&(e.value=""+en(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?or(e,v,en(i)):a!=null?or(e,v,en(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+en(E):e.removeAttribute("name")}function us(e,i,a,l,h,d,v,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+en(a):"",i=i!=null?""+en(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function or(e,i,a){i==="number"&&ls(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ci(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+en(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Xt(e,i,a){if(i!=null&&(i=""+en(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+en(a):""}function cs(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(le(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=en(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function An(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var hs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hu(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||hs.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Io(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&hu(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&hu(e,d,i[d])}function Co(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function aa(e){return qh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Di=null;function Sn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Oi=null,Ni=null;function Do(e){var i=Wn(e);if(i&&(e=i.stateNode)){var a=e[pe]||null;t:switch(e=i.stateNode,i.type){case"input":if(hn(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ye(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[pe]||null;if(!h)throw Error(s(90));hn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&Ro(l)}break t;case"textarea":Xt(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Ci(e,!!a.multiple,i,!1)}}}var ti=!1;function fu(e,i,a){if(ti)return e(i,a);ti=!0;try{var l=e(i);return l}finally{if(ti=!1,(Oi!==null||Ni!==null)&&(sc(),Oi&&(i=Oi,e=Ni,Ni=Oi=null,Do(i),e)))for(i=0;i<e.length;i++)Do(e[i])}}function fs(e,i){var a=e.stateNode;if(a===null)return null;var l=a[pe]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bn=!1;if(zn)try{var ds={};Object.defineProperty(ds,"passive",{get:function(){bn=!0}}),window.addEventListener("test",ds,ds),window.removeEventListener("test",ds,ds)}catch{bn=!1}var ei=null,lr=null,Vi=null;function Oo(){if(Vi)return Vi;var e,i=lr,a=i.length,l,h="value"in ei?ei.value:ei.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Vi=h.slice(e,1<l?1-l:void 0)}function ni(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function ii(){return!0}function No(){return!1}function Oe(e){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ii:No,this.isPropagationStopped=No,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ii)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ii)},persist:function(){},isPersistent:ii}),i}var Ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oa=Oe(Ht),ms=T({},Ht,{view:0,detail:0}),du=Oe(ms),la,ua,ri,gs=T({},ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_s,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ri&&(ri&&e.type==="mousemove"?(la=e.screenX-ri.screenX,ua=e.screenY-ri.screenY):ua=la=0,ri=e),la)},movementY:function(e){return"movementY"in e?e.movementY:ua}}),wn=Oe(gs),mu=T({},gs,{dataTransfer:0}),jh=Oe(mu),ps=T({},ms,{relatedTarget:0}),ca=Oe(ps),Vo=T({},Ht,{animationName:0,elapsedTime:0,pseudoElement:0}),ha=Oe(Vo),gu=T({},Ht,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fa=Oe(gu),Hh=T({},Ht,{data:0}),Mo=Oe(Hh),ys={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ko(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=yu[e])?!!i[e]:!1}function _s(){return ko}var _u=T({},ms,{key:function(e){if(e.key){var i=ys[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=ni(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_s,charCode:function(e){return e.type==="keypress"?ni(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ni(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),da=Oe(_u),vu=T({},gs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Po=Oe(vu),Mi=T({},ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_s}),Eu=Oe(Mi),Tu=T({},Ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),Au=Oe(Tu),Su=T({},gs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ma=Oe(Su),nn=T({},Ht,{newState:0,oldState:0}),bu=Oe(nn),wu=[9,13,27,32],si=zn&&"CompositionEvent"in window,c=null;zn&&"documentMode"in document&&(c=document.documentMode);var g=zn&&"TextEvent"in window&&!c,_=zn&&(!si||c&&8<c&&11>=c),A=" ",U=!1;function H(e,i){switch(e){case"keyup":return wu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xt=!1;function be(e,i){switch(e){case"compositionend":return nt(i);case"keypress":return i.which!==32?null:(U=!0,A);case"textInput":return e=i.data,e===A&&U?null:e;default:return null}}function Ut(e,i){if(xt)return e==="compositionend"||!si&&H(e,i)?(e=Oo(),Vi=lr=ei=null,xt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Ne={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function we(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Ne[e.type]:i==="textarea"}function ki(e,i,a,l){Oi?Ni?Ni.push(l):Ni=[l]:Oi=l,i=hc(i,"onChange"),0<i.length&&(a=new oa("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var ze=null,ai=null;function xo(e){i_(e,0)}function Ru(e){var i=Zn(e);if(Ro(i))return e}function bg(e,i){if(e==="change")return i}var wg=!1;if(zn){var Fh;if(zn){var Gh="oninput"in document;if(!Gh){var Rg=document.createElement("div");Rg.setAttribute("oninput","return;"),Gh=typeof Rg.oninput=="function"}Fh=Gh}else Fh=!1;wg=Fh&&(!document.documentMode||9<document.documentMode)}function Ig(){ze&&(ze.detachEvent("onpropertychange",Cg),ai=ze=null)}function Cg(e){if(e.propertyName==="value"&&Ru(ai)){var i=[];ki(i,ai,e,Sn(e)),fu(xo,i)}}function IA(e,i,a){e==="focusin"?(Ig(),ze=i,ai=a,ze.attachEvent("onpropertychange",Cg)):e==="focusout"&&Ig()}function CA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ru(ai)}function DA(e,i){if(e==="click")return Ru(i)}function OA(e,i){if(e==="input"||e==="change")return Ru(i)}function NA(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var fn=typeof Object.is=="function"?Object.is:NA;function Uo(e,i){if(fn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Wr.call(i,h)||!fn(e[h],i[h]))return!1}return!0}function Dg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Og(e,i){var a=Dg(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Dg(a)}}function Ng(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Ng(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Vg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=ls(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=ls(e.document)}return i}function Kh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var VA=zn&&"documentMode"in document&&11>=document.documentMode,ga=null,Qh=null,Lo=null,Yh=!1;function Mg(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Yh||ga==null||ga!==ls(l)||(l=ga,"selectionStart"in l&&Kh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Lo&&Uo(Lo,l)||(Lo=l,l=hc(Qh,"onSelect"),0<l.length&&(i=new oa("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=ga)))}function vs(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var pa={animationend:vs("Animation","AnimationEnd"),animationiteration:vs("Animation","AnimationIteration"),animationstart:vs("Animation","AnimationStart"),transitionrun:vs("Transition","TransitionRun"),transitionstart:vs("Transition","TransitionStart"),transitioncancel:vs("Transition","TransitionCancel"),transitionend:vs("Transition","TransitionEnd")},Xh={},kg={};zn&&(kg=document.createElement("div").style,"AnimationEvent"in window||(delete pa.animationend.animation,delete pa.animationiteration.animation,delete pa.animationstart.animation),"TransitionEvent"in window||delete pa.transitionend.transition);function Es(e){if(Xh[e])return Xh[e];if(!pa[e])return e;var i=pa[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in kg)return Xh[e]=i[a];return e}var Pg=Es("animationend"),xg=Es("animationiteration"),Ug=Es("animationstart"),MA=Es("transitionrun"),kA=Es("transitionstart"),PA=Es("transitioncancel"),Lg=Es("transitionend"),zg=new Map,$h="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$h.push("scrollEnd");function Bn(e,i){zg.set(e,i),Ln(i,[e])}var Bg=new WeakMap;function Rn(e,i){if(typeof e=="object"&&e!==null){var a=Bg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:ra(i)},Bg.set(e,i),i)}return{value:e,source:i,stack:ra(i)}}var In=[],ya=0,Wh=0;function Iu(){for(var e=ya,i=Wh=ya=0;i<e;){var a=In[i];In[i++]=null;var l=In[i];In[i++]=null;var h=In[i];In[i++]=null;var d=In[i];if(In[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&qg(a,h,d)}}function Cu(e,i,a,l){In[ya++]=e,In[ya++]=i,In[ya++]=a,In[ya++]=l,Wh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Zh(e,i,a,l){return Cu(e,i,a,l),Du(e)}function _a(e,i){return Cu(e,null,null,i),Du(e)}function qg(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-Qe(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Du(e){if(50<ul)throw ul=0,sd=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var va={};function xA(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(e,i,a,l){return new xA(e,i,a,l)}function Jh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Pi(e,i){var a=e.alternate;return a===null?(a=dn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function jg(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Ou(e,i,a,l,h,d){var v=0;if(l=e,typeof e=="function")Jh(e)&&(v=1);else if(typeof e=="string")v=LS(e,a,yt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case w:return e=dn(31,a,i,h),e.elementType=w,e.lanes=d,e;case X:return Ts(a.children,h,d,i);case tt:v=8,h|=24;break;case K:return e=dn(12,a,i,h|2),e.elementType=K,e.lanes=d,e;case st:return e=dn(13,a,i,h),e.elementType=st,e.lanes=d,e;case ft:return e=dn(19,a,i,h),e.elementType=ft,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case pt:case Q:v=10;break t;case ht:v=9;break t;case ut:v=11;break t;case V:v=14;break t;case b:v=16,l=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=dn(v,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function Ts(e,i,a,l){return e=dn(7,e,l,i),e.lanes=a,e}function tf(e,i,a){return e=dn(6,e,null,i),e.lanes=a,e}function ef(e,i,a){return i=dn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Ea=[],Ta=0,Nu=null,Vu=0,Cn=[],Dn=0,As=null,xi=1,Ui="";function Ss(e,i){Ea[Ta++]=Vu,Ea[Ta++]=Nu,Nu=e,Vu=i}function Hg(e,i,a){Cn[Dn++]=xi,Cn[Dn++]=Ui,Cn[Dn++]=As,As=e;var l=xi;e=Ui;var h=32-Qe(l)-1;l&=~(1<<h),a+=1;var d=32-Qe(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,xi=1<<32-Qe(i)+h|a<<h|l,Ui=d+e}else xi=1<<d|a<<h|l,Ui=e}function nf(e){e.return!==null&&(Ss(e,1),Hg(e,1,0))}function rf(e){for(;e===Nu;)Nu=Ea[--Ta],Ea[Ta]=null,Vu=Ea[--Ta],Ea[Ta]=null;for(;e===As;)As=Cn[--Dn],Cn[Dn]=null,Ui=Cn[--Dn],Cn[Dn]=null,xi=Cn[--Dn],Cn[Dn]=null}var rn=null,ce=null,jt=!1,bs=null,oi=!1,sf=Error(s(519));function ws(e){var i=Error(s(418,""));throw qo(Rn(i,e)),sf}function Fg(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[Se]=e,i[pe]=l,a){case"dialog":Mt("cancel",i),Mt("close",i);break;case"iframe":case"object":case"embed":Mt("load",i);break;case"video":case"audio":for(a=0;a<hl.length;a++)Mt(hl[a],i);break;case"source":Mt("error",i);break;case"img":case"image":case"link":Mt("error",i),Mt("load",i);break;case"details":Mt("toggle",i);break;case"input":Mt("invalid",i),us(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),sa(i);break;case"select":Mt("invalid",i);break;case"textarea":Mt("invalid",i),cs(i,l.value,l.defaultValue,l.children),sa(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||o_(i.textContent,a)?(l.popover!=null&&(Mt("beforetoggle",i),Mt("toggle",i)),l.onScroll!=null&&Mt("scroll",i),l.onScrollEnd!=null&&Mt("scrollend",i),l.onClick!=null&&(i.onclick=fc),i=!0):i=!1,i||ws(e)}function Gg(e){for(rn=e.return;rn;)switch(rn.tag){case 5:case 13:oi=!1;return;case 27:case 3:oi=!0;return;default:rn=rn.return}}function zo(e){if(e!==rn)return!1;if(!jt)return Gg(e),jt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Td(e.type,e.memoizedProps)),a=!a),a&&ce&&ws(e),Gg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){ce=jn(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}ce=null}}else i===27?(i=ce,br(e.type)?(e=wd,wd=null,ce=e):ce=i):ce=rn?jn(e.stateNode.nextSibling):null;return!0}function Bo(){ce=rn=null,jt=!1}function Kg(){var e=bs;return e!==null&&(on===null?on=e:on.push.apply(on,e),bs=null),e}function qo(e){bs===null?bs=[e]:bs.push(e)}var af=J(null),Rs=null,Li=null;function ur(e,i,a){et(af,i._currentValue),i._currentValue=a}function zi(e){e._currentValue=af.current,rt(af)}function of(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function lf(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var E=d;d=h;for(var I=0;I<i.length;I++)if(E.context===i[I]){d.lanes|=a,E=d.alternate,E!==null&&(E.lanes|=a),of(d.return,a,e),l||(v=null);break t}d=E.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),of(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function jo(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=h.type;fn(h.pendingProps.value,v.value)||(e!==null?e.push(E):e=[E])}}else if(h===De.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(yl):e=[yl])}h=h.return}e!==null&&lf(i,e,a,l),i.flags|=262144}function Mu(e){for(e=e.firstContext;e!==null;){if(!fn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Is(e){Rs=e,Li=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ye(e){return Qg(Rs,e)}function ku(e,i){return Rs===null&&Is(e),Qg(e,i)}function Qg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Li===null){if(e===null)throw Error(s(308));Li=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Li=Li.next=i;return a}var UA=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},LA=r.unstable_scheduleCallback,zA=r.unstable_NormalPriority,Re={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uf(){return{controller:new UA,data:new Map,refCount:0}}function Ho(e){e.refCount--,e.refCount===0&&LA(zA,function(){e.controller.abort()})}var Fo=null,cf=0,Aa=0,Sa=null;function BA(e,i){if(Fo===null){var a=Fo=[];cf=0,Aa=fd(),Sa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return cf++,i.then(Yg,Yg),i}function Yg(){if(--cf===0&&Fo!==null){Sa!==null&&(Sa.status="fulfilled");var e=Fo;Fo=null,Aa=0,Sa=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function qA(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Xg=F.S;F.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&BA(e,i),Xg!==null&&Xg(e,i)};var Cs=J(null);function hf(){var e=Cs.current;return e!==null?e:ee.pooledCache}function Pu(e,i){i===null?et(Cs,Cs.current):et(Cs,i.pool)}function $g(){var e=hf();return e===null?null:{parent:Re._currentValue,pool:e}}var Go=Error(s(460)),Wg=Error(s(474)),xu=Error(s(542)),ff={then:function(){}};function Zg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Uu(){}function Jg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Uu,Uu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,ep(e),e;default:if(typeof i.status=="string")i.then(Uu,Uu);else{if(e=ee,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,ep(e),e}throw Ko=i,Go}}var Ko=null;function tp(){if(Ko===null)throw Error(s(459));var e=Ko;return Ko=null,e}function ep(e){if(e===Go||e===xu)throw Error(s(483))}var cr=!1;function df(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function hr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function fr(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Kt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Du(e),qg(e,null,a),i}return Cu(e,l,i,a),Du(e)}function Qo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,To(e,a)}}function gf(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var pf=!1;function Yo(){if(pf){var e=Sa;if(e!==null)throw e}}function Xo(e,i,a,l){pf=!1;var h=e.updateQueue;cr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,B=I.next;I.next=null,v===null?d=B:v.next=B,v=I;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==v&&(E===null?G.firstBaseUpdate=B:E.next=B,G.lastBaseUpdate=I))}if(d!==null){var W=h.baseState;v=0,G=B=I=null,E=d;do{var q=E.lane&-536870913,j=q!==E.lane;if(j?(Lt&q)===q:(l&q)===q){q!==0&&q===Aa&&(pf=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var St=e,vt=E;q=i;var Zt=a;switch(vt.tag){case 1:if(St=vt.payload,typeof St=="function"){W=St.call(Zt,W,q);break t}W=St;break t;case 3:St.flags=St.flags&-65537|128;case 0:if(St=vt.payload,q=typeof St=="function"?St.call(Zt,W,q):St,q==null)break t;W=T({},W,q);break t;case 2:cr=!0}}q=E.callback,q!==null&&(e.flags|=64,j&&(e.flags|=8192),j=h.callbacks,j===null?h.callbacks=[q]:j.push(q))}else j={lane:q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(B=G=j,I=W):G=G.next=j,v|=q;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;j=E,E=j.next,j.next=null,h.lastBaseUpdate=j,h.shared.pending=null}}while(!0);G===null&&(I=W),h.baseState=I,h.firstBaseUpdate=B,h.lastBaseUpdate=G,d===null&&(h.shared.lanes=0),Er|=v,e.lanes=v,e.memoizedState=W}}function np(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function ip(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)np(a[e],i)}var ba=J(null),Lu=J(0);function rp(e,i){e=Ki,et(Lu,e),et(ba,i),Ki=e|i.baseLanes}function yf(){et(Lu,Ki),et(ba,ba.current)}function _f(){Ki=Lu.current,rt(ba),rt(Lu)}var dr=0,Ct=null,$t=null,_e=null,zu=!1,wa=!1,Ds=!1,Bu=0,$o=0,Ra=null,jA=0;function de(){throw Error(s(321))}function vf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!fn(e[a],i[a]))return!1;return!0}function Ef(e,i,a,l,h,d){return dr=d,Ct=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,F.H=e===null||e.memoizedState===null?qp:jp,Ds=!1,d=a(l,h),Ds=!1,wa&&(d=ap(i,a,l,h)),sp(e),d}function sp(e){F.H=Ku;var i=$t!==null&&$t.next!==null;if(dr=0,_e=$t=Ct=null,zu=!1,$o=0,Ra=null,i)throw Error(s(300));e===null||Ve||(e=e.dependencies,e!==null&&Mu(e)&&(Ve=!0))}function ap(e,i,a,l){Ct=e;var h=0;do{if(wa&&(Ra=null),$o=0,wa=!1,25<=h)throw Error(s(301));if(h+=1,_e=$t=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}F.H=XA,d=i(a,l)}while(wa);return d}function HA(){var e=F.H,i=e.useState()[0];return i=typeof i.then=="function"?Wo(i):i,e=e.useState()[0],($t!==null?$t.memoizedState:null)!==e&&(Ct.flags|=1024),i}function Tf(){var e=Bu!==0;return Bu=0,e}function Af(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Sf(e){if(zu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}zu=!1}dr=0,_e=$t=Ct=null,wa=!1,$o=Bu=0,Ra=null}function sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?Ct.memoizedState=_e=e:_e=_e.next=e,_e}function ve(){if($t===null){var e=Ct.alternate;e=e!==null?e.memoizedState:null}else e=$t.next;var i=_e===null?Ct.memoizedState:_e.next;if(i!==null)_e=i,$t=e;else{if(e===null)throw Ct.alternate===null?Error(s(467)):Error(s(310));$t=e,e={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},_e===null?Ct.memoizedState=_e=e:_e=_e.next=e}return _e}function bf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wo(e){var i=$o;return $o+=1,Ra===null&&(Ra=[]),e=Jg(Ra,e,i),i=Ct,(_e===null?i.memoizedState:_e.next)===null&&(i=i.alternate,F.H=i===null||i.memoizedState===null?qp:jp),e}function qu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Wo(e);if(e.$$typeof===Q)return Ye(e)}throw Error(s(438,String(e)))}function wf(e){var i=null,a=Ct.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ct.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=bf(),Ct.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=O;return i.index++,a}function Bi(e,i){return typeof i=="function"?i(e):i}function ju(e){var i=ve();return Rf(i,$t,e)}function Rf(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var E=v=null,I=null,B=i,G=!1;do{var W=B.lane&-536870913;if(W!==B.lane?(Lt&W)===W:(dr&W)===W){var q=B.revertLane;if(q===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),W===Aa&&(G=!0);else if((dr&q)===q){B=B.next,q===Aa&&(G=!0);continue}else W={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(E=I=W,v=d):I=I.next=W,Ct.lanes|=q,Er|=q;W=B.action,Ds&&a(d,W),d=B.hasEagerState?B.eagerState:a(d,W)}else q={lane:W,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(E=I=q,v=d):I=I.next=q,Ct.lanes|=W,Er|=W;B=B.next}while(B!==null&&B!==i);if(I===null?v=d:I.next=E,!fn(d,e.memoizedState)&&(Ve=!0,G&&(a=Sa,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function If(e){var i=ve(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);fn(d,i.memoizedState)||(Ve=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function op(e,i,a){var l=Ct,h=ve(),d=jt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!fn(($t||h).memoizedState,a);v&&(h.memoizedState=a,Ve=!0),h=h.queue;var E=cp.bind(null,l,h,e);if(Zo(2048,8,E,[e]),h.getSnapshot!==i||v||_e!==null&&_e.memoizedState.tag&1){if(l.flags|=2048,Ia(9,Hu(),up.bind(null,l,h,a,i),null),ee===null)throw Error(s(349));d||(dr&124)!==0||lp(l,i,a)}return a}function lp(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Ct.updateQueue,i===null?(i=bf(),Ct.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function up(e,i,a,l){i.value=a,i.getSnapshot=l,hp(i)&&fp(e)}function cp(e,i,a){return a(function(){hp(i)&&fp(e)})}function hp(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!fn(e,a)}catch{return!0}}function fp(e){var i=_a(e,2);i!==null&&_n(i,e,2)}function Cf(e){var i=sn();if(typeof e=="function"){var a=e;if(e=a(),Ds){cn(!0);try{a()}finally{cn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:e},i}function dp(e,i,a,l){return e.baseState=a,Rf(e,$t,typeof l=="function"?l:Bi)}function FA(e,i,a,l,h){if(Gu(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};F.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,mp(i,d)):(d.next=a.next,i.pending=a.next=d)}}function mp(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=F.T,v={};F.T=v;try{var E=a(h,l),I=F.S;I!==null&&I(v,E),gp(e,i,E)}catch(B){Df(e,i,B)}finally{F.T=d}}else try{d=a(h,l),gp(e,i,d)}catch(B){Df(e,i,B)}}function gp(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){pp(e,i,l)},function(l){return Df(e,i,l)}):pp(e,i,a)}function pp(e,i,a){i.status="fulfilled",i.value=a,yp(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,mp(e,a)))}function Df(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,yp(i),i=i.next;while(i!==l)}e.action=null}function yp(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function _p(e,i){return i}function vp(e,i){if(jt){var a=ee.formState;if(a!==null){t:{var l=Ct;if(jt){if(ce){e:{for(var h=ce,d=oi;h.nodeType!==8;){if(!d){h=null;break e}if(h=jn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ce=jn(h.nextSibling),l=h.data==="F!";break t}}ws(l)}l=!1}l&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_p,lastRenderedState:i},a.queue=l,a=Lp.bind(null,Ct,l),l.dispatch=a,l=Cf(!1),d=kf.bind(null,Ct,!1,l.queue),l=sn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=FA.bind(null,Ct,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function Ep(e){var i=ve();return Tp(i,$t,e)}function Tp(e,i,a){if(i=Rf(e,i,_p)[0],e=ju(Bi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Wo(i)}catch(v){throw v===Go?xu:v}else l=i;i=ve();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ct.flags|=2048,Ia(9,Hu(),GA.bind(null,h,a),null)),[l,d,e]}function GA(e,i){e.action=i}function Ap(e){var i=ve(),a=$t;if(a!==null)return Tp(i,a,e);ve(),i=i.memoizedState,a=ve();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function Ia(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=Ct.updateQueue,i===null&&(i=bf(),Ct.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function Hu(){return{destroy:void 0,resource:void 0}}function Sp(){return ve().memoizedState}function Fu(e,i,a,l){var h=sn();l=l===void 0?null:l,Ct.flags|=e,h.memoizedState=Ia(1|i,Hu(),a,l)}function Zo(e,i,a,l){var h=ve();l=l===void 0?null:l;var d=h.memoizedState.inst;$t!==null&&l!==null&&vf(l,$t.memoizedState.deps)?h.memoizedState=Ia(i,d,a,l):(Ct.flags|=e,h.memoizedState=Ia(1|i,d,a,l))}function bp(e,i){Fu(8390656,8,e,i)}function wp(e,i){Zo(2048,8,e,i)}function Rp(e,i){return Zo(4,2,e,i)}function Ip(e,i){return Zo(4,4,e,i)}function Cp(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Dp(e,i,a){a=a!=null?a.concat([e]):null,Zo(4,4,Cp.bind(null,i,e),a)}function Of(){}function Op(e,i){var a=ve();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&vf(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function Np(e,i){var a=ve();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&vf(i,l[1]))return l[0];if(l=e(),Ds){cn(!0);try{e()}finally{cn(!1)}}return a.memoizedState=[l,i],l}function Nf(e,i,a){return a===void 0||(dr&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=ky(),Ct.lanes|=e,Er|=e,a)}function Vp(e,i,a,l){return fn(a,i)?a:ba.current!==null?(e=Nf(e,a,l),fn(e,i)||(Ve=!0),e):(dr&42)===0?(Ve=!0,e.memoizedState=a):(e=ky(),Ct.lanes|=e,Er|=e,i)}function Mp(e,i,a,l,h){var d=it.p;it.p=d!==0&&8>d?d:8;var v=F.T,E={};F.T=E,kf(e,!1,i,a);try{var I=h(),B=F.S;if(B!==null&&B(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var G=qA(I,l);Jo(e,i,G,yn(e))}else Jo(e,i,l,yn(e))}catch(W){Jo(e,i,{then:function(){},status:"rejected",reason:W},yn())}finally{it.p=d,F.T=v}}function KA(){}function Vf(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=kp(e).queue;Mp(e,h,i,mt,a===null?KA:function(){return Pp(e),a(l)})}function kp(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:mt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Pp(e){var i=kp(e).next.queue;Jo(e,i,{},yn())}function Mf(){return Ye(yl)}function xp(){return ve().memoizedState}function Up(){return ve().memoizedState}function QA(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=yn();e=hr(a);var l=fr(i,e,a);l!==null&&(_n(l,i,a),Qo(l,i,a)),i={cache:uf()},e.payload=i;return}i=i.return}}function YA(e,i,a){var l=yn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Gu(e)?zp(i,a):(a=Zh(e,i,a,l),a!==null&&(_n(a,e,l),Bp(a,i,l)))}function Lp(e,i,a){var l=yn();Jo(e,i,a,l)}function Jo(e,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Gu(e))zp(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,E=d(v,a);if(h.hasEagerState=!0,h.eagerState=E,fn(E,v))return Cu(e,i,h,0),ee===null&&Iu(),!1}catch{}finally{}if(a=Zh(e,i,h,l),a!==null)return _n(a,e,l),Bp(a,i,l),!0}return!1}function kf(e,i,a,l){if(l={lane:2,revertLane:fd(),action:l,hasEagerState:!1,eagerState:null,next:null},Gu(e)){if(i)throw Error(s(479))}else i=Zh(e,a,l,2),i!==null&&_n(i,e,2)}function Gu(e){var i=e.alternate;return e===Ct||i!==null&&i===Ct}function zp(e,i){wa=zu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function Bp(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,To(e,a)}}var Ku={readContext:Ye,use:qu,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de},qp={readContext:Ye,use:qu,useCallback:function(e,i){return sn().memoizedState=[e,i===void 0?null:i],e},useContext:Ye,useEffect:bp,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Fu(4194308,4,Cp.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Fu(4194308,4,e,i)},useInsertionEffect:function(e,i){Fu(4,2,e,i)},useMemo:function(e,i){var a=sn();i=i===void 0?null:i;var l=e();if(Ds){cn(!0);try{e()}finally{cn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=sn();if(a!==void 0){var h=a(i);if(Ds){cn(!0);try{a(i)}finally{cn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=YA.bind(null,Ct,e),[l.memoizedState,e]},useRef:function(e){var i=sn();return e={current:e},i.memoizedState=e},useState:function(e){e=Cf(e);var i=e.queue,a=Lp.bind(null,Ct,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Of,useDeferredValue:function(e,i){var a=sn();return Nf(a,e,i)},useTransition:function(){var e=Cf(!1);return e=Mp.bind(null,Ct,e.queue,!0,!1),sn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=Ct,h=sn();if(jt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),ee===null)throw Error(s(349));(Lt&124)!==0||lp(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,bp(cp.bind(null,l,d,e),[e]),l.flags|=2048,Ia(9,Hu(),up.bind(null,l,d,a,i),null),a},useId:function(){var e=sn(),i=ee.identifierPrefix;if(jt){var a=Ui,l=xi;a=(l&~(1<<32-Qe(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=Bu++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=jA++,i="«"+i+"r"+a.toString(32)+"»";return e.memoizedState=i},useHostTransitionStatus:Mf,useFormState:vp,useActionState:vp,useOptimistic:function(e){var i=sn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=kf.bind(null,Ct,!0,a),a.dispatch=i,[e,i]},useMemoCache:wf,useCacheRefresh:function(){return sn().memoizedState=QA.bind(null,Ct)}},jp={readContext:Ye,use:qu,useCallback:Op,useContext:Ye,useEffect:wp,useImperativeHandle:Dp,useInsertionEffect:Rp,useLayoutEffect:Ip,useMemo:Np,useReducer:ju,useRef:Sp,useState:function(){return ju(Bi)},useDebugValue:Of,useDeferredValue:function(e,i){var a=ve();return Vp(a,$t.memoizedState,e,i)},useTransition:function(){var e=ju(Bi)[0],i=ve().memoizedState;return[typeof e=="boolean"?e:Wo(e),i]},useSyncExternalStore:op,useId:xp,useHostTransitionStatus:Mf,useFormState:Ep,useActionState:Ep,useOptimistic:function(e,i){var a=ve();return dp(a,$t,e,i)},useMemoCache:wf,useCacheRefresh:Up},XA={readContext:Ye,use:qu,useCallback:Op,useContext:Ye,useEffect:wp,useImperativeHandle:Dp,useInsertionEffect:Rp,useLayoutEffect:Ip,useMemo:Np,useReducer:If,useRef:Sp,useState:function(){return If(Bi)},useDebugValue:Of,useDeferredValue:function(e,i){var a=ve();return $t===null?Nf(a,e,i):Vp(a,$t.memoizedState,e,i)},useTransition:function(){var e=If(Bi)[0],i=ve().memoizedState;return[typeof e=="boolean"?e:Wo(e),i]},useSyncExternalStore:op,useId:xp,useHostTransitionStatus:Mf,useFormState:Ap,useActionState:Ap,useOptimistic:function(e,i){var a=ve();return $t!==null?dp(a,$t,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:wf,useCacheRefresh:Up},Ca=null,tl=0;function Qu(e){var i=tl;return tl+=1,Ca===null&&(Ca=[]),Jg(Ca,e,i)}function el(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Yu(e,i){throw i.$$typeof===R?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Hp(e){var i=e._init;return i(e._payload)}function Fp(e){function i(P,M){if(e){var L=P.deletions;L===null?(P.deletions=[M],P.flags|=16):L.push(M)}}function a(P,M){if(!e)return null;for(;M!==null;)i(P,M),M=M.sibling;return null}function l(P){for(var M=new Map;P!==null;)P.key!==null?M.set(P.key,P):M.set(P.index,P),P=P.sibling;return M}function h(P,M){return P=Pi(P,M),P.index=0,P.sibling=null,P}function d(P,M,L){return P.index=L,e?(L=P.alternate,L!==null?(L=L.index,L<M?(P.flags|=67108866,M):L):(P.flags|=67108866,M)):(P.flags|=1048576,M)}function v(P){return e&&P.alternate===null&&(P.flags|=67108866),P}function E(P,M,L,Y){return M===null||M.tag!==6?(M=tf(L,P.mode,Y),M.return=P,M):(M=h(M,L),M.return=P,M)}function I(P,M,L,Y){var ct=L.type;return ct===X?G(P,M,L.props.children,Y,L.key):M!==null&&(M.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===b&&Hp(ct)===M.type)?(M=h(M,L.props),el(M,L),M.return=P,M):(M=Ou(L.type,L.key,L.props,null,P.mode,Y),el(M,L),M.return=P,M)}function B(P,M,L,Y){return M===null||M.tag!==4||M.stateNode.containerInfo!==L.containerInfo||M.stateNode.implementation!==L.implementation?(M=ef(L,P.mode,Y),M.return=P,M):(M=h(M,L.children||[]),M.return=P,M)}function G(P,M,L,Y,ct){return M===null||M.tag!==7?(M=Ts(L,P.mode,Y,ct),M.return=P,M):(M=h(M,L),M.return=P,M)}function W(P,M,L){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=tf(""+M,P.mode,L),M.return=P,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case C:return L=Ou(M.type,M.key,M.props,null,P.mode,L),el(L,M),L.return=P,L;case z:return M=ef(M,P.mode,L),M.return=P,M;case b:var Y=M._init;return M=Y(M._payload),W(P,M,L)}if(le(M)||x(M))return M=Ts(M,P.mode,L,null),M.return=P,M;if(typeof M.then=="function")return W(P,Qu(M),L);if(M.$$typeof===Q)return W(P,ku(P,M),L);Yu(P,M)}return null}function q(P,M,L,Y){var ct=M!==null?M.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ct!==null?null:E(P,M,""+L,Y);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case C:return L.key===ct?I(P,M,L,Y):null;case z:return L.key===ct?B(P,M,L,Y):null;case b:return ct=L._init,L=ct(L._payload),q(P,M,L,Y)}if(le(L)||x(L))return ct!==null?null:G(P,M,L,Y,null);if(typeof L.then=="function")return q(P,M,Qu(L),Y);if(L.$$typeof===Q)return q(P,M,ku(P,L),Y);Yu(P,L)}return null}function j(P,M,L,Y,ct){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return P=P.get(L)||null,E(M,P,""+Y,ct);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case C:return P=P.get(Y.key===null?L:Y.key)||null,I(M,P,Y,ct);case z:return P=P.get(Y.key===null?L:Y.key)||null,B(M,P,Y,ct);case b:var Nt=Y._init;return Y=Nt(Y._payload),j(P,M,L,Y,ct)}if(le(Y)||x(Y))return P=P.get(L)||null,G(M,P,Y,ct,null);if(typeof Y.then=="function")return j(P,M,L,Qu(Y),ct);if(Y.$$typeof===Q)return j(P,M,L,ku(M,Y),ct);Yu(M,Y)}return null}function St(P,M,L,Y){for(var ct=null,Nt=null,dt=M,Et=M=0,ke=null;dt!==null&&Et<L.length;Et++){dt.index>Et?(ke=dt,dt=null):ke=dt.sibling;var Bt=q(P,dt,L[Et],Y);if(Bt===null){dt===null&&(dt=ke);break}e&&dt&&Bt.alternate===null&&i(P,dt),M=d(Bt,M,Et),Nt===null?ct=Bt:Nt.sibling=Bt,Nt=Bt,dt=ke}if(Et===L.length)return a(P,dt),jt&&Ss(P,Et),ct;if(dt===null){for(;Et<L.length;Et++)dt=W(P,L[Et],Y),dt!==null&&(M=d(dt,M,Et),Nt===null?ct=dt:Nt.sibling=dt,Nt=dt);return jt&&Ss(P,Et),ct}for(dt=l(dt);Et<L.length;Et++)ke=j(dt,P,Et,L[Et],Y),ke!==null&&(e&&ke.alternate!==null&&dt.delete(ke.key===null?Et:ke.key),M=d(ke,M,Et),Nt===null?ct=ke:Nt.sibling=ke,Nt=ke);return e&&dt.forEach(function(Dr){return i(P,Dr)}),jt&&Ss(P,Et),ct}function vt(P,M,L,Y){if(L==null)throw Error(s(151));for(var ct=null,Nt=null,dt=M,Et=M=0,ke=null,Bt=L.next();dt!==null&&!Bt.done;Et++,Bt=L.next()){dt.index>Et?(ke=dt,dt=null):ke=dt.sibling;var Dr=q(P,dt,Bt.value,Y);if(Dr===null){dt===null&&(dt=ke);break}e&&dt&&Dr.alternate===null&&i(P,dt),M=d(Dr,M,Et),Nt===null?ct=Dr:Nt.sibling=Dr,Nt=Dr,dt=ke}if(Bt.done)return a(P,dt),jt&&Ss(P,Et),ct;if(dt===null){for(;!Bt.done;Et++,Bt=L.next())Bt=W(P,Bt.value,Y),Bt!==null&&(M=d(Bt,M,Et),Nt===null?ct=Bt:Nt.sibling=Bt,Nt=Bt);return jt&&Ss(P,Et),ct}for(dt=l(dt);!Bt.done;Et++,Bt=L.next())Bt=j(dt,P,Et,Bt.value,Y),Bt!==null&&(e&&Bt.alternate!==null&&dt.delete(Bt.key===null?Et:Bt.key),M=d(Bt,M,Et),Nt===null?ct=Bt:Nt.sibling=Bt,Nt=Bt);return e&&dt.forEach(function($S){return i(P,$S)}),jt&&Ss(P,Et),ct}function Zt(P,M,L,Y){if(typeof L=="object"&&L!==null&&L.type===X&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case C:t:{for(var ct=L.key;M!==null;){if(M.key===ct){if(ct=L.type,ct===X){if(M.tag===7){a(P,M.sibling),Y=h(M,L.props.children),Y.return=P,P=Y;break t}}else if(M.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===b&&Hp(ct)===M.type){a(P,M.sibling),Y=h(M,L.props),el(Y,L),Y.return=P,P=Y;break t}a(P,M);break}else i(P,M);M=M.sibling}L.type===X?(Y=Ts(L.props.children,P.mode,Y,L.key),Y.return=P,P=Y):(Y=Ou(L.type,L.key,L.props,null,P.mode,Y),el(Y,L),Y.return=P,P=Y)}return v(P);case z:t:{for(ct=L.key;M!==null;){if(M.key===ct)if(M.tag===4&&M.stateNode.containerInfo===L.containerInfo&&M.stateNode.implementation===L.implementation){a(P,M.sibling),Y=h(M,L.children||[]),Y.return=P,P=Y;break t}else{a(P,M);break}else i(P,M);M=M.sibling}Y=ef(L,P.mode,Y),Y.return=P,P=Y}return v(P);case b:return ct=L._init,L=ct(L._payload),Zt(P,M,L,Y)}if(le(L))return St(P,M,L,Y);if(x(L)){if(ct=x(L),typeof ct!="function")throw Error(s(150));return L=ct.call(L),vt(P,M,L,Y)}if(typeof L.then=="function")return Zt(P,M,Qu(L),Y);if(L.$$typeof===Q)return Zt(P,M,ku(P,L),Y);Yu(P,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,M!==null&&M.tag===6?(a(P,M.sibling),Y=h(M,L),Y.return=P,P=Y):(a(P,M),Y=tf(L,P.mode,Y),Y.return=P,P=Y),v(P)):a(P,M)}return function(P,M,L,Y){try{tl=0;var ct=Zt(P,M,L,Y);return Ca=null,ct}catch(dt){if(dt===Go||dt===xu)throw dt;var Nt=dn(29,dt,null,P.mode);return Nt.lanes=Y,Nt.return=P,Nt}finally{}}}var Da=Fp(!0),Gp=Fp(!1),On=J(null),li=null;function mr(e){var i=e.alternate;et(Ie,Ie.current&1),et(On,e),li===null&&(i===null||ba.current!==null||i.memoizedState!==null)&&(li=e)}function Kp(e){if(e.tag===22){if(et(Ie,Ie.current),et(On,e),li===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(li=e)}}else gr()}function gr(){et(Ie,Ie.current),et(On,On.current)}function qi(e){rt(On),li===e&&(li=null),rt(Ie)}var Ie=J(0);function Xu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||bd(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Pf(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var xf={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=yn(),h=hr(l);h.payload=i,a!=null&&(h.callback=a),i=fr(e,h,l),i!==null&&(_n(i,e,l),Qo(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=yn(),h=hr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=fr(e,h,l),i!==null&&(_n(i,e,l),Qo(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=yn(),l=hr(a);l.tag=2,i!=null&&(l.callback=i),i=fr(e,l,a),i!==null&&(_n(i,e,a),Qo(i,e,a))}};function Qp(e,i,a,l,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Uo(a,l)||!Uo(h,d):!0}function Yp(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&xf.enqueueReplaceState(i,i.state,null)}function Os(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=T({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var $u=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Xp(e){$u(e)}function $p(e){console.error(e)}function Wp(e){$u(e)}function Wu(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Zp(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Uf(e,i,a){return a=hr(a),a.tag=3,a.payload={element:null},a.callback=function(){Wu(e,i)},a}function Jp(e){return e=hr(e),e.tag=3,e}function ty(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){Zp(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Zp(i,a,l),typeof h!="function"&&(Tr===null?Tr=new Set([this]):Tr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function $A(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&jo(i,a,h,!0),a=On.current,a!==null){switch(a.tag){case 13:return li===null?od():a.alternate===null&&he===0&&(he=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===ff?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),ud(e,l,h)),!1;case 22:return a.flags|=65536,l===ff?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),ud(e,l,h)),!1}throw Error(s(435,a.tag))}return ud(e,l,h),od(),!1}if(jt)return i=On.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==sf&&(e=Error(s(422),{cause:l}),qo(Rn(e,a)))):(l!==sf&&(i=Error(s(423),{cause:l}),qo(Rn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Rn(l,a),h=Uf(e.stateNode,l,h),gf(e,h),he!==4&&(he=2)),!1;var d=Error(s(520),{cause:l});if(d=Rn(d,a),ll===null?ll=[d]:ll.push(d),he!==4&&(he=2),i===null)return!0;l=Rn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Uf(a.stateNode,l,e),gf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Tr===null||!Tr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Jp(h),ty(h,e,a,l),gf(a,h),!1}a=a.return}while(a!==null);return!1}var ey=Error(s(461)),Ve=!1;function Be(e,i,a,l){i.child=e===null?Gp(i,null,a,l):Da(i,e.child,a,l)}function ny(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var E in l)E!=="ref"&&(v[E]=l[E])}else v=l;return Is(i),l=Ef(e,i,a,v,d,h),E=Tf(),e!==null&&!Ve?(Af(e,i,h),ji(e,i,h)):(jt&&E&&nf(i),i.flags|=1,Be(e,i,l,h),i.child)}function iy(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!Jh(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,ry(e,i,d,l,h)):(e=Ou(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!Gf(e,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Uo,a(v,l)&&e.ref===i.ref)return ji(e,i,h)}return i.flags|=1,e=Pi(d,l),e.ref=i.ref,e.return=i,i.child=e}function ry(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(Uo(d,l)&&e.ref===i.ref)if(Ve=!1,i.pendingProps=l=d,Gf(e,h))(e.flags&131072)!==0&&(Ve=!0);else return i.lanes=e.lanes,ji(e,i,h)}return Lf(e,i,a,l,h)}function sy(e,i,a){var l=i.pendingProps,h=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return ay(e,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Pu(i,d!==null?d.cachePool:null),d!==null?rp(i,d):yf(),Kp(i);else return i.lanes=i.childLanes=536870912,ay(e,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Pu(i,d.cachePool),rp(i,d),gr(),i.memoizedState=null):(e!==null&&Pu(i,null),yf(),gr());return Be(e,i,h,a),i.child}function ay(e,i,a,l){var h=hf();return h=h===null?null:{parent:Re._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&Pu(i,null),yf(),Kp(i),e!==null&&jo(e,i,l,!0),null}function Zu(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Lf(e,i,a,l,h){return Is(i),a=Ef(e,i,a,l,void 0,h),l=Tf(),e!==null&&!Ve?(Af(e,i,h),ji(e,i,h)):(jt&&l&&nf(i),i.flags|=1,Be(e,i,a,h),i.child)}function oy(e,i,a,l,h,d){return Is(i),i.updateQueue=null,a=ap(i,l,a,h),sp(e),l=Tf(),e!==null&&!Ve?(Af(e,i,d),ji(e,i,d)):(jt&&l&&nf(i),i.flags|=1,Be(e,i,a,d),i.child)}function ly(e,i,a,l,h){if(Is(i),i.stateNode===null){var d=va,v=a.contextType;typeof v=="object"&&v!==null&&(d=Ye(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=xf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},df(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Ye(v):va,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Pf(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&xf.enqueueReplaceState(d,d.state,null),Xo(i,l,d,h),Yo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var E=i.memoizedProps,I=Os(a,E);d.props=I;var B=d.context,G=a.contextType;v=va,typeof G=="object"&&G!==null&&(v=Ye(G));var W=a.getDerivedStateFromProps;G=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,G||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||B!==v)&&Yp(i,d,l,v),cr=!1;var q=i.memoizedState;d.state=q,Xo(i,l,d,h),Yo(),B=i.memoizedState,E||q!==B||cr?(typeof W=="function"&&(Pf(i,a,W,l),B=i.memoizedState),(I=cr||Qp(i,a,I,l,q,B,v))?(G||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=v,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,mf(e,i),v=i.memoizedProps,G=Os(a,v),d.props=G,W=i.pendingProps,q=d.context,B=a.contextType,I=va,typeof B=="object"&&B!==null&&(I=Ye(B)),E=a.getDerivedStateFromProps,(B=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==W||q!==I)&&Yp(i,d,l,I),cr=!1,q=i.memoizedState,d.state=q,Xo(i,l,d,h),Yo();var j=i.memoizedState;v!==W||q!==j||cr||e!==null&&e.dependencies!==null&&Mu(e.dependencies)?(typeof E=="function"&&(Pf(i,a,E,l),j=i.memoizedState),(G=cr||Qp(i,a,G,l,q,j,I)||e!==null&&e.dependencies!==null&&Mu(e.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,j,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,j,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&q===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&q===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=j),d.props=l,d.state=j,d.context=I,l=G):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&q===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&q===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,Zu(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=Da(i,e.child,null,h),i.child=Da(i,null,a,h)):Be(e,i,a,h),i.memoizedState=d.state,e=i.child):e=ji(e,i,h),e}function uy(e,i,a,l){return Bo(),i.flags|=256,Be(e,i,a,l),i.child}var zf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bf(e){return{baseLanes:e,cachePool:$g()}}function qf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Nn),e}function cy(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(Ie.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(jt){if(h?mr(i):gr(),jt){var E=ce,I;if(I=E){t:{for(I=E,E=oi;I.nodeType!==8;){if(!E){E=null;break t}if(I=jn(I.nextSibling),I===null){E=null;break t}}E=I}E!==null?(i.memoizedState={dehydrated:E,treeContext:As!==null?{id:xi,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},I=dn(18,null,null,0),I.stateNode=E,I.return=i,i.child=I,rn=i,ce=null,I=!0):I=!1}I||ws(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return bd(E)?i.lanes=32:i.lanes=536870912,null;qi(i)}return E=l.children,l=l.fallback,h?(gr(),h=i.mode,E=Ju({mode:"hidden",children:E},h),l=Ts(l,h,a,null),E.return=i,l.return=i,E.sibling=l,i.child=E,h=i.child,h.memoizedState=Bf(a),h.childLanes=qf(e,v,a),i.memoizedState=zf,l):(mr(i),jf(i,E))}if(I=e.memoizedState,I!==null&&(E=I.dehydrated,E!==null)){if(d)i.flags&256?(mr(i),i.flags&=-257,i=Hf(e,i,a)):i.memoizedState!==null?(gr(),i.child=e.child,i.flags|=128,i=null):(gr(),h=l.fallback,E=i.mode,l=Ju({mode:"visible",children:l.children},E),h=Ts(h,E,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Da(i,e.child,null,a),l=i.child,l.memoizedState=Bf(a),l.childLanes=qf(e,v,a),i.memoizedState=zf,i=h);else if(mr(i),bd(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var B=v.dgst;v=B,l=Error(s(419)),l.stack="",l.digest=v,qo({value:l,source:null,stack:null}),i=Hf(e,i,a)}else if(Ve||jo(e,i,a,!1),v=(a&e.childLanes)!==0,Ve||v){if(v=ee,v!==null&&(l=a&-a,l=(l&42)!==0?1:nr(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,_a(e,l),_n(v,e,l),ey;E.data==="$?"||od(),i=Hf(e,i,a)}else E.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=I.treeContext,ce=jn(E.nextSibling),rn=i,jt=!0,bs=null,oi=!1,e!==null&&(Cn[Dn++]=xi,Cn[Dn++]=Ui,Cn[Dn++]=As,xi=e.id,Ui=e.overflow,As=i),i=jf(i,l.children),i.flags|=4096);return i}return h?(gr(),h=l.fallback,E=i.mode,I=e.child,B=I.sibling,l=Pi(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,B!==null?h=Pi(B,h):(h=Ts(h,E,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,E=e.child.memoizedState,E===null?E=Bf(a):(I=E.cachePool,I!==null?(B=Re._currentValue,I=I.parent!==B?{parent:B,pool:B}:I):I=$g(),E={baseLanes:E.baseLanes|a,cachePool:I}),h.memoizedState=E,h.childLanes=qf(e,v,a),i.memoizedState=zf,l):(mr(i),a=e.child,e=a.sibling,a=Pi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function jf(e,i){return i=Ju({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Ju(e,i){return e=dn(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Hf(e,i,a){return Da(i,e.child,null,a),e=jf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function hy(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),of(e.return,i,a)}function Ff(e,i,a,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function fy(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Be(e,i,l.children,a),l=Ie.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hy(e,a,i);else if(e.tag===19)hy(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(et(Ie,l),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Xu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Ff(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Xu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Ff(i,!0,a,null,d);break;case"together":Ff(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ji(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Er|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(jo(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Pi(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Pi(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Gf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Mu(e)))}function WA(e,i,a){switch(i.tag){case 3:te(i,i.stateNode.containerInfo),ur(i,Re,e.memoizedState.cache),Bo();break;case 27:case 5:er(i);break;case 4:te(i,i.stateNode.containerInfo);break;case 10:ur(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(mr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?cy(e,i,a):(mr(i),e=ji(e,i,a),e!==null?e.sibling:null);mr(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(jo(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return fy(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),et(Ie,Ie.current),l)break;return null;case 22:case 23:return i.lanes=0,sy(e,i,a);case 24:ur(i,Re,e.memoizedState.cache)}return ji(e,i,a)}function dy(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Ve=!0;else{if(!Gf(e,a)&&(i.flags&128)===0)return Ve=!1,WA(e,i,a);Ve=(e.flags&131072)!==0}else Ve=!1,jt&&(i.flags&1048576)!==0&&Hg(i,Vu,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Jh(l)?(e=Os(l,e),i.tag=1,i=ly(null,i,l,e,a)):(i.tag=0,i=Lf(null,i,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===ut){i.tag=11,i=ny(null,i,l,e,a);break t}else if(h===V){i.tag=14,i=iy(null,i,l,e,a);break t}}throw i=Ue(l)||l,Error(s(306,i,""))}}return i;case 0:return Lf(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Os(l,i.pendingProps),ly(e,i,l,h,a);case 3:t:{if(te(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,mf(e,i),Xo(i,l,null,a);var v=i.memoizedState;if(l=v.cache,ur(i,Re,l),l!==d.cache&&lf(i,[Re],a,!0),Yo(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=uy(e,i,l,a);break t}else if(l!==h){h=Rn(Error(s(424)),i),qo(h),i=uy(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ce=jn(e.firstChild),rn=i,jt=!0,bs=null,oi=!0,a=Gp(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Bo(),l===h){i=ji(e,i,a);break t}Be(e,i,l,a)}i=i.child}return i;case 26:return Zu(e,i),e===null?(a=y_(i.type,null,i.pendingProps,null))?i.memoizedState=a:jt||(a=i.type,e=i.pendingProps,l=dc(bt.current).createElement(a),l[Se]=i,l[pe]=e,je(l,a,e),fe(l),i.stateNode=l):i.memoizedState=y_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return er(i),e===null&&jt&&(l=i.stateNode=m_(i.type,i.pendingProps,bt.current),rn=i,oi=!0,h=ce,br(i.type)?(wd=h,ce=jn(l.firstChild)):ce=h),Be(e,i,i.pendingProps.children,a),Zu(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&jt&&((h=l=ce)&&(l=wS(l,i.type,i.pendingProps,oi),l!==null?(i.stateNode=l,rn=i,ce=jn(l.firstChild),oi=!1,h=!0):h=!1),h||ws(i)),er(i),h=i.type,d=i.pendingProps,v=e!==null?e.memoizedProps:null,l=d.children,Td(h,d)?l=null:v!==null&&Td(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Ef(e,i,HA,null,null,a),yl._currentValue=h),Zu(e,i),Be(e,i,l,a),i.child;case 6:return e===null&&jt&&((e=a=ce)&&(a=RS(a,i.pendingProps,oi),a!==null?(i.stateNode=a,rn=i,ce=null,e=!0):e=!1),e||ws(i)),null;case 13:return cy(e,i,a);case 4:return te(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=Da(i,null,l,a):Be(e,i,l,a),i.child;case 11:return ny(e,i,i.type,i.pendingProps,a);case 7:return Be(e,i,i.pendingProps,a),i.child;case 8:return Be(e,i,i.pendingProps.children,a),i.child;case 12:return Be(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,ur(i,i.type,l.value),Be(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Is(i),h=Ye(h),l=l(h),i.flags|=1,Be(e,i,l,a),i.child;case 14:return iy(e,i,i.type,i.pendingProps,a);case 15:return ry(e,i,i.type,i.pendingProps,a);case 19:return fy(e,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},e===null?(a=Ju(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Pi(e.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return sy(e,i,a);case 24:return Is(i),l=Ye(Re),e===null?(h=hf(),h===null&&(h=ee,d=uf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},df(i),ur(i,Re,h)):((e.lanes&a)!==0&&(mf(e,i),Xo(i,null,null,a),Yo()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),ur(i,Re,l)):(l=d.cache,ur(i,Re,l),l!==h.cache&&lf(i,[Re],a,!0))),Be(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Hi(e){e.flags|=4}function my(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!A_(i)){if(i=On.current,i!==null&&((Lt&4194048)===Lt?li!==null:(Lt&62914560)!==Lt&&(Lt&536870912)===0||i!==li))throw Ko=ff,Wg;e.flags|=8192}}function tc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?vo():536870912,e.lanes|=i,Ma|=i)}function nl(e,i){if(!jt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ae(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function ZA(e,i,a){var l=i.pendingProps;switch(rf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ae(i),null;case 1:return ae(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),zi(Re),Xn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(zo(i)?Hi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Kg())),ae(i),null;case 26:return a=i.memoizedState,e===null?(Hi(i),a!==null?(ae(i),my(i,a)):(ae(i),i.flags&=-16777217)):a?a!==e.memoizedState?(Hi(i),ae(i),my(i,a)):(ae(i),i.flags&=-16777217):(e.memoizedProps!==l&&Hi(i),ae(i),i.flags&=-16777217),null;case 27:Ai(i),a=bt.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Hi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ae(i),null}e=yt.current,zo(i)?Fg(i):(e=m_(h,l,a),i.stateNode=e,Hi(i))}return ae(i),null;case 5:if(Ai(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Hi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ae(i),null}if(e=yt.current,zo(i))Fg(i);else{switch(h=dc(bt.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[Se]=i,e[pe]=l;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(je(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Hi(i)}}return ae(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&Hi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=bt.current,zo(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=rn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Se]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||o_(e.nodeValue,a)),e||ws(i)}else e=dc(e).createTextNode(l),e[Se]=i,i.stateNode=e}return ae(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=zo(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Se]=i}else Bo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ae(i),h=!1}else h=Kg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(qi(i),i):(qi(i),null)}if(qi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),tc(i,i.updateQueue),ae(i),null;case 4:return Xn(),e===null&&pd(i.stateNode.containerInfo),ae(i),null;case 10:return zi(i.type),ae(i),null;case 19:if(rt(Ie),h=i.memoizedState,h===null)return ae(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)nl(h,!1);else{if(he!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=Xu(e),d!==null){for(i.flags|=128,nl(h,!1),e=d.updateQueue,i.updateQueue=e,tc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)jg(a,e),a=a.sibling;return et(Ie,Ie.current&1|2),i.child}e=e.sibling}h.tail!==null&&En()>ic&&(i.flags|=128,l=!0,nl(h,!1),i.lanes=4194304)}else{if(!l)if(e=Xu(d),e!==null){if(i.flags|=128,l=!0,e=e.updateQueue,i.updateQueue=e,tc(i,e),nl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!jt)return ae(i),null}else 2*En()-h.renderingStartTime>ic&&a!==536870912&&(i.flags|=128,l=!0,nl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=En(),i.sibling=null,e=Ie.current,et(Ie,l?e&1|2:e&1),i):(ae(i),null);case 22:case 23:return qi(i),_f(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ae(i),i.subtreeFlags&6&&(i.flags|=8192)):ae(i),a=i.updateQueue,a!==null&&tc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&rt(Cs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),zi(Re),ae(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function JA(e,i){switch(rf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return zi(Re),Xn(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Ai(i),null;case 13:if(qi(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Bo()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return rt(Ie),null;case 4:return Xn(),null;case 10:return zi(i.type),null;case 22:case 23:return qi(i),_f(),e!==null&&rt(Cs),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return zi(Re),null;case 25:return null;default:return null}}function gy(e,i){switch(rf(i),i.tag){case 3:zi(Re),Xn();break;case 26:case 27:case 5:Ai(i);break;case 4:Xn();break;case 13:qi(i);break;case 19:rt(Ie);break;case 10:zi(i.type);break;case 22:case 23:qi(i),_f(),e!==null&&rt(Cs);break;case 24:zi(Re)}}function il(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(E){Jt(i,i.return,E)}}function pr(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var v=l.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,h=i;var I=a,B=E;try{B()}catch(G){Jt(h,I,G)}}}l=l.next}while(l!==d)}}catch(G){Jt(i,i.return,G)}}function py(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{ip(i,a)}catch(l){Jt(e,e.return,l)}}}function yy(e,i,a){a.props=Os(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Jt(e,i,l)}}function rl(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){Jt(e,i,h)}}function ui(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Jt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Jt(e,i,h)}else a.current=null}function _y(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Jt(e,e.return,h)}}function Kf(e,i,a){try{var l=e.stateNode;ES(l,e.type,a,i),l[pe]=i}catch(h){Jt(e,e.return,h)}}function vy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&br(e.type)||e.tag===4}function Qf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||vy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&br(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yf(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=fc));else if(l!==4&&(l===27&&br(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(Yf(e,i,a),e=e.sibling;e!==null;)Yf(e,i,a),e=e.sibling}function ec(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&br(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(ec(e,i,a),e=e.sibling;e!==null;)ec(e,i,a),e=e.sibling}function Ey(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);je(i,l,a),i[Se]=e,i[pe]=a}catch(d){Jt(e,e.return,d)}}var Fi=!1,me=!1,Xf=!1,Ty=typeof WeakSet=="function"?WeakSet:Set,Me=null;function tS(e,i){if(e=e.containerInfo,vd=vc,e=Vg(e),Kh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,E=-1,I=-1,B=0,G=0,W=e,q=null;e:for(;;){for(var j;W!==a||h!==0&&W.nodeType!==3||(E=v+h),W!==d||l!==0&&W.nodeType!==3||(I=v+l),W.nodeType===3&&(v+=W.nodeValue.length),(j=W.firstChild)!==null;)q=W,W=j;for(;;){if(W===e)break e;if(q===a&&++B===h&&(E=v),q===d&&++G===l&&(I=v),(j=W.nextSibling)!==null)break;W=q,q=W.parentNode}W=j}a=E===-1||I===-1?null:{start:E,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ed={focusedElem:e,selectionRange:a},vc=!1,Me=i;Me!==null;)if(i=Me,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,Me=e;else for(;Me!==null;){switch(i=Me,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var St=Os(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(St,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(vt){Jt(a,a.return,vt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Sd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Sd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Me=e;break}Me=i.return}}function Ay(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:yr(e,a),l&4&&il(5,a);break;case 1:if(yr(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(v){Jt(a,a.return,v)}else{var h=Os(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(v){Jt(a,a.return,v)}}l&64&&py(a),l&512&&rl(a,a.return);break;case 3:if(yr(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{ip(e,i)}catch(v){Jt(a,a.return,v)}}break;case 27:i===null&&l&4&&Ey(a);case 26:case 5:yr(e,a),i===null&&l&4&&_y(a),l&512&&rl(a,a.return);break;case 12:yr(e,a);break;case 13:yr(e,a),l&4&&wy(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=uS.bind(null,a),IS(e,a))));break;case 22:if(l=a.memoizedState!==null||Fi,!l){i=i!==null&&i.memoizedState!==null||me,h=Fi;var d=me;Fi=l,(me=i)&&!d?_r(e,a,(a.subtreeFlags&8772)!==0):yr(e,a),Fi=h,me=d}break;case 30:break;default:yr(e,a)}}function Sy(e){var i=e.alternate;i!==null&&(e.alternate=null,Sy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&sr(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var se=null,an=!1;function Gi(e,i,a){for(a=a.child;a!==null;)by(e,i,a),a=a.sibling}function by(e,i,a){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(ue,a)}catch{}switch(a.tag){case 26:me||ui(a,i),Gi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:me||ui(a,i);var l=se,h=an;br(a.type)&&(se=a.stateNode,an=!1),Gi(e,i,a),dl(a.stateNode),se=l,an=h;break;case 5:me||ui(a,i);case 6:if(l=se,h=an,se=null,Gi(e,i,a),se=l,an=h,se!==null)if(an)try{(se.nodeType===9?se.body:se.nodeName==="HTML"?se.ownerDocument.body:se).removeChild(a.stateNode)}catch(d){Jt(a,i,d)}else try{se.removeChild(a.stateNode)}catch(d){Jt(a,i,d)}break;case 18:se!==null&&(an?(e=se,f_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Tl(e)):f_(se,a.stateNode));break;case 4:l=se,h=an,se=a.stateNode.containerInfo,an=!0,Gi(e,i,a),se=l,an=h;break;case 0:case 11:case 14:case 15:me||pr(2,a,i),me||pr(4,a,i),Gi(e,i,a);break;case 1:me||(ui(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&yy(a,i,l)),Gi(e,i,a);break;case 21:Gi(e,i,a);break;case 22:me=(l=me)||a.memoizedState!==null,Gi(e,i,a),me=l;break;default:Gi(e,i,a)}}function wy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Tl(e)}catch(a){Jt(i,i.return,a)}}function eS(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Ty),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Ty),i;default:throw Error(s(435,e.tag))}}function $f(e,i){var a=eS(e);i.forEach(function(l){var h=cS.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function mn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,v=i,E=v;t:for(;E!==null;){switch(E.tag){case 27:if(br(E.type)){se=E.stateNode,an=!1;break t}break;case 5:se=E.stateNode,an=!1;break t;case 3:case 4:se=E.stateNode.containerInfo,an=!0;break t}E=E.return}if(se===null)throw Error(s(160));by(d,v,h),se=null,an=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Ry(i,e),i=i.sibling}var qn=null;function Ry(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:mn(i,e),gn(e),l&4&&(pr(3,e,e.return),il(3,e),pr(5,e,e.return));break;case 1:mn(i,e),gn(e),l&512&&(me||a===null||ui(a,a.return)),l&64&&Fi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=qn;if(mn(i,e),gn(e),l&512&&(me||a===null||ui(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ss]||d[Se]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),je(d,l,a),d[Se]=e,fe(d),l=d;break t;case"link":var v=E_("link","href",h).get(l+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(d=v[E],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break e}}d=h.createElement(l),je(d,l,a),h.head.appendChild(d);break;case"meta":if(v=E_("meta","content",h).get(l+(a.content||""))){for(E=0;E<v.length;E++)if(d=v[E],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break e}}d=h.createElement(l),je(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Se]=e,fe(d),l=d}e.stateNode=l}else T_(h,e.type,e.stateNode);else e.stateNode=v_(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?T_(h,e.type,e.stateNode):v_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Kf(e,e.memoizedProps,a.memoizedProps)}break;case 27:mn(i,e),gn(e),l&512&&(me||a===null||ui(a,a.return)),a!==null&&l&4&&Kf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(mn(i,e),gn(e),l&512&&(me||a===null||ui(a,a.return)),e.flags&32){h=e.stateNode;try{An(h,"")}catch(j){Jt(e,e.return,j)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Kf(e,h,a!==null?a.memoizedProps:h)),l&1024&&(Xf=!0);break;case 6:if(mn(i,e),gn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(j){Jt(e,e.return,j)}}break;case 3:if(pc=null,h=qn,qn=mc(i.containerInfo),mn(i,e),qn=h,gn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Tl(i.containerInfo)}catch(j){Jt(e,e.return,j)}Xf&&(Xf=!1,Iy(e));break;case 4:l=qn,qn=mc(e.stateNode.containerInfo),mn(i,e),gn(e),qn=l;break;case 12:mn(i,e),gn(e);break;case 13:mn(i,e),gn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(nd=En()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,$f(e,l)));break;case 22:h=e.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,B=Fi,G=me;if(Fi=B||h,me=G||I,mn(i,e),me=G,Fi=B,gn(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||I||Fi||me||Ns(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(d=I.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=I.stateNode;var W=I.memoizedProps.style,q=W!=null&&W.hasOwnProperty("display")?W.display:null;E.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(j){Jt(I,I.return,j)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(j){Jt(I,I.return,j)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,$f(e,a))));break;case 19:mn(i,e),gn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,$f(e,l)));break;case 30:break;case 21:break;default:mn(i,e),gn(e)}}function gn(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(vy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Qf(e);ec(e,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(An(v,""),a.flags&=-33);var E=Qf(e);ec(e,E,v);break;case 3:case 4:var I=a.stateNode.containerInfo,B=Qf(e);Yf(e,B,I);break;default:throw Error(s(161))}}catch(G){Jt(e,e.return,G)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Iy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Iy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function yr(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ay(e,i.alternate,i),i=i.sibling}function Ns(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:pr(4,i,i.return),Ns(i);break;case 1:ui(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&yy(i,i.return,a),Ns(i);break;case 27:dl(i.stateNode);case 26:case 5:ui(i,i.return),Ns(i);break;case 22:i.memoizedState===null&&Ns(i);break;case 30:Ns(i);break;default:Ns(i)}e=e.sibling}}function _r(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:_r(h,d,a),il(4,d);break;case 1:if(_r(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){Jt(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var E=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)np(I[h],E)}catch(B){Jt(l,l.return,B)}}a&&v&64&&py(d),rl(d,d.return);break;case 27:Ey(d);case 26:case 5:_r(h,d,a),a&&l===null&&v&4&&_y(d),rl(d,d.return);break;case 12:_r(h,d,a);break;case 13:_r(h,d,a),a&&v&4&&wy(h,d);break;case 22:d.memoizedState===null&&_r(h,d,a),rl(d,d.return);break;case 30:break;default:_r(h,d,a)}i=i.sibling}}function Wf(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Ho(a))}function Zf(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Ho(e))}function ci(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Cy(e,i,a,l),i=i.sibling}function Cy(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ci(e,i,a,l),h&2048&&il(9,i);break;case 1:ci(e,i,a,l);break;case 3:ci(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Ho(e)));break;case 12:if(h&2048){ci(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,v=d.id,E=d.onPostCommit;typeof E=="function"&&E(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Jt(i,i.return,I)}}else ci(e,i,a,l);break;case 13:ci(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?ci(e,i,a,l):sl(e,i):d._visibility&2?ci(e,i,a,l):(d._visibility|=2,Oa(e,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&Wf(v,i);break;case 24:ci(e,i,a,l),h&2048&&Zf(i.alternate,i);break;default:ci(e,i,a,l)}}function Oa(e,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,v=i,E=a,I=l,B=v.flags;switch(v.tag){case 0:case 11:case 15:Oa(d,v,E,I,h),il(8,v);break;case 23:break;case 22:var G=v.stateNode;v.memoizedState!==null?G._visibility&2?Oa(d,v,E,I,h):sl(d,v):(G._visibility|=2,Oa(d,v,E,I,h)),h&&B&2048&&Wf(v.alternate,v);break;case 24:Oa(d,v,E,I,h),h&&B&2048&&Zf(v.alternate,v);break;default:Oa(d,v,E,I,h)}i=i.sibling}}function sl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:sl(a,l),h&2048&&Wf(l.alternate,l);break;case 24:sl(a,l),h&2048&&Zf(l.alternate,l);break;default:sl(a,l)}i=i.sibling}}var al=8192;function Na(e){if(e.subtreeFlags&al)for(e=e.child;e!==null;)Dy(e),e=e.sibling}function Dy(e){switch(e.tag){case 26:Na(e),e.flags&al&&e.memoizedState!==null&&BS(qn,e.memoizedState,e.memoizedProps);break;case 5:Na(e);break;case 3:case 4:var i=qn;qn=mc(e.stateNode.containerInfo),Na(e),qn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=al,al=16777216,Na(e),al=i):Na(e));break;default:Na(e)}}function Oy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function ol(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Me=l,Vy(l,e)}Oy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ny(e),e=e.sibling}function Ny(e){switch(e.tag){case 0:case 11:case 15:ol(e),e.flags&2048&&pr(9,e,e.return);break;case 3:ol(e);break;case 12:ol(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,nc(e)):ol(e);break;default:ol(e)}}function nc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Me=l,Vy(l,e)}Oy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:pr(8,i,i.return),nc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,nc(i));break;default:nc(i)}e=e.sibling}}function Vy(e,i){for(;Me!==null;){var a=Me;switch(a.tag){case 0:case 11:case 15:pr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ho(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Me=l;else t:for(a=e;Me!==null;){l=Me;var h=l.sibling,d=l.return;if(Sy(l),l===a){Me=null;break t}if(h!==null){h.return=d,Me=h;break t}Me=d}}}var nS={getCacheForType:function(e){var i=Ye(Re),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},iS=typeof WeakMap=="function"?WeakMap:Map,Kt=0,ee=null,Vt=null,Lt=0,Qt=0,pn=null,vr=!1,Va=!1,Jf=!1,Ki=0,he=0,Er=0,Vs=0,td=0,Nn=0,Ma=0,ll=null,on=null,ed=!1,nd=0,ic=1/0,rc=null,Tr=null,qe=0,Ar=null,ka=null,Pa=0,id=0,rd=null,My=null,ul=0,sd=null;function yn(){if((Kt&2)!==0&&Lt!==0)return Lt&-Lt;if(F.T!==null){var e=Aa;return e!==0?e:fd()}return ir()}function ky(){Nn===0&&(Nn=(Lt&536870912)===0||jt?_o():536870912);var e=On.current;return e!==null&&(e.flags|=32),Nn}function _n(e,i,a){(e===ee&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)&&(xa(e,0),Sr(e,Lt,Nn,!1)),bi(e,a),((Kt&2)===0||e!==ee)&&(e===ee&&((Kt&2)===0&&(Vs|=a),he===4&&Sr(e,Lt,Nn,!1)),hi(e))}function Py(e,i,a){if((Kt&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&e.expiredLanes)===0||rs(e,i),h=l?aS(e,i):ld(e,i,!0),d=l;do{if(h===0){Va&&!l&&Sr(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!rS(a)){h=ld(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var E=e;h=ll;var I=E.current.memoizedState.isDehydrated;if(I&&(xa(E,v).flags|=256),v=ld(E,v,!1),v!==2){if(Jf&&!I){E.errorRecoveryDisabledLanes|=d,Vs|=d,h=4;break t}d=on,on=h,d!==null&&(on===null?on=d:on.push.apply(on,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){xa(e,0),Sr(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Sr(l,i,Nn,!vr);break t;case 2:on=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=nd+300-En(),10<h)){if(Sr(l,i,Nn,!vr),Js(l,0,!0)!==0)break t;l.timeoutHandle=c_(xy.bind(null,l,a,on,rc,ed,i,Nn,Vs,Ma,vr,d,2,-0,0),h);break t}xy(l,a,on,rc,ed,i,Nn,Vs,Ma,vr,d,0,-0,0)}}break}while(!0);hi(e)}function xy(e,i,a,l,h,d,v,E,I,B,G,W,q,j){if(e.timeoutHandle=-1,W=i.subtreeFlags,(W&8192||(W&16785408)===16785408)&&(pl={stylesheets:null,count:0,unsuspend:zS},Dy(i),W=qS(),W!==null)){e.cancelPendingCommit=W(Hy.bind(null,e,i,d,a,l,h,v,E,I,G,1,q,j)),Sr(e,d,v,!B);return}Hy(e,i,d,a,l,h,v,E,I)}function rS(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!fn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Sr(e,i,a,l){i&=~td,i&=~Vs,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-Qe(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&$n(e,a,i)}function sc(){return(Kt&6)===0?(cl(0),!1):!0}function ad(){if(Vt!==null){if(Qt===0)var e=Vt.return;else e=Vt,Li=Rs=null,Sf(e),Ca=null,tl=0,e=Vt;for(;e!==null;)gy(e.alternate,e),e=e.return;Vt=null}}function xa(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,AS(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ad(),ee=e,Vt=a=Pi(e.current,null),Lt=i,Qt=0,pn=null,vr=!1,Va=rs(e,i),Jf=!1,Ma=Nn=td=Vs=Er=he=0,on=ll=null,ed=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-Qe(l),d=1<<h;i|=e[h],l&=~d}return Ki=i,Iu(),a}function Uy(e,i){Ct=null,F.H=Ku,i===Go||i===xu?(i=tp(),Qt=3):i===Wg?(i=tp(),Qt=4):Qt=i===ey?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,pn=i,Vt===null&&(he=1,Wu(e,Rn(i,e.current)))}function Ly(){var e=F.H;return F.H=Ku,e===null?Ku:e}function zy(){var e=F.A;return F.A=nS,e}function od(){he=4,vr||(Lt&4194048)!==Lt&&On.current!==null||(Va=!0),(Er&134217727)===0&&(Vs&134217727)===0||ee===null||Sr(ee,Lt,Nn,!1)}function ld(e,i,a){var l=Kt;Kt|=2;var h=Ly(),d=zy();(ee!==e||Lt!==i)&&(rc=null,xa(e,i)),i=!1;var v=he;t:do try{if(Qt!==0&&Vt!==null){var E=Vt,I=pn;switch(Qt){case 8:ad(),v=6;break t;case 3:case 2:case 9:case 6:On.current===null&&(i=!0);var B=Qt;if(Qt=0,pn=null,Ua(e,E,I,B),a&&Va){v=0;break t}break;default:B=Qt,Qt=0,pn=null,Ua(e,E,I,B)}}sS(),v=he;break}catch(G){Uy(e,G)}while(!0);return i&&e.shellSuspendCounter++,Li=Rs=null,Kt=l,F.H=h,F.A=d,Vt===null&&(ee=null,Lt=0,Iu()),v}function sS(){for(;Vt!==null;)By(Vt)}function aS(e,i){var a=Kt;Kt|=2;var l=Ly(),h=zy();ee!==e||Lt!==i?(rc=null,ic=En()+500,xa(e,i)):Va=rs(e,i);t:do try{if(Qt!==0&&Vt!==null){i=Vt;var d=pn;e:switch(Qt){case 1:Qt=0,pn=null,Ua(e,i,d,1);break;case 2:case 9:if(Zg(d)){Qt=0,pn=null,qy(i);break}i=function(){Qt!==2&&Qt!==9||ee!==e||(Qt=7),hi(e)},d.then(i,i);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:Zg(d)?(Qt=0,pn=null,qy(i)):(Qt=0,pn=null,Ua(e,i,d,7));break;case 5:var v=null;switch(Vt.tag){case 26:v=Vt.memoizedState;case 5:case 27:var E=Vt;if(!v||A_(v)){Qt=0,pn=null;var I=E.sibling;if(I!==null)Vt=I;else{var B=E.return;B!==null?(Vt=B,ac(B)):Vt=null}break e}}Qt=0,pn=null,Ua(e,i,d,5);break;case 6:Qt=0,pn=null,Ua(e,i,d,6);break;case 8:ad(),he=6;break t;default:throw Error(s(462))}}oS();break}catch(G){Uy(e,G)}while(!0);return Li=Rs=null,F.H=l,F.A=h,Kt=a,Vt!==null?0:(ee=null,Lt=0,Iu(),he)}function oS(){for(;Vt!==null&&!mo();)By(Vt)}function By(e){var i=dy(e.alternate,e,Ki);e.memoizedProps=e.pendingProps,i===null?ac(e):Vt=i}function qy(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=oy(a,i,i.pendingProps,i.type,void 0,Lt);break;case 11:i=oy(a,i,i.pendingProps,i.type.render,i.ref,Lt);break;case 5:Sf(i);default:gy(a,i),i=Vt=jg(i,Ki),i=dy(a,i,Ki)}e.memoizedProps=e.pendingProps,i===null?ac(e):Vt=i}function Ua(e,i,a,l){Li=Rs=null,Sf(i),Ca=null,tl=0;var h=i.return;try{if($A(e,h,i,a,Lt)){he=1,Wu(e,Rn(a,e.current)),Vt=null;return}}catch(d){if(h!==null)throw Vt=h,d;he=1,Wu(e,Rn(a,e.current)),Vt=null;return}i.flags&32768?(jt||l===1?e=!0:Va||(Lt&536870912)!==0?e=!1:(vr=e=!0,(l===2||l===9||l===3||l===6)&&(l=On.current,l!==null&&l.tag===13&&(l.flags|=16384))),jy(i,e)):ac(i)}function ac(e){var i=e;do{if((i.flags&32768)!==0){jy(i,vr);return}e=i.return;var a=ZA(i.alternate,i,Ki);if(a!==null){Vt=a;return}if(i=i.sibling,i!==null){Vt=i;return}Vt=i=e}while(i!==null);he===0&&(he=5)}function jy(e,i){do{var a=JA(e.alternate,e);if(a!==null){a.flags&=32767,Vt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Vt=e;return}Vt=e=a}while(e!==null);he=6,Vt=null}function Hy(e,i,a,l,h,d,v,E,I){e.cancelPendingCommit=null;do oc();while(qe!==0);if((Kt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Wh,Eo(e,a,d,v,E,I),e===ee&&(Vt=ee=null,Lt=0),ka=i,Ar=e,Pa=a,id=d,rd=h,My=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,hS(ts,function(){return Yy(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=it.p,it.p=2,v=Kt,Kt|=4;try{tS(e,i,a)}finally{Kt=v,it.p=h,F.T=l}}qe=1,Fy(),Gy(),Ky()}}function Fy(){if(qe===1){qe=0;var e=Ar,i=ka,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var l=it.p;it.p=2;var h=Kt;Kt|=4;try{Ry(i,e);var d=Ed,v=Vg(e.containerInfo),E=d.focusedElem,I=d.selectionRange;if(v!==E&&E&&E.ownerDocument&&Ng(E.ownerDocument.documentElement,E)){if(I!==null&&Kh(E)){var B=I.start,G=I.end;if(G===void 0&&(G=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(G,E.value.length);else{var W=E.ownerDocument||document,q=W&&W.defaultView||window;if(q.getSelection){var j=q.getSelection(),St=E.textContent.length,vt=Math.min(I.start,St),Zt=I.end===void 0?vt:Math.min(I.end,St);!j.extend&&vt>Zt&&(v=Zt,Zt=vt,vt=v);var P=Og(E,vt),M=Og(E,Zt);if(P&&M&&(j.rangeCount!==1||j.anchorNode!==P.node||j.anchorOffset!==P.offset||j.focusNode!==M.node||j.focusOffset!==M.offset)){var L=W.createRange();L.setStart(P.node,P.offset),j.removeAllRanges(),vt>Zt?(j.addRange(L),j.extend(M.node,M.offset)):(L.setEnd(M.node,M.offset),j.addRange(L))}}}}for(W=[],j=E;j=j.parentNode;)j.nodeType===1&&W.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<W.length;E++){var Y=W[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}vc=!!vd,Ed=vd=null}finally{Kt=h,it.p=l,F.T=a}}e.current=i,qe=2}}function Gy(){if(qe===2){qe=0;var e=Ar,i=ka,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var l=it.p;it.p=2;var h=Kt;Kt|=4;try{Ay(e,i.alternate,i)}finally{Kt=h,it.p=l,F.T=a}}qe=3}}function Ky(){if(qe===4||qe===3){qe=0,nu();var e=Ar,i=ka,a=Pa,l=My;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?qe=5:(qe=0,ka=Ar=null,Qy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Tr=null),ta(a),i=i.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(ue,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=F.T,h=it.p,it.p=2,F.T=null;try{for(var d=e.onRecoverableError,v=0;v<l.length;v++){var E=l[v];d(E.value,{componentStack:E.stack})}}finally{F.T=i,it.p=h}}(Pa&3)!==0&&oc(),hi(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===sd?ul++:(ul=0,sd=e):ul=0,cl(0)}}function Qy(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Ho(i)))}function oc(e){return Fy(),Gy(),Ky(),Yy()}function Yy(){if(qe!==5)return!1;var e=Ar,i=id;id=0;var a=ta(Pa),l=F.T,h=it.p;try{it.p=32>a?32:a,F.T=null,a=rd,rd=null;var d=Ar,v=Pa;if(qe=0,ka=Ar=null,Pa=0,(Kt&6)!==0)throw Error(s(331));var E=Kt;if(Kt|=4,Ny(d.current),Cy(d,d.current,v,a),Kt=E,cl(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(ue,d)}catch{}return!0}finally{it.p=h,F.T=l,Qy(e,i)}}function Xy(e,i,a){i=Rn(a,i),i=Uf(e.stateNode,i,2),e=fr(e,i,2),e!==null&&(bi(e,2),hi(e))}function Jt(e,i,a){if(e.tag===3)Xy(e,e,a);else for(;i!==null;){if(i.tag===3){Xy(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Tr===null||!Tr.has(l))){e=Rn(a,e),a=Jp(2),l=fr(i,a,2),l!==null&&(ty(a,l,i,e),bi(l,2),hi(l));break}}i=i.return}}function ud(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new iS;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Jf=!0,h.add(a),e=lS.bind(null,e,i,a),i.then(e,e))}function lS(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ee===e&&(Lt&a)===a&&(he===4||he===3&&(Lt&62914560)===Lt&&300>En()-nd?(Kt&2)===0&&xa(e,0):td|=a,Ma===Lt&&(Ma=0)),hi(e)}function $y(e,i){i===0&&(i=vo()),e=_a(e,i),e!==null&&(bi(e,i),hi(e))}function uS(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),$y(e,a)}function cS(e,i){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),$y(e,a)}function hS(e,i){return Zr(e,i)}var lc=null,La=null,cd=!1,uc=!1,hd=!1,Ms=0;function hi(e){e!==La&&e.next===null&&(La===null?lc=La=e:La=La.next=e),uc=!0,cd||(cd=!0,dS())}function cl(e,i){if(!hd&&uc){hd=!0;do for(var a=!1,l=lc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,E=l.pingedLanes;d=(1<<31-Qe(42|e)+1)-1,d&=h&~(v&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,t_(l,d))}else d=Lt,d=Js(l,l===ee?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||rs(l,d)||(a=!0,t_(l,d));l=l.next}while(a);hd=!1}}function fS(){Wy()}function Wy(){uc=cd=!1;var e=0;Ms!==0&&(TS()&&(e=Ms),Ms=0);for(var i=En(),a=null,l=lc;l!==null;){var h=l.next,d=Zy(l,i);d===0?(l.next=null,a===null?lc=h:a.next=h,h===null&&(La=a)):(a=l,(e!==0||(d&3)!==0)&&(uc=!0)),l=h}cl(e)}function Zy(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-Qe(d),E=1<<v,I=h[v];I===-1?((E&a)===0||(E&l)!==0)&&(h[v]=yo(E,i)):I<=i&&(e.expiredLanes|=E),d&=~E}if(i=ee,a=Lt,a=Js(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Jr(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||rs(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&Jr(l),ta(a)){case 2:case 8:a=Ws;break;case 32:a=ts;break;case 268435456:a=Zs;break;default:a=ts}return l=Jy.bind(null,e),a=Zr(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&Jr(l),e.callbackPriority=2,e.callbackNode=null,2}function Jy(e,i){if(qe!==0&&qe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(oc()&&e.callbackNode!==a)return null;var l=Lt;return l=Js(e,e===ee?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Py(e,l,i),Zy(e,En()),e.callbackNode!=null&&e.callbackNode===a?Jy.bind(null,e):null)}function t_(e,i){if(oc())return null;Py(e,i,!0)}function dS(){SS(function(){(Kt&6)!==0?Zr(go,fS):Wy()})}function fd(){return Ms===0&&(Ms=_o()),Ms}function e_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:aa(""+e)}function n_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function mS(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=e_((h[pe]||null).action),v=l.submitter;v&&(i=(i=v[pe]||null)?e_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var E=new oa("action","action",null,l,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ms!==0){var I=v?n_(h,v):new FormData(h);Vf(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(E.preventDefault(),I=v?n_(h,v):new FormData(h),Vf(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var dd=0;dd<$h.length;dd++){var md=$h[dd],gS=md.toLowerCase(),pS=md[0].toUpperCase()+md.slice(1);Bn(gS,"on"+pS)}Bn(Pg,"onAnimationEnd"),Bn(xg,"onAnimationIteration"),Bn(Ug,"onAnimationStart"),Bn("dblclick","onDoubleClick"),Bn("focusin","onFocus"),Bn("focusout","onBlur"),Bn(MA,"onTransitionRun"),Bn(kA,"onTransitionStart"),Bn(PA,"onTransitionCancel"),Bn(Lg,"onTransitionEnd"),Ri("onMouseEnter",["mouseout","mouseover"]),Ri("onMouseLeave",["mouseout","mouseover"]),Ri("onPointerEnter",["pointerout","pointerover"]),Ri("onPointerLeave",["pointerout","pointerover"]),Ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ln("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hl));function i_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var E=l[v],I=E.instance,B=E.currentTarget;if(E=E.listener,I!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=B;try{d(h)}catch(G){$u(G)}h.currentTarget=null,d=I}else for(v=0;v<l.length;v++){if(E=l[v],I=E.instance,B=E.currentTarget,E=E.listener,I!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=B;try{d(h)}catch(G){$u(G)}h.currentTarget=null,d=I}}}}function Mt(e,i){var a=i[Ao];a===void 0&&(a=i[Ao]=new Set);var l=e+"__bubble";a.has(l)||(r_(i,e,2,!1),a.add(l))}function gd(e,i,a){var l=0;i&&(l|=4),r_(a,e,l,i)}var cc="_reactListening"+Math.random().toString(36).slice(2);function pd(e){if(!e[cc]){e[cc]=!0,So.forEach(function(a){a!=="selectionchange"&&(yS.has(a)||gd(a,!1,e),gd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[cc]||(i[cc]=!0,gd("selectionchange",!1,i))}}function r_(e,i,a,l){switch(C_(i)){case 2:var h=FS;break;case 8:h=GS;break;default:h=Od}a=h.bind(null,i,a,e),h=void 0,!bn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function yd(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var E=l.stateNode.containerInfo;if(E===h)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;E!==null;){if(v=wi(E),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=d=v;continue t}E=E.parentNode}}l=l.return}fu(function(){var B=d,G=Sn(a),W=[];t:{var q=zg.get(e);if(q!==void 0){var j=oa,St=e;switch(e){case"keypress":if(ni(a)===0)break t;case"keydown":case"keyup":j=da;break;case"focusin":St="focus",j=ca;break;case"focusout":St="blur",j=ca;break;case"beforeblur":case"afterblur":j=ca;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=wn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=jh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=Eu;break;case Pg:case xg:case Ug:j=ha;break;case Lg:j=Au;break;case"scroll":case"scrollend":j=du;break;case"wheel":j=ma;break;case"copy":case"cut":case"paste":j=fa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Po;break;case"toggle":case"beforetoggle":j=bu}var vt=(i&4)!==0,Zt=!vt&&(e==="scroll"||e==="scrollend"),P=vt?q!==null?q+"Capture":null:q;vt=[];for(var M=B,L;M!==null;){var Y=M;if(L=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||L===null||P===null||(Y=fs(M,P),Y!=null&&vt.push(fl(M,Y,L))),Zt)break;M=M.return}0<vt.length&&(q=new j(q,St,null,a,G),W.push({event:q,listeners:vt}))}}if((i&7)===0){t:{if(q=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",q&&a!==Di&&(St=a.relatedTarget||a.fromElement)&&(wi(St)||St[Tn]))break t;if((j||q)&&(q=G.window===G?G:(q=G.ownerDocument)?q.defaultView||q.parentWindow:window,j?(St=a.relatedTarget||a.toElement,j=B,St=St?wi(St):null,St!==null&&(Zt=u(St),vt=St.tag,St!==Zt||vt!==5&&vt!==27&&vt!==6)&&(St=null)):(j=null,St=B),j!==St)){if(vt=wn,Y="onMouseLeave",P="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(vt=Po,Y="onPointerLeave",P="onPointerEnter",M="pointer"),Zt=j==null?q:Zn(j),L=St==null?q:Zn(St),q=new vt(Y,M+"leave",j,a,G),q.target=Zt,q.relatedTarget=L,Y=null,wi(G)===B&&(vt=new vt(P,M+"enter",St,a,G),vt.target=L,vt.relatedTarget=Zt,Y=vt),Zt=Y,j&&St)e:{for(vt=j,P=St,M=0,L=vt;L;L=za(L))M++;for(L=0,Y=P;Y;Y=za(Y))L++;for(;0<M-L;)vt=za(vt),M--;for(;0<L-M;)P=za(P),L--;for(;M--;){if(vt===P||P!==null&&vt===P.alternate)break e;vt=za(vt),P=za(P)}vt=null}else vt=null;j!==null&&s_(W,q,j,vt,!1),St!==null&&Zt!==null&&s_(W,Zt,St,vt,!0)}}t:{if(q=B?Zn(B):window,j=q.nodeName&&q.nodeName.toLowerCase(),j==="select"||j==="input"&&q.type==="file")var ct=bg;else if(we(q))if(wg)ct=OA;else{ct=CA;var Nt=IA}else j=q.nodeName,!j||j.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&Co(B.elementType)&&(ct=bg):ct=DA;if(ct&&(ct=ct(e,B))){ki(W,ct,a,G);break t}Nt&&Nt(e,q,B),e==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&or(q,"number",q.value)}switch(Nt=B?Zn(B):window,e){case"focusin":(we(Nt)||Nt.contentEditable==="true")&&(ga=Nt,Qh=B,Lo=null);break;case"focusout":Lo=Qh=ga=null;break;case"mousedown":Yh=!0;break;case"contextmenu":case"mouseup":case"dragend":Yh=!1,Mg(W,a,G);break;case"selectionchange":if(VA)break;case"keydown":case"keyup":Mg(W,a,G)}var dt;if(si)t:{switch(e){case"compositionstart":var Et="onCompositionStart";break t;case"compositionend":Et="onCompositionEnd";break t;case"compositionupdate":Et="onCompositionUpdate";break t}Et=void 0}else xt?H(e,a)&&(Et="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Et="onCompositionStart");Et&&(_&&a.locale!=="ko"&&(xt||Et!=="onCompositionStart"?Et==="onCompositionEnd"&&xt&&(dt=Oo()):(ei=G,lr="value"in ei?ei.value:ei.textContent,xt=!0)),Nt=hc(B,Et),0<Nt.length&&(Et=new Mo(Et,e,null,a,G),W.push({event:Et,listeners:Nt}),dt?Et.data=dt:(dt=nt(a),dt!==null&&(Et.data=dt)))),(dt=g?be(e,a):Ut(e,a))&&(Et=hc(B,"onBeforeInput"),0<Et.length&&(Nt=new Mo("onBeforeInput","beforeinput",null,a,G),W.push({event:Nt,listeners:Et}),Nt.data=dt)),mS(W,e,B,a,G)}i_(W,i)})}function fl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function hc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=fs(e,a),h!=null&&l.unshift(fl(e,h,d)),h=fs(e,i),h!=null&&l.push(fl(e,h,d))),e.tag===3)return l;e=e.return}return[]}function za(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function s_(e,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var E=a,I=E.alternate,B=E.stateNode;if(E=E.tag,I!==null&&I===l)break;E!==5&&E!==26&&E!==27||B===null||(I=B,h?(B=fs(a,d),B!=null&&v.unshift(fl(a,B,I))):h||(B=fs(a,d),B!=null&&v.push(fl(a,B,I)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var _S=/\r\n?/g,vS=/\u0000|\uFFFD/g;function a_(e){return(typeof e=="string"?e:""+e).replace(_S,`
`).replace(vS,"")}function o_(e,i){return i=a_(i),a_(e)===i}function fc(){}function Wt(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||An(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&An(e,""+l);break;case"className":Jn(e,"class",l);break;case"tabIndex":Jn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Jn(e,a,l);break;case"style":Io(e,l,d);break;case"data":if(i!=="object"){Jn(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=aa(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Wt(e,i,"name",h.name,h,null),Wt(e,i,"formEncType",h.formEncType,h,null),Wt(e,i,"formMethod",h.formMethod,h,null),Wt(e,i,"formTarget",h.formTarget,h,null)):(Wt(e,i,"encType",h.encType,h,null),Wt(e,i,"method",h.method,h,null),Wt(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=aa(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=fc);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=aa(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Mt("beforetoggle",e),Mt("toggle",e),ar(e,"popover",l);break;case"xlinkActuate":Le(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Le(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Le(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Le(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Le(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Le(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Le(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Le(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Le(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ar(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Bh.get(a)||a,ar(e,a,l))}}function _d(e,i,a,l,h,d){switch(a){case"style":Io(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?An(e,l):(typeof l=="number"||typeof l=="bigint")&&An(e,""+l);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=fc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ea.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[pe]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):ar(e,a,l)}}}function je(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",e),Mt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Wt(e,i,d,v,a,null)}}h&&Wt(e,i,"srcSet",a.srcSet,a,null),l&&Wt(e,i,"src",a.src,a,null);return;case"input":Mt("invalid",e);var E=d=v=h=null,I=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":h=G;break;case"type":v=G;break;case"checked":I=G;break;case"defaultChecked":B=G;break;case"value":d=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:Wt(e,i,l,G,a,null)}}us(e,d,E,I,B,v,h,!1),sa(e);return;case"select":Mt("invalid",e),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":v=E;break;case"multiple":l=E;default:Wt(e,i,h,E,a,null)}i=d,a=v,e.multiple=!!l,i!=null?Ci(e,!!l,i,!1):a!=null&&Ci(e,!!l,a,!0);return;case"textarea":Mt("invalid",e),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":l=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Wt(e,i,v,E,a,null)}cs(e,l,h,d),sa(e);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Wt(e,i,I,l,a,null)}return;case"dialog":Mt("beforetoggle",e),Mt("toggle",e),Mt("cancel",e),Mt("close",e);break;case"iframe":case"object":Mt("load",e);break;case"video":case"audio":for(l=0;l<hl.length;l++)Mt(hl[l],e);break;case"image":Mt("error",e),Mt("load",e);break;case"details":Mt("toggle",e);break;case"embed":case"source":case"link":Mt("error",e),Mt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Wt(e,i,B,l,a,null)}return;default:if(Co(i)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&_d(e,i,G,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Wt(e,i,E,l,a,null))}function ES(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,E=null,I=null,B=null,G=null;for(j in a){var W=a[j];if(a.hasOwnProperty(j)&&W!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":I=W;default:l.hasOwnProperty(j)||Wt(e,i,j,null,l,W)}}for(var q in l){var j=l[q];if(W=a[q],l.hasOwnProperty(q)&&(j!=null||W!=null))switch(q){case"type":d=j;break;case"name":h=j;break;case"checked":B=j;break;case"defaultChecked":G=j;break;case"value":v=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,i));break;default:j!==W&&Wt(e,i,q,j,l,W)}}hn(e,v,E,I,B,G,d,h);return;case"select":j=v=E=q=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":j=I;default:l.hasOwnProperty(d)||Wt(e,i,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":q=d;break;case"defaultValue":E=d;break;case"multiple":v=d;default:d!==I&&Wt(e,i,h,d,l,I)}i=E,a=v,l=j,q!=null?Ci(e,!!a,q,!1):!!l!=!!a&&(i!=null?Ci(e,!!a,i,!0):Ci(e,!!a,a?[]:"",!1));return;case"textarea":j=q=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Wt(e,i,E,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":q=h;break;case"defaultValue":j=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Wt(e,i,v,h,l,d)}Xt(e,q,j);return;case"option":for(var St in a)if(q=a[St],a.hasOwnProperty(St)&&q!=null&&!l.hasOwnProperty(St))switch(St){case"selected":e.selected=!1;break;default:Wt(e,i,St,null,l,q)}for(I in l)if(q=l[I],j=a[I],l.hasOwnProperty(I)&&q!==j&&(q!=null||j!=null))switch(I){case"selected":e.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Wt(e,i,I,q,l,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in a)q=a[vt],a.hasOwnProperty(vt)&&q!=null&&!l.hasOwnProperty(vt)&&Wt(e,i,vt,null,l,q);for(B in l)if(q=l[B],j=a[B],l.hasOwnProperty(B)&&q!==j&&(q!=null||j!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:Wt(e,i,B,q,l,j)}return;default:if(Co(i)){for(var Zt in a)q=a[Zt],a.hasOwnProperty(Zt)&&q!==void 0&&!l.hasOwnProperty(Zt)&&_d(e,i,Zt,void 0,l,q);for(G in l)q=l[G],j=a[G],!l.hasOwnProperty(G)||q===j||q===void 0&&j===void 0||_d(e,i,G,q,l,j);return}}for(var P in a)q=a[P],a.hasOwnProperty(P)&&q!=null&&!l.hasOwnProperty(P)&&Wt(e,i,P,null,l,q);for(W in l)q=l[W],j=a[W],!l.hasOwnProperty(W)||q===j||q==null&&j==null||Wt(e,i,W,q,l,j)}var vd=null,Ed=null;function dc(e){return e.nodeType===9?e:e.ownerDocument}function l_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function u_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Td(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ad=null;function TS(){var e=window.event;return e&&e.type==="popstate"?e===Ad?!1:(Ad=e,!0):(Ad=null,!1)}var c_=typeof setTimeout=="function"?setTimeout:void 0,AS=typeof clearTimeout=="function"?clearTimeout:void 0,h_=typeof Promise=="function"?Promise:void 0,SS=typeof queueMicrotask=="function"?queueMicrotask:typeof h_<"u"?function(e){return h_.resolve(null).then(e).catch(bS)}:c_;function bS(e){setTimeout(function(){throw e})}function br(e){return e==="head"}function f_(e,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=e.ownerDocument;if(a&1&&dl(v.documentElement),a&2&&dl(v.body),a&4)for(a=v.head,dl(a),v=a.firstChild;v;){var E=v.nextSibling,I=v.nodeName;v[ss]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=E}}if(h===0){e.removeChild(d),Tl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Tl(i)}function Sd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Sd(a),sr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function wS(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ss])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=jn(e.nextSibling),e===null)break}return null}function RS(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=jn(e.nextSibling),e===null))return null;return e}function bd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function IS(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function jn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var wd=null;function d_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function m_(e,i,a){switch(i=dc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function dl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);sr(e)}var Vn=new Map,g_=new Set;function mc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Qi=it.d;it.d={f:CS,r:DS,D:OS,C:NS,L:VS,m:MS,X:PS,S:kS,M:xS};function CS(){var e=Qi.f(),i=sc();return e||i}function DS(e){var i=Wn(e);i!==null&&i.tag===5&&i.type==="form"?Pp(i):Qi.r(e)}var Ba=typeof document>"u"?null:document;function p_(e,i,a){var l=Ba;if(l&&typeof i=="string"&&i){var h=ye(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),g_.has(h)||(g_.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),je(i,"link",e),fe(i),l.head.appendChild(i)))}}function OS(e){Qi.D(e),p_("dns-prefetch",e,null)}function NS(e,i){Qi.C(e,i),p_("preconnect",e,i)}function VS(e,i,a){Qi.L(e,i,a);var l=Ba;if(l&&e&&i){var h='link[rel="preload"][as="'+ye(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ye(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ye(a.imageSizes)+'"]')):h+='[href="'+ye(e)+'"]';var d=h;switch(i){case"style":d=qa(e);break;case"script":d=ja(e)}Vn.has(d)||(e=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Vn.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(ml(d))||i==="script"&&l.querySelector(gl(d))||(i=l.createElement("link"),je(i,"link",e),fe(i),l.head.appendChild(i)))}}function MS(e,i){Qi.m(e,i);var a=Ba;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+ye(l)+'"][href="'+ye(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ja(e)}if(!Vn.has(d)&&(e=T({rel:"modulepreload",href:e},i),Vn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(gl(d)))return}l=a.createElement("link"),je(l,"link",e),fe(l),a.head.appendChild(l)}}}function kS(e,i,a){Qi.S(e,i,a);var l=Ba;if(l&&e){var h=tn(l).hoistableStyles,d=qa(e);i=i||"default";var v=h.get(d);if(!v){var E={loading:0,preload:null};if(v=l.querySelector(ml(d)))E.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Vn.get(d))&&Rd(e,a);var I=v=l.createElement("link");fe(I),je(I,"link",e),I._p=new Promise(function(B,G){I.onload=B,I.onerror=G}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,gc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:E},h.set(d,v)}}}function PS(e,i){Qi.X(e,i);var a=Ba;if(a&&e){var l=tn(a).hoistableScripts,h=ja(e),d=l.get(h);d||(d=a.querySelector(gl(h)),d||(e=T({src:e,async:!0},i),(i=Vn.get(h))&&Id(e,i),d=a.createElement("script"),fe(d),je(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function xS(e,i){Qi.M(e,i);var a=Ba;if(a&&e){var l=tn(a).hoistableScripts,h=ja(e),d=l.get(h);d||(d=a.querySelector(gl(h)),d||(e=T({src:e,async:!0,type:"module"},i),(i=Vn.get(h))&&Id(e,i),d=a.createElement("script"),fe(d),je(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function y_(e,i,a,l){var h=(h=bt.current)?mc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=qa(a.href),a=tn(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=qa(a.href);var d=tn(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(ml(e)))&&!d._p&&(v.instance=d,v.state.loading=5),Vn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Vn.set(e,a),d||US(h,e,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ja(a),a=tn(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function qa(e){return'href="'+ye(e)+'"'}function ml(e){return'link[rel="stylesheet"]['+e+"]"}function __(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function US(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),je(i,"link",a),fe(i),e.head.appendChild(i))}function ja(e){return'[src="'+ye(e)+'"]'}function gl(e){return"script[async]"+e}function v_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+ye(a.href)+'"]');if(l)return i.instance=l,fe(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),fe(l),je(l,"style",h),gc(l,a.precedence,e),i.instance=l;case"stylesheet":h=qa(a.href);var d=e.querySelector(ml(h));if(d)return i.state.loading|=4,i.instance=d,fe(d),d;l=__(a),(h=Vn.get(h))&&Rd(l,h),d=(e.ownerDocument||e).createElement("link"),fe(d);var v=d;return v._p=new Promise(function(E,I){v.onload=E,v.onerror=I}),je(d,"link",l),i.state.loading|=4,gc(d,a.precedence,e),i.instance=d;case"script":return d=ja(a.src),(h=e.querySelector(gl(d)))?(i.instance=h,fe(h),h):(l=a,(h=Vn.get(d))&&(l=T({},a),Id(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),fe(h),je(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,gc(l,a.precedence,e));return i.instance}function gc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var E=l[v];if(E.dataset.precedence===i)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Rd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Id(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var pc=null;function E_(e,i,a){if(pc===null){var l=new Map,h=pc=new Map;h.set(a,l)}else h=pc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[ss]||d[Se]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=e+v;var E=l.get(v);E?E.push(d):l.set(v,[d])}}return l}function T_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function LS(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function A_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var pl=null;function zS(){}function BS(e,i,a){if(pl===null)throw Error(s(475));var l=pl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=qa(a.href),d=e.querySelector(ml(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=yc.bind(l),e.then(l,l)),i.state.loading|=4,i.instance=d,fe(d);return}d=e.ownerDocument||e,a=__(a),(h=Vn.get(h))&&Rd(a,h),d=d.createElement("link"),fe(d);var v=d;v._p=new Promise(function(E,I){v.onload=E,v.onerror=I}),je(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=yc.bind(l),e.addEventListener("load",i),e.addEventListener("error",i))}}function qS(){if(pl===null)throw Error(s(475));var e=pl;return e.stylesheets&&e.count===0&&Cd(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&Cd(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function yc(){if(this.count--,this.count===0){if(this.stylesheets)Cd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var _c=null;function Cd(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,_c=new Map,i.forEach(jS,e),_c=null,yc.call(e))}function jS(e,i){if(!(i.state.loading&4)){var a=_c.get(e);if(a)var l=a.get(null);else{a=new Map,_c.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=yc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var yl={$$typeof:Q,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function HS(e,i,a,l,h,d,v,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Si(0),this.hiddenUpdates=Si(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function S_(e,i,a,l,h,d,v,E,I,B,G,W){return e=new HS(e,i,a,v,E,I,B,W),i=1,d===!0&&(i|=24),d=dn(3,null,null,i),e.current=d,d.stateNode=e,i=uf(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},df(d),e}function b_(e){return e?(e=va,e):va}function w_(e,i,a,l,h,d){h=b_(h),l.context===null?l.context=h:l.pendingContext=h,l=hr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=fr(e,l,i),a!==null&&(_n(a,e,i),Qo(a,e,i))}function R_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Dd(e,i){R_(e,i),(e=e.alternate)&&R_(e,i)}function I_(e){if(e.tag===13){var i=_a(e,67108864);i!==null&&_n(i,e,67108864),Dd(e,67108864)}}var vc=!0;function FS(e,i,a,l){var h=F.T;F.T=null;var d=it.p;try{it.p=2,Od(e,i,a,l)}finally{it.p=d,F.T=h}}function GS(e,i,a,l){var h=F.T;F.T=null;var d=it.p;try{it.p=8,Od(e,i,a,l)}finally{it.p=d,F.T=h}}function Od(e,i,a,l){if(vc){var h=Nd(l);if(h===null)yd(e,i,l,Ec,a),D_(e,l);else if(QS(h,e,i,a,l))l.stopPropagation();else if(D_(e,l),i&4&&-1<KS.indexOf(e)){for(;h!==null;){var d=Wn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Un(d.pendingLanes);if(v!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var I=1<<31-Qe(v);E.entanglements[1]|=I,v&=~I}hi(d),(Kt&6)===0&&(ic=En()+500,cl(0))}}break;case 13:E=_a(d,2),E!==null&&_n(E,d,2),sc(),Dd(d,2)}if(d=Nd(l),d===null&&yd(e,i,l,Ec,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else yd(e,i,l,null,a)}}function Nd(e){return e=Sn(e),Vd(e)}var Ec=null;function Vd(e){if(Ec=null,e=wi(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Ec=e,null}function C_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(kh()){case go:return 2;case Ws:return 8;case ts:case Ph:return 32;case Zs:return 268435456;default:return 32}default:return 32}}var Md=!1,wr=null,Rr=null,Ir=null,_l=new Map,vl=new Map,Cr=[],KS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function D_(e,i){switch(e){case"focusin":case"focusout":wr=null;break;case"dragenter":case"dragleave":Rr=null;break;case"mouseover":case"mouseout":Ir=null;break;case"pointerover":case"pointerout":_l.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":vl.delete(i.pointerId)}}function El(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Wn(i),i!==null&&I_(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function QS(e,i,a,l,h){switch(i){case"focusin":return wr=El(wr,e,i,a,l,h),!0;case"dragenter":return Rr=El(Rr,e,i,a,l,h),!0;case"mouseover":return Ir=El(Ir,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return _l.set(d,El(_l.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,vl.set(d,El(vl.get(d)||null,e,i,a,l,h)),!0}return!1}function O_(e){var i=wi(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,su(e.priority,function(){if(a.tag===13){var l=yn();l=nr(l);var h=_a(a,l);h!==null&&_n(h,a,l),Dd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Tc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Nd(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Di=l,a.target.dispatchEvent(l),Di=null}else return i=Wn(a),i!==null&&I_(i),e.blockedOn=a,!1;i.shift()}return!0}function N_(e,i,a){Tc(e)&&a.delete(i)}function YS(){Md=!1,wr!==null&&Tc(wr)&&(wr=null),Rr!==null&&Tc(Rr)&&(Rr=null),Ir!==null&&Tc(Ir)&&(Ir=null),_l.forEach(N_),vl.forEach(N_)}function Ac(e,i){e.blockedOn===i&&(e.blockedOn=null,Md||(Md=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,YS)))}var Sc=null;function V_(e){Sc!==e&&(Sc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Sc===e&&(Sc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(Vd(l||a)===null)continue;break}var d=Wn(a);d!==null&&(e.splice(i,3),i-=3,Vf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Tl(e){function i(I){return Ac(I,e)}wr!==null&&Ac(wr,e),Rr!==null&&Ac(Rr,e),Ir!==null&&Ac(Ir,e),_l.forEach(i),vl.forEach(i);for(var a=0;a<Cr.length;a++){var l=Cr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Cr.length&&(a=Cr[0],a.blockedOn===null);)O_(a),a.blockedOn===null&&Cr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[pe]||null;if(typeof d=="function")v||V_(a);else if(v){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[pe]||null)E=v.formAction;else if(Vd(h)!==null)continue}else E=v.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),V_(a)}}}function kd(e){this._internalRoot=e}bc.prototype.render=kd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=yn();w_(a,l,e,i,null,null)},bc.prototype.unmount=kd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;w_(e.current,2,null,e,null,null),sc(),i[Tn]=null}};function bc(e){this._internalRoot=e}bc.prototype.unstable_scheduleHydration=function(e){if(e){var i=ir();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Cr.length&&i!==0&&i<Cr[a].priority;a++);Cr.splice(a,0,e),a===0&&O_(e)}};var M_=t.version;if(M_!=="19.1.0")throw Error(s(527,M_,"19.1.0"));it.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=p(i),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var XS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wc.isDisabled&&wc.supportsFiber)try{ue=wc.inject(XS),Gt=wc}catch{}}return Al.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=Xp,d=$p,v=Wp,E=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=S_(e,1,!1,null,null,a,l,h,d,v,E,null),e[Tn]=i.current,pd(e),new kd(i)},Al.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=Xp,v=$p,E=Wp,I=null,B=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(B=a.formState)),i=S_(e,1,!0,i,a??null,l,h,d,v,E,I,B),i.context=b_(null),a=i.current,l=yn(),l=nr(l),h=hr(l),h.callback=null,fr(a,h,l),a=l,i.current.lanes=a,bi(i,a),hi(i),e[Tn]=i.current,pd(e),new bc(i)},Al.version="19.1.0",Al}var q_;function rb(){if(q_)return xd.exports;q_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),xd.exports=ib(),xd.exports}var sb=rb();const ab=({onClose:r,onSubmit:t})=>{const[n,s]=Yt.useState(""),[o,u]=Yt.useState(""),[f,m]=Yt.useState(""),[p,y]=Yt.useState(""),[T,R]=Yt.useState(new Date().toISOString().split("T")[0]),[C,z]=Yt.useState(""),[X,tt]=Yt.useState(""),[K,pt]=Yt.useState(""),[ht,Q]=Yt.useState(!1),ut=["Maize bran","Wheat bran","Maize germ","Cob dust"],st=w=>{const O=w.target.value;m(O),Q(ut.includes(O)),O==="Cob dust"&&pt("5"),ut.includes(O)?O!=="Cob dust"&&pt(""):(z(""),tt(""),pt(""))},ft=w=>{if(tt(w.target.value),w.target.value&&K){const O=parseFloat(w.target.value)*parseFloat(K);u(O.toFixed(2))}},V=w=>{if(pt(w.target.value),w.target.value&&X){const O=parseFloat(X)*parseFloat(w.target.value);u(O.toFixed(2))}},b=w=>{w.preventDefault();const O={id:Date.now(),type:n,amount:parseFloat(o),category:f,description:p,date:T,...ht&&{weightPerBag:C?parseFloat(C):null,quantity:X?parseFloat(X):null,pricePerUnit:K?parseFloat(K):null,totalWeight:C&&X?parseFloat(C)*parseFloat(X):null}};t(O),r()};return S.createElement("div",{className:"form-container"},S.createElement("div",{className:"form-content"},S.createElement("h2",null,"Add Transaction"),S.createElement("form",{onSubmit:b},S.createElement("label",null,"Type:",S.createElement("select",{value:n,onChange:w=>s(w.target.value),required:!0},S.createElement("option",{value:"",disabled:!0},"Select type"),S.createElement("option",{value:"Income"},"Income (Sales)"),S.createElement("option",{value:"Expense"},"Expense (Purchase)"))),S.createElement("label",null,"Category:",S.createElement("select",{value:f,onChange:st,required:!0},S.createElement("option",{value:"",disabled:!0},"Select category"),S.createElement("option",{value:"Fuel"},"Fuel"),S.createElement("option",{value:"Driver"},"Driver"),S.createElement("option",{value:"Maize bran"},"Maize bran"),S.createElement("option",{value:"Wheat bran"},"Wheat bran"),S.createElement("option",{value:"Maize germ"},"Maize germ"),S.createElement("option",{value:"Cob dust"},"Cob dust"),S.createElement("option",{value:"Electricity"},"Electricity"),S.createElement("option",{value:"Toll station"},"Toll station"),S.createElement("option",{value:"Loaders"},"Loaders"),S.createElement("option",{value:"Rent"},"Rent"),S.createElement("option",{value:"Workers"},"Workers"),S.createElement("option",{value:"Milling"},"Milling"),S.createElement("option",{value:"Packaging"},"Packaging"),S.createElement("option",{value:"Delivery"},"Delivery"),S.createElement("option",{value:"Cleaning"},"Cleaning"),S.createElement("option",{value:"Working"},"Working"),S.createElement("option",{value:"Expenses"},"Expenses"))),ht&&S.createElement(S.Fragment,null,S.createElement("label",null,f==="Cob dust"?"Quantity (kg):":"Quantity (bags):",S.createElement("input",{type:"number",value:X,onChange:ft,placeholder:f==="Cob dust"?"Weight in kg":"Number of bags",required:!0})),f!=="Cob dust"&&S.createElement("label",null,"Weight per bag (kg):",S.createElement("input",{type:"number",step:"0.01",value:C,onChange:w=>z(w.target.value),placeholder:"Weight per bag in kg"})),S.createElement("label",null,f==="Cob dust"?"Price per kg (KES):":"Price per bag (KES):",S.createElement("input",{type:"number",step:"0.01",value:K,onChange:V,placeholder:"KES 0.00",required:!0,readOnly:f==="Cob dust"}))),S.createElement("label",null,ht?"Total Amount (auto-calculated):":"Amount:",S.createElement("input",{type:"number",step:"0.01",value:o,onChange:w=>u(w.target.value),placeholder:"KES 0.00",required:!0,readOnly:ht&&X&&K})),S.createElement("label",null,"Description:",S.createElement("input",{type:"text",value:p,onChange:w=>y(w.target.value),placeholder:ht?`${n==="Income"?"Sale":"Purchase"} of ${f}...`:"Enter transaction description...",required:!0})),S.createElement("label",null,"Date:",S.createElement("input",{type:"date",value:T,onChange:w=>R(w.target.value)})),S.createElement("div",{className:"buttons"},S.createElement("button",{type:"submit"},n==="Income"?"Record Sale":"Record Purchase"),S.createElement("button",{type:"button",onClick:r},"Cancel")))))},ob=({onAddTransaction:r})=>{const[t,n]=Yt.useState(!1),s=o=>{console.log("Submitted transactions:",o),r(o),n(!1)};return S.createElement("div",{className:"button"},S.createElement("button",{id:"add-form",onClick:()=>n(!0)},"+ Add Transaction"),t&&S.createElement(ab,{onSubmit:s,onClose:()=>n(!1)}))},lb=({transactions:r=[]})=>{const t=r.reduce((m,p)=>{const y=p.date||new Date().toISOString().split("T")[0];return m[y]||(m[y]=[]),m[y].push(p),m},{}),n=Object.keys(t).sort((m,p)=>new Date(p)-new Date(m)),s=m=>{const p=m.filter(C=>C.type==="Income").reduce((C,z)=>C+parseFloat(z.amount),0),y=m.filter(C=>C.type==="Expense").reduce((C,z)=>(C[z.category]=(C[z.category]||0)+parseFloat(z.amount),C),{}),T=Object.values(y).reduce((C,z)=>C+z,0),R=p-T;return{totalRevenue:p,expenseByCategory:y,totalExpenses:T,net:R}},o=m=>new Date(m).toLocaleDateString("en-KE",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),u=m=>new Intl.NumberFormat("en-KE",{style:"currency",currency:"KES",minimumFractionDigits:2}).format(m),f=s(r);return n.length===0?S.createElement("div",{style:_t.balanceSheet},S.createElement("div",{style:_t.header},S.createElement("h2",{style:_t.title},"Balance Sheet Summary"),S.createElement("p",{style:_t.period},"No transactions available"))):S.createElement("div",{style:_t.balanceSheet},S.createElement("div",{style:_t.header},S.createElement("h2",{style:_t.title},"Daily Balance Sheet Summary"),S.createElement("p",{style:_t.period},"Financial Overview by Day")),S.createElement("div",{style:{..._t.section,..._t.overallSummary}},S.createElement("h3",{style:_t.sectionTitle},"Overall Summary"),S.createElement("div",{style:_t.summaryGrid},S.createElement("div",{style:_t.summaryCard},S.createElement("h4",{style:_t.summaryTitle},"Total Revenue"),S.createElement("div",{style:_t.summaryAmount},u(f.totalRevenue))),S.createElement("div",{style:_t.summaryCard},S.createElement("h4",{style:_t.summaryTitle},"Total Expenses"),S.createElement("div",{style:_t.summaryAmount},u(f.totalExpenses))),S.createElement("div",{style:{..._t.summaryCard,backgroundColor:f.net>=0?"#e8f5e8":"#ffeaea"}},S.createElement("h4",{style:_t.summaryTitle},"Net Result"),S.createElement("div",{style:{..._t.summaryAmount,color:f.net>=0?"#2e7d32":"#d32f2f"}},u(Math.abs(f.net)))))),n.map(m=>{const p=t[m],{totalRevenue:y,expenseByCategory:T,totalExpenses:R,net:C}=s(p);return S.createElement("div",{key:m,style:_t.dailySheet},S.createElement("div",{style:_t.dateHeader},S.createElement("h3",{style:_t.dateTitle},o(m)),S.createElement("div",{style:_t.dateStats},p.length," transaction",p.length!==1?"s":"")),S.createElement("div",{style:_t.section},S.createElement("h4",{style:_t.subsectionTitle},"Revenue"),S.createElement("div",{style:_t.card},S.createElement("div",{style:_t.totalAmount},u(y)),S.createElement("div",{style:_t.subtitle},p.filter(z=>z.type==="Income").length," income transactions"))),S.createElement("div",{style:_t.section},S.createElement("h4",{style:_t.subsectionTitle},"Expenses by Category"),S.createElement("div",{style:_t.card},Object.keys(T).length>0?S.createElement(S.Fragment,null,S.createElement("table",{style:_t.table},S.createElement("thead",null,S.createElement("tr",{style:_t.tableHeader},S.createElement("th",{style:_t.th},"Category"),S.createElement("th",{style:_t.th},"Amount"),S.createElement("th",{style:_t.th},"%"))),S.createElement("tbody",null,Object.entries(T).sort(([,z],[,X])=>X-z).map(([z,X])=>S.createElement("tr",{key:z,style:_t.tableRow},S.createElement("td",{style:_t.td},z),S.createElement("td",{style:_t.td},u(X)),S.createElement("td",{style:_t.td},R>0?(X/R*100).toFixed(1):"0.0","%"))))),S.createElement("div",{style:_t.totalRow},S.createElement("strong",null,"Total Expenses: ",u(R)))):S.createElement("div",{style:_t.noData},"No expenses recorded"))),S.createElement("div",{style:_t.sectionNet},S.createElement("h4",{style:_t.subsectionTitle},C>=0?"Net Profit":"Net Loss"),S.createElement("div",{style:_t.card},S.createElement("div",{style:_t.netCalculation},S.createElement("div",{style:_t.calculationRow},S.createElement("span",null,"Revenue:"),S.createElement("span",null,u(y))),S.createElement("div",{style:_t.calculationRow},S.createElement("span",null,"Expenses:"),S.createElement("span",null,"(",u(R),")")),S.createElement("div",{style:_t.separator}),S.createElement("div",{style:{..._t.calculationRow,..._t.netResult,color:C>=0?"#2e7d32":"#d32f2f"}},S.createElement("span",null,S.createElement("strong",null,C>=0?"Net Profit:":"Net Loss:")),S.createElement("span",null,S.createElement("strong",null,u(Math.abs(C)))))))))}))},_t={balanceSheet:{maxWidth:"1200px",margin:"0 auto",padding:"20px",fontFamily:"Arial, sans-serif",backgroundColor:"#f5f5f5",minHeight:"100vh"},header:{textAlign:"center",marginBottom:"30px",backgroundColor:"#ffffff",padding:"30px",borderRadius:"8px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},title:{fontSize:"2.2rem",color:"#2c3e50",margin:"0 0 10px 0",fontWeight:"bold"},period:{fontSize:"1rem",color:"#7f8c8d",margin:"0"},overallSummary:{backgroundColor:"#3498db",color:"white",borderRadius:"8px",padding:"20px",marginBottom:"40px"},dailySheet:{backgroundColor:"#ffffff",borderRadius:"8px",padding:"25px",marginBottom:"30px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",border:"1px solid #ecf0f1"},dateHeader:{textAlign:"center",marginBottom:"25px",borderBottom:"2px solid #3498db",paddingBottom:"15px"},dateTitle:{fontSize:"1.8rem",color:"#2c3e50",margin:"0 0 10px 0",fontWeight:"bold"},dateStats:{fontSize:"0.9rem",color:"#7f8c8d"},section:{marginBottom:"25px"},sectionNet:{marginBottom:"20px"},sectionTitle:{fontSize:"1.4rem",color:"#2c3e50",margin:"0 0 15px 0",fontWeight:"600"},subsectionTitle:{fontSize:"1.2rem",color:"#34495e",margin:"0 0 12px 0",fontWeight:"600"},card:{backgroundColor:"#f8f9fa",padding:"20px",borderRadius:"6px",border:"1px solid #e9ecef"},totalAmount:{fontSize:"2rem",color:"#27ae60",fontWeight:"bold",textAlign:"center",marginBottom:"8px"},subtitle:{fontSize:"0.9rem",color:"#7f8c8d",textAlign:"center"},table:{width:"100%",borderCollapse:"collapse",marginBottom:"15px"},tableHeader:{backgroundColor:"#ecf0f1"},th:{padding:"12px",textAlign:"left",borderBottom:"2px solid #bdc3c7",fontWeight:"600",color:"#2c3e50",fontSize:"0.9rem"},tableRow:{borderBottom:"1px solid #ecf0f1"},td:{padding:"10px 12px",color:"#34495e",fontSize:"0.9rem"},totalRow:{textAlign:"right",fontSize:"1rem",color:"#2c3e50",borderTop:"2px solid #bdc3c7",paddingTop:"10px"},noData:{textAlign:"center",color:"#7f8c8d",fontSize:"0.9rem",padding:"15px"},netCalculation:{maxWidth:"350px",margin:"0 auto"},calculationRow:{display:"flex",justifyContent:"space-between",padding:"8px 0",fontSize:"1rem"},separator:{height:"2px",backgroundColor:"#bdc3c7",margin:"10px 0"},netResult:{fontSize:"1.2rem",backgroundColor:"#ffffff",padding:"12px",borderRadius:"5px",marginTop:"8px",border:"1px solid #e9ecef"},summaryGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px",marginTop:"20px"},summaryCard:{backgroundColor:"#ffffff",padding:"20px",borderRadius:"6px",textAlign:"center",boxShadow:"0 2px 6px rgba(0,0,0,0.1)"},summaryTitle:{fontSize:"1rem",color:"#7f8c8d",margin:"0 0 8px 0",fontWeight:"600"},summaryAmount:{fontSize:"1.4rem",color:"#2c3e50",margin:"0",fontWeight:"bold"}},IE="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='%2363bc0b'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='lucide%20lucide-trending-up-icon%20lucide-trending-up'%3e%3cpath%20d='M16%207h6v6'/%3e%3cpath%20d='m22%207-8.5%208.5-5-5L2%2017'/%3e%3c/svg%3e",ub=({transactions:r,onDelete:t})=>S.createElement("div",{className:"container"},r.length===0?S.createElement(S.Fragment,null,S.createElement("img",{src:IE,alt:"Trending up"}),S.createElement("p",null,"No transactions yet"),S.createElement("p",null,"Start thinking your business finances by adding your first transactions")):S.createElement("ul",{className:"transaction-list"},r.map(n=>S.createElement("li",{key:n.id,className:`transaction-item ${n.type.toLowerCase()==="income"?"income":"expense"}`},S.createElement("div",{className:"transaction-info"},S.createElement("span",{className:"transaction-date"},n.date),S.createElement("span",{className:"transaction-category"},n.category),S.createElement("span",{className:"transaction-description"},n.description),S.createElement("span",{className:"transaction-amount"},"KES ",n.amount)),S.createElement("button",{className:"delete-btn",onClick:()=>{console.log("Delete button clicked for transaction:",n.id),console.log("Transaction ID type:",typeof n.id),console.log("Full transaction object:",n),t(String(n.id))},title:"Delete this transaction"},"Delete"))))),cb="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='%23ba180b'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='lucide%20lucide-trending-down-icon%20lucide-trending-down'%3e%3cpath%20d='M16%2017h6v-6'/%3e%3cpath%20d='m22%2017-8.5-8.5-5%205L2%207'/%3e%3c/svg%3e",hb=({transactions:r})=>{const t=r.filter(o=>o.type==="Income").reduce((o,u)=>o+parseFloat(u.amount),0),n=r.filter(o=>o.type==="Expense").reduce((o,u)=>o+parseFloat(u.amount),0),s=t-n;return S.createElement("div",{className:"cards-container"},S.createElement("div",{className:"card1"},S.createElement("h4",null,"Total Income"),S.createElement("img",{src:IE}),S.createElement("p",{className:"kes1"},"KES ",t),S.createElement("p",null,"From 0 transactions")),S.createElement("div",{className:"card2"},S.createElement("h4",null,"Total Expenses"),S.createElement("img",{src:cb}),S.createElement("p",{className:"kes2"},"KES ",n),S.createElement("p",null,"From 0 transactions")),S.createElement("div",{className:"card3"},S.createElement("h4",null,"Net Profit"),S.createElement("span",null,"KES"),S.createElement("p",{className:"kes3"},"KES ",s),S.createElement("p",null,"Profit this period")))},Bd=()=>S.createElement("div",{className:"header-container"},S.createElement("h1",null,"Finance Tracker"),S.createElement("p",null,"Manage your business incomes and expenses")),fb=()=>{};var j_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},db=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},DE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,T=u>>2,R=(u&3)<<4|m>>4;let C=(m&15)<<2|y>>6,z=y&63;p||(z=64,f||(C=64)),s.push(n[T],n[R],n[C],n[z])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(CE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):db(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const R=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||R==null)throw new mb;const C=u<<2|m>>4;if(s.push(C),y!==64){const z=m<<4&240|y>>2;if(s.push(z),R!==64){const X=y<<6&192|R;s.push(X)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class mb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gb=function(r){const t=CE(r);return DE.encodeByteArray(t,!0)},Hc=function(r){return gb(r).replace(/\./g,"")},OE=function(r){try{return DE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb=()=>pb().__FIREBASE_DEFAULTS__,_b=()=>{if(typeof process>"u"||typeof j_>"u")return;const r=j_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},vb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&OE(r[1]);return t&&JSON.parse(t)},hh=()=>{try{return fb()||yb()||_b()||vb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},NE=r=>{var t,n;return(n=(t=hh())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},Eb=r=>{const t=NE(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},VE=()=>{var r;return(r=hh())===null||r===void 0?void 0:r.config},ME=r=>{var t;return(t=hh())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function so(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function kE(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Hc(JSON.stringify(n)),Hc(JSON.stringify(f)),""].join(".")}const Cl={};function Sb(){const r={prod:[],emulator:[]};for(const t of Object.keys(Cl))Cl[t]?r.emulator.push(t):r.prod.push(t);return r}function bb(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let H_=!1;function PE(r,t){if(typeof window>"u"||typeof document>"u"||!so(window.location.host)||Cl[r]===t||Cl[r]||H_)return;Cl[r]=t;function n(C){return`__firebase__banner__${C}`}const s="__firebase__banner",u=Sb().prod.length>0;function f(){const C=document.getElementById(s);C&&C.remove()}function m(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function p(C,z){C.setAttribute("width","24"),C.setAttribute("id",z),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function y(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{H_=!0,f()},C}function T(C,z){C.setAttribute("id",z),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function R(){const C=bb(s),z=n("text"),X=document.getElementById(z)||document.createElement("span"),tt=n("learnmore"),K=document.getElementById(tt)||document.createElement("a"),pt=n("preprendIcon"),ht=document.getElementById(pt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const Q=C.element;m(Q),T(K,tt);const ut=y();p(ht,pt),Q.append(ht,X,K,ut),document.body.appendChild(Q)}u?(X.innerText="Preview backend disconnected.",ht.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ht.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,X.innerText="Preview backend running in this workspace."),X.setAttribute("id",z)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",R):R()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}function Rb(){var r;const t=(r=hh())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ib(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function xE(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Cb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Db(){const r=Je();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Ob(){return!Rb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function UE(){try{return typeof indexedDB=="object"}catch{return!1}}function LE(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){t(n)}})}function Nb(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb="FirebaseError";class Yn extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=Vb,Object.setPrototypeOf(this,Yn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hs.prototype.create)}}class Hs{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?Mb(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Yn(o,m,s)}}function Mb(r,t){return r.replace(kb,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const kb=/\{\$([^}]+)}/g;function Pb(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function qr(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(F_(u)&&F_(f)){if(!qr(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function F_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Sl(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function bl(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function xb(r,t){const n=new Ub(r,t);return n.subscribe.bind(n)}class Ub{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Lb(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=qd),o.error===void 0&&(o.error=qd),o.complete===void 0&&(o.complete=qd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Lb(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function qd(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb=1e3,Bb=2,qb=4*60*60*1e3,jb=.5;function G_(r,t=zb,n=Bb){const s=t*Math.pow(n,r),o=Math.round(jb*s*(Math.random()-.5)*2);return Math.min(qb,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(r){return r&&r._delegate?r._delegate:r}class Gn{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new Tb;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t?.identifier),o=(n=t?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Gb(t))try{this.getOrInitializeService({instanceIdentifier:ks})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=ks){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ks){return this.instances.has(t)}getOptions(t=ks){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(t),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&t(f,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Fb(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=ks){return this.component?this.component.multipleInstances?t:ks:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Fb(r){return r===ks?void 0:r}function Gb(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Hb(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(kt||(kt={}));const Qb={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},Yb=kt.INFO,Xb={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},$b=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=Xb[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class fh{constructor(t){this.name=t,this._logLevel=Yb,this._logHandler=$b,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in kt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Qb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}const Wb=(r,t)=>t.some(n=>r instanceof n);let K_,Q_;function Zb(){return K_||(K_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Jb(){return Q_||(Q_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zE=new WeakMap,em=new WeakMap,BE=new WeakMap,jd=new WeakMap,Dm=new WeakMap;function tw(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(xr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&zE.set(n,r)}).catch(()=>{}),Dm.set(t,r),t}function ew(r){if(em.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});em.set(r,t)}let nm={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return em.get(r);if(t==="objectStoreNames")return r.objectStoreNames||BE.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function nw(r){nm=r(nm)}function iw(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(Hd(this),t,...n);return BE.set(s,t.sort?t.sort():[t]),xr(s)}:Jb().includes(r)?function(...t){return r.apply(Hd(this),t),xr(zE.get(this))}:function(...t){return xr(r.apply(Hd(this),t))}}function rw(r){return typeof r=="function"?iw(r):(r instanceof IDBTransaction&&ew(r),Wb(r,Zb())?new Proxy(r,nm):r)}function xr(r){if(r instanceof IDBRequest)return tw(r);if(jd.has(r))return jd.get(r);const t=rw(r);return t!==r&&(jd.set(r,t),Dm.set(t,r)),t}const Hd=r=>Dm.get(r);function qE(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),m=xr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(xr(f.result),p.oldVersion,p.newVersion,xr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const sw=["get","getKey","getAll","getAllKeys","count"],aw=["put","add","delete","clear"],Fd=new Map;function Y_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Fd.get(t))return Fd.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=aw.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||sw.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return Fd.set(t,u),u}nw(r=>({...r,get:(t,n,s)=>Y_(t,n)||r.get(t,n,s),has:(t,n)=>!!Y_(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(lw(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function lw(r){const t=r.getComponent();return t?.type==="VERSION"}const im="@firebase/app",X_="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=new fh("@firebase/app"),uw="@firebase/app-compat",cw="@firebase/analytics-compat",hw="@firebase/analytics",fw="@firebase/app-check-compat",dw="@firebase/app-check",mw="@firebase/auth",gw="@firebase/auth-compat",pw="@firebase/database",yw="@firebase/data-connect",_w="@firebase/database-compat",vw="@firebase/functions",Ew="@firebase/functions-compat",Tw="@firebase/installations",Aw="@firebase/installations-compat",Sw="@firebase/messaging",bw="@firebase/messaging-compat",ww="@firebase/performance",Rw="@firebase/performance-compat",Iw="@firebase/remote-config",Cw="@firebase/remote-config-compat",Dw="@firebase/storage",Ow="@firebase/storage-compat",Nw="@firebase/firestore",Vw="@firebase/ai",Mw="@firebase/firestore-compat",kw="firebase",Pw="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm="[DEFAULT]",xw={[im]:"fire-core",[uw]:"fire-core-compat",[hw]:"fire-analytics",[cw]:"fire-analytics-compat",[dw]:"fire-app-check",[fw]:"fire-app-check-compat",[mw]:"fire-auth",[gw]:"fire-auth-compat",[pw]:"fire-rtdb",[yw]:"fire-data-connect",[_w]:"fire-rtdb-compat",[vw]:"fire-fn",[Ew]:"fire-fn-compat",[Tw]:"fire-iid",[Aw]:"fire-iid-compat",[Sw]:"fire-fcm",[bw]:"fire-fcm-compat",[ww]:"fire-perf",[Rw]:"fire-perf-compat",[Iw]:"fire-rc",[Cw]:"fire-rc-compat",[Dw]:"fire-gcs",[Ow]:"fire-gcs-compat",[Nw]:"fire-fst",[Mw]:"fire-fst-compat",[Vw]:"fire-vertex","fire-js":"fire-js",[kw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc=new Map,Uw=new Map,sm=new Map;function $_(r,t){try{r.container.addComponent(t)}catch(n){Wi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Ei(r){const t=r.name;if(sm.has(t))return Wi.debug(`There were multiple attempts to register component ${t}.`),!1;sm.set(t,r);for(const n of Fc.values())$_(n,r);for(const n of Uw.values())$_(n,r);return!0}function Fs(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Mn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ur=new Hs("app","Firebase",Lw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Gn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ur.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao=Pw;function jE(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:rm,automaticDataCollectionEnabled:!0},t),o=s.name;if(typeof o!="string"||!o)throw Ur.create("bad-app-name",{appName:String(o)});if(n||(n=VE()),!n)throw Ur.create("no-options");const u=Fc.get(o);if(u){if(qr(n,u.options)&&qr(s,u.config))return u;throw Ur.create("duplicate-app",{appName:o})}const f=new Kb(o);for(const p of sm.values())f.addComponent(p);const m=new zw(n,s,f);return Fc.set(o,m),m}function Om(r=rm){const t=Fc.get(r);if(!t&&r===rm&&VE())return jE();if(!t)throw Ur.create("no-app",{appName:r});return t}function xn(r,t,n){var s;let o=(s=xw[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=t.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${t}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Wi.warn(m.join(" "));return}Ei(new Gn(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw="firebase-heartbeat-database",qw=1,Pl="firebase-heartbeat-store";let Gd=null;function HE(){return Gd||(Gd=qE(Bw,qw,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Pl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Ur.create("idb-open",{originalErrorMessage:r.message})})),Gd}async function jw(r){try{const n=(await HE()).transaction(Pl),s=await n.objectStore(Pl).get(FE(r));return await n.done,s}catch(t){if(t instanceof Yn)Wi.warn(t.message);else{const n=Ur.create("idb-get",{originalErrorMessage:t?.message});Wi.warn(n.message)}}}async function W_(r,t){try{const s=(await HE()).transaction(Pl,"readwrite");await s.objectStore(Pl).put(t,FE(r)),await s.done}catch(n){if(n instanceof Yn)Wi.warn(n.message);else{const s=Ur.create("idb-set",{originalErrorMessage:n?.message});Wi.warn(s.message)}}}function FE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw=1024,Fw=30;class Gw{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Qw(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Z_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>Fw){const f=Yw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Wi.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Z_(),{heartbeatsToSend:s,unsentEntries:o}=Kw(this._heartbeatsCache.heartbeats),u=Hc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Wi.warn(n),""}}}function Z_(){return new Date().toISOString().substring(0,10)}function Kw(r,t=Hw){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),J_(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),J_(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Qw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return UE()?LE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await jw(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return W_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return W_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function J_(r){return Hc(JSON.stringify({version:2,heartbeats:r})).length}function Yw(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(r){Ei(new Gn("platform-logger",t=>new ow(t),"PRIVATE")),Ei(new Gn("heartbeat",t=>new Gw(t),"PRIVATE")),xn(im,X_,r),xn(im,X_,"esm2017"),xn("fire-js","")}Xw("");function Nm(r,t){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function GE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $w=GE,KE=new Hs("auth","Firebase",GE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc=new fh("@firebase/auth");function Ww(r,...t){Gc.logLevel<=kt.WARN&&Gc.warn(`Auth (${ao}): ${r}`,...t)}function Mc(r,...t){Gc.logLevel<=kt.ERROR&&Gc.error(`Auth (${ao}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(r,...t){throw Vm(r,...t)}function di(r,...t){return Vm(r,...t)}function QE(r,t,n){const s=Object.assign(Object.assign({},$w()),{[t]:n});return new Hs("auth","Firebase",s).create(t,{appName:r.name})}function $i(r){return QE(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Vm(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return KE.create(r,...t)}function Tt(r,t,...n){if(!r)throw Vm(t,...n)}function Yi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Mc(t),new Error(t)}function Zi(r,t){r||Yi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function am(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function Zw(){return tv()==="http:"||tv()==="https:"}function tv(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Zw()||xE()||"connection"in navigator)?navigator.onLine:!0}function t1(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(t,n){this.shortDelay=t,this.longDelay=n,Zi(n>t,"Short delay should be less than long delay!"),this.isMobile=wb()||Cb()}get(){return Jw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(r,t){Zi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],i1=new Ql(3e4,6e4);function Xr(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function $r(r,t,n,s,o={}){return XE(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=Kl(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:t,headers:p},u);return Ib()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&so(r.emulatorConfig.host)&&(y.credentials="include"),YE.fetch()(await $E(r,r.config.apiHost,n,m),y)})}async function XE(r,t,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},e1),t);try{const o=new s1(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Rc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Rc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Rc(r,"user-disabled",f);const T=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw QE(r,T,y);Kn(r,T)}}catch(o){if(o instanceof Yn)throw o;Kn(r,"network-request-failed",{message:String(o)})}}async function Yl(r,t,n,s,o={}){const u=await $r(r,t,n,s,o);return"mfaPendingCredential"in u&&Kn(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function $E(r,t,n,s){const o=`${t}${n}?${s}`,u=r,f=u.config.emulator?Mm(r.config,o):`${r.config.apiScheme}://${o}`;return n1.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function r1(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class s1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(di(this.auth,"network-request-failed")),i1.get())})}}function Rc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=di(r,t,s);return o.customData._tokenResponse=n,o}function ev(r){return r!==void 0&&r.enterprise!==void 0}class a1{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return r1(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function o1(r,t){return $r(r,"GET","/v2/recaptchaConfig",Xr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l1(r,t){return $r(r,"POST","/v1/accounts:delete",t)}async function Kc(r,t){return $r(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function u1(r,t=!1){const n=Ge(r),s=await n.getIdToken(t),o=km(s);Tt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Dl(Kd(o.auth_time)),issuedAtTime:Dl(Kd(o.iat)),expirationTime:Dl(Kd(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Kd(r){return Number(r)*1e3}function km(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return Mc("JWT malformed, contained fewer than 3 sections"),null;try{const o=OE(n);return o?JSON.parse(o):(Mc("Failed to decode base64 JWT payload"),null)}catch(o){return Mc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function nv(r){const t=km(r);return Tt(t,"internal-error"),Tt(typeof t.exp<"u","internal-error"),Tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xl(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Yn&&c1(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function c1({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dl(this.lastLoginAt),this.creationTime=Dl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qc(r){var t;const n=r.auth,s=await r.getIdToken(),o=await xl(r,Kc(n,{idToken:s}));Tt(o?.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?WE(u.providerUserInfo):[],m=d1(r.providerData,f),p=r.isAnonymous,y=!(r.email&&u.passwordHash)&&!m?.length,T=p?y:!1,R={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new om(u.createdAt,u.lastLoginAt),isAnonymous:T};Object.assign(r,R)}async function f1(r){const t=Ge(r);await Qc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function d1(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function WE(r){return r.map(t=>{var{providerId:n}=t,s=Nm(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m1(r,t){const n=await XE(r,{},async()=>{const s=Kl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await $E(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&so(r.emulatorConfig.host)&&(p.credentials="include"),YE.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function g1(r,t){return $r(r,"POST","/v2/accounts:revokeToken",Xr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Tt(t.idToken,"internal-error"),Tt(typeof t.idToken<"u","internal-error"),Tt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):nv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Tt(t.length!==0,"internal-error");const n=nv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await m1(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Ya;return s&&(Tt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(Tt(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(Tt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ya,this.toJSON())}_performRefresh(){return Yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(r,t){Tt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Hn{constructor(t){var{uid:n,auth:s,stsTokenManager:o}=t,u=Nm(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new h1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new om(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const n=await xl(this,this.stsTokenManager.getToken(this.auth,t));return Tt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return u1(this,t)}reload(){return f1(this)}_assign(t){this!==t&&(Tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Hn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Qc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mn(this.auth.app))return Promise.reject($i(this.auth));const t=await this.getIdToken();return await xl(this,l1(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,o,u,f,m,p,y,T;const R=(s=n.displayName)!==null&&s!==void 0?s:void 0,C=(o=n.email)!==null&&o!==void 0?o:void 0,z=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,X=(f=n.photoURL)!==null&&f!==void 0?f:void 0,tt=(m=n.tenantId)!==null&&m!==void 0?m:void 0,K=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,pt=(y=n.createdAt)!==null&&y!==void 0?y:void 0,ht=(T=n.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:Q,emailVerified:ut,isAnonymous:st,providerData:ft,stsTokenManager:V}=n;Tt(Q&&V,t,"internal-error");const b=Ya.fromJSON(this.name,V);Tt(typeof Q=="string",t,"internal-error"),Or(R,t.name),Or(C,t.name),Tt(typeof ut=="boolean",t,"internal-error"),Tt(typeof st=="boolean",t,"internal-error"),Or(z,t.name),Or(X,t.name),Or(tt,t.name),Or(K,t.name),Or(pt,t.name),Or(ht,t.name);const w=new Hn({uid:Q,auth:t,email:C,emailVerified:ut,displayName:R,isAnonymous:st,photoURL:X,phoneNumber:z,tenantId:tt,stsTokenManager:b,createdAt:pt,lastLoginAt:ht});return ft&&Array.isArray(ft)&&(w.providerData=ft.map(O=>Object.assign({},O))),K&&(w._redirectEventId=K),w}static async _fromIdTokenResponse(t,n,s=!1){const o=new Ya;o.updateFromServerResponse(n);const u=new Hn({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await Qc(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];Tt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?WE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new Ya;m.updateFromIdToken(s);const p=new Hn({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new om(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv=new Map;function Xi(r){Zi(r instanceof Function,"Expected a class definition");let t=iv.get(r);return t?(Zi(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,iv.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}ZE.type="NONE";const rv=ZE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(r,t,n){return`firebase:${r}:${t}:${n}`}class Xa{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=kc(this.userKey,o.apiKey,u),this.fullPersistenceKey=kc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Kc(this.auth,{idToken:t}).catch(()=>{});return n?Hn._fromGetAccountInfoResponse(this.auth,n,t):null}return Hn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Xa(Xi(rv),t,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Xi(rv);const f=kc(s,t.config.apiKey,t.name);let m=null;for(const y of n)try{const T=await y._get(f);if(T){let R;if(typeof T=="string"){const C=await Kc(t,{idToken:T}).catch(()=>{});if(!C)break;R=await Hn._fromGetAccountInfoResponse(t,C,T)}else R=Hn._fromJSON(t,T);y!==u&&(m=R),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Xa(u,t,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Xa(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(n0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(JE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(r0(t))return"Blackberry";if(s0(t))return"Webos";if(t0(t))return"Safari";if((t.includes("chrome/")||e0(t))&&!t.includes("edge/"))return"Chrome";if(i0(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function JE(r=Je()){return/firefox\//i.test(r)}function t0(r=Je()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function e0(r=Je()){return/crios\//i.test(r)}function n0(r=Je()){return/iemobile/i.test(r)}function i0(r=Je()){return/android/i.test(r)}function r0(r=Je()){return/blackberry/i.test(r)}function s0(r=Je()){return/webos/i.test(r)}function Pm(r=Je()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function p1(r=Je()){var t;return Pm(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function y1(){return Db()&&document.documentMode===10}function a0(r=Je()){return Pm(r)||i0(r)||s0(r)||r0(r)||/windows phone/i.test(r)||n0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(r,t=[]){let n;switch(r){case"Browser":n=sv(Je());break;case"Worker":n=`${sv(Je())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${ao}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,m)=>{try{const p=t(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v1(r,t={}){return $r(r,"GET","/v2/passwordPolicy",Xr(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1=6;class T1{constructor(t){var n,s,o,u;const f=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:E1,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=t.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new av(this),this.idTokenSubscription=new av(this),this.beforeStateQueue=new _1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Xi(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await Xa.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Kc(this,{idToken:t}),s=await Hn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Mn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o?._redirectEventId,p=await this.tryRedirectSignIn(t);(!f||f===m)&&p?.user&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Qc(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=t1()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Mn(this.app))return Promise.reject($i(this));const n=t?Ge(t):null;return n&&Tt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Mn(this.app)?Promise.reject($i(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Mn(this.app)?Promise.reject($i(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await v1(this),n=new T1(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Hs("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await g1(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Xi(t)||this._popupRedirectResolver;Tt(n,this,"argument-error"),this.redirectPersistenceManager=await Xa.create(this,[Xi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=t.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=o0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var t;if(Mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n?.error&&Ww(`Error while retrieving App Check token: ${n.error}`),n?.token}}function Gs(r){return Ge(r)}class av{constructor(t){this.auth=t,this.observer=null,this.addObserver=xb(n=>this.observer=n)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function S1(r){dh=r}function l0(r){return dh.loadJS(r)}function b1(){return dh.recaptchaEnterpriseScript}function w1(){return dh.gapiScript}function R1(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class I1{constructor(){this.enterprise=new C1}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class C1{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const D1="recaptcha-enterprise",u0="NO_RECAPTCHA";class O1{constructor(t){this.type=D1,this.auth=Gs(t)}async verify(t="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{o1(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new a1(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;ev(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:t}).then(y=>{f(y)}).catch(()=>{f(u0)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new I1().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&ev(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=b1();p.length!==0&&(p+=m),l0(p).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function ov(r,t,n,s=!1,o=!1){const u=new O1(r);let f;if(o)f=u0;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function lm(r,t,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await ov(r,t,n,n==="getOobCode");return s(r,f)}else return s(r,t).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await ov(r,t,n,n==="getOobCode");return s(r,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(r,t){const n=Fs(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(qr(u,t??{}))return o;Kn(o,"already-initialized")}return n.initialize({options:t})}function V1(r,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Xi);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function M1(r,t,n){const s=Gs(r);Tt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=c0(t),{host:f,port:m}=k1(t),p=m===null?"":`:${m}`,y={url:`${u}//${f}${p}/`},T=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Tt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Tt(qr(y,s.config.emulator)&&qr(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,so(f)?(kE(`${u}//${f}${p}`),PE("Auth",!0)):P1()}function c0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function k1(r){const t=c0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:lv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:lv(f)}}}function lv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function P1(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Yi("not implemented")}_getIdTokenResponse(t){return Yi("not implemented")}_linkToIdToken(t,n){return Yi("not implemented")}_getReauthenticationResolver(t){return Yi("not implemented")}}async function x1(r,t){return $r(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U1(r,t){return Yl(r,"POST","/v1/accounts:signInWithPassword",Xr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L1(r,t){return Yl(r,"POST","/v1/accounts:signInWithEmailLink",Xr(r,t))}async function z1(r,t){return Yl(r,"POST","/v1/accounts:signInWithEmailLink",Xr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul extends xm{constructor(t,n,s,o=null){super("password",s),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new Ul(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new Ul(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lm(t,n,"signInWithPassword",U1);case"emailLink":return L1(t,{email:this._email,oobCode:this._password});default:Kn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lm(t,s,"signUpPassword",x1);case"emailLink":return z1(t,{idToken:n,email:this._email,oobCode:this._password});default:Kn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $a(r,t){return Yl(r,"POST","/v1/accounts:signInWithIdp",Xr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1="http://localhost";class Us extends xm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Us(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Kn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o}=n,u=Nm(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Us(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return $a(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,$a(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,$a(t,n)}buildRequest(){const t={requestUri:B1,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Kl(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function j1(r){const t=Sl(bl(r)).link,n=t?Sl(bl(t)).deep_link_id:null,s=Sl(bl(r)).deep_link_id;return(s?Sl(bl(s)).link:null)||s||n||t||r}class Um{constructor(t){var n,s,o,u,f,m;const p=Sl(bl(t)),y=(n=p.apiKey)!==null&&n!==void 0?n:null,T=(s=p.oobCode)!==null&&s!==void 0?s:null,R=q1((o=p.mode)!==null&&o!==void 0?o:null);Tt(y&&T&&R,"argument-error"),this.apiKey=y,this.operation=R,this.code=T,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.lang)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(t){const n=j1(t);try{return new Um(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(){this.providerId=oo.PROVIDER_ID}static credential(t,n){return Ul._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=Um.parseLink(n);return Tt(s,"argument-error"),Ul._fromEmailAndCode(t,s.code,s.tenantId)}}oo.PROVIDER_ID="password";oo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";oo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl extends h0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends Xl{constructor(){super("facebook.com")}static credential(t){return Us._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Nr.credentialFromTaggedObject(t)}static credentialFromError(t){return Nr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Nr.credential(t.oauthAccessToken)}catch{return null}}}Nr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Nr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends Xl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Us._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Vr.credentialFromTaggedObject(t)}static credentialFromError(t){return Vr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Vr.credential(n,s)}catch{return null}}}Vr.GOOGLE_SIGN_IN_METHOD="google.com";Vr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends Xl{constructor(){super("github.com")}static credential(t){return Us._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Mr.credentialFromTaggedObject(t)}static credentialFromError(t){return Mr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Mr.credential(t.oauthAccessToken)}catch{return null}}}Mr.GITHUB_SIGN_IN_METHOD="github.com";Mr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends Xl{constructor(){super("twitter.com")}static credential(t,n){return Us._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return kr.credentialFromTaggedObject(t)}static credentialFromError(t){return kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return kr.credential(n,s)}catch{return null}}}kr.TWITTER_SIGN_IN_METHOD="twitter.com";kr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H1(r,t){return Yl(r,"POST","/v1/accounts:signUp",Xr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await Hn._fromIdTokenResponse(t,s,o),f=uv(s);return new Ls({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=uv(s);return new Ls({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function uv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc extends Yn{constructor(t,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Yc.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new Yc(t,n,s,o)}}function f0(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Yc._fromErrorAndOperation(r,u,t,s):u})}async function F1(r,t,n=!1){const s=await xl(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Ls._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G1(r,t,n=!1){const{auth:s}=r;if(Mn(s.app))return Promise.reject($i(s));const o="reauthenticate";try{const u=await xl(r,f0(s,o,t,r),n);Tt(u.idToken,s,"internal-error");const f=km(u.idToken);Tt(f,s,"internal-error");const{sub:m}=f;return Tt(r.uid===m,s,"user-mismatch"),Ls._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Kn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d0(r,t,n=!1){if(Mn(r.app))return Promise.reject($i(r));const s="signIn",o=await f0(r,s,t),u=await Ls._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function K1(r,t){return d0(Gs(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m0(r){const t=Gs(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Q1(r,t,n){if(Mn(r.app))return Promise.reject($i(r));const s=Gs(r),f=await lm(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",H1).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&m0(r),p}),m=await Ls._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function Y1(r,t,n){return Mn(r.app)?Promise.reject($i(r)):K1(Ge(r),oo.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&m0(r),s})}function X1(r,t,n,s){return Ge(r).onIdTokenChanged(t,n,s)}function $1(r,t,n){return Ge(r).beforeAuthStateChanged(t,n)}function W1(r,t,n,s){return Ge(r).onAuthStateChanged(t,n,s)}function Z1(r){return Ge(r).signOut()}const Xc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Xc,"1"),this.storage.removeItem(Xc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1=1e3,tR=10;class p0 extends g0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=a0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);y1()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,tR):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},J1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}p0.type="LOCAL";const eR=p0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0 extends g0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}y0.type="SESSION";const _0=y0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new mh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await nR(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=Lm("",20);o.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(R){const C=R;if(C.data.eventId===y)switch(C.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(C.data.response);break;default:clearTimeout(T),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(){return window}function rR(r){mi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(){return typeof mi().WorkerGlobalScope<"u"&&typeof mi().importScripts=="function"}async function sR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function aR(){var r;return((r=navigator?.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function oR(){return v0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0="firebaseLocalStorageDb",lR=1,$c="firebaseLocalStorage",T0="fbase_key";class $l{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function gh(r,t){return r.transaction([$c],t?"readwrite":"readonly").objectStore($c)}function uR(){const r=indexedDB.deleteDatabase(E0);return new $l(r).toPromise()}function um(){const r=indexedDB.open(E0,lR);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore($c,{keyPath:T0})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains($c)?t(s):(s.close(),await uR(),t(await um()))})})}async function cv(r,t,n){const s=gh(r,!0).put({[T0]:t,value:n});return new $l(s).toPromise()}async function cR(r,t){const n=gh(r,!1).get(t),s=await new $l(n).toPromise();return s===void 0?null:s.value}function hv(r,t){const n=gh(r,!0).delete(t);return new $l(n).toPromise()}const hR=800,fR=3;class A0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await um(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>fR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return v0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mh._getInstance(oR()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await sR(),!this.activeServiceWorker)return;this.sender=new iR(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||aR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await um();return await cv(t,Xc,"1"),await hv(t,Xc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>cv(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>cR(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>hv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=gh(o,!1).getAll();return new $l(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}A0.type="LOCAL";const dR=A0;new Ql(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(r,t){return t?Xi(t):(Tt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm extends xm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return $a(t,this._buildIdpRequest())}_linkToIdToken(t,n){return $a(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return $a(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function gR(r){return d0(r.auth,new zm(r),r.bypassAuthState)}function pR(r){const{auth:t,user:n}=r;return Tt(n,t,"internal-error"),G1(n,new zm(r),r.bypassAuthState)}async function yR(r){const{auth:t,user:n}=r;return Tt(n,t,"internal-error"),F1(n,new zm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return gR;case"linkViaPopup":case"linkViaRedirect":return yR;case"reauthViaPopup":case"reauthViaRedirect":return pR;default:Kn(this.auth,"internal-error")}}resolve(t){Zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=new Ql(2e3,1e4);class Qa extends S0{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Qa.currentPopupAction&&Qa.currentPopupAction.cancel(),Qa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Tt(t,this.auth,"internal-error"),t}async onExecution(){Zi(this.filter.length===1,"Popup operations only handle one event");const t=Lm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(di(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(di(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qa.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(di(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,_R.get())};t()}}Qa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR="pendingRedirect",Pc=new Map;class ER extends S0{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Pc.get(this.auth._key());if(!t){try{const s=await TR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Pc.set(this.auth._key(),t)}return this.bypassAuthState||Pc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function TR(r,t){const n=bR(t),s=SR(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function AR(r,t){Pc.set(r._key(),t)}function SR(r){return Xi(r._redirectPersistence)}function bR(r){return kc(vR,r.config.apiKey,r.name)}async function wR(r,t,n=!1){if(Mn(r.app))return Promise.reject($i(r));const s=Gs(r),o=mR(s,t),f=await new ER(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=10*60*1e3;class IR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!CR(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!b0(t)){const o=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(di(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=RR&&this.cachedEventUids.clear(),this.cachedEventUids.has(fv(t))}saveEventToCache(t){this.cachedEventUids.add(fv(t)),this.lastProcessedEventTime=Date.now()}}function fv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function b0({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function CR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return b0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DR(r,t={}){return $r(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,NR=/^https?/;async function VR(r){if(r.config.emulator)return;const{authorizedDomains:t}=await DR(r);for(const n of t)try{if(MR(n))return}catch{}Kn(r,"unauthorized-domain")}function MR(r){const t=am(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!NR.test(n))return!1;if(OR.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR=new Ql(3e4,6e4);function dv(){const r=mi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function PR(r){return new Promise((t,n)=>{var s,o,u;function f(){dv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{dv(),n(di(r,"network-request-failed"))},timeout:kR.get()})}if(!((o=(s=mi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((u=mi().gapi)===null||u===void 0)&&u.load)f();else{const m=R1("iframefcb");return mi()[m]=()=>{gapi.load?f():n(di(r,"network-request-failed"))},l0(`${w1()}?onload=${m}`).catch(p=>n(p))}}).catch(t=>{throw xc=null,t})}let xc=null;function xR(r){return xc=xc||PR(r),xc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=new Ql(5e3,15e3),LR="__/auth/iframe",zR="emulator/auth/iframe",BR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jR(r){const t=r.config;Tt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?Mm(t,zR):`https://${r.config.authDomain}/${LR}`,s={apiKey:t.apiKey,appName:r.name,v:ao},o=qR.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Kl(s).slice(1)}`}async function HR(r){const t=await xR(r),n=mi().gapi;return Tt(n,r,"internal-error"),t.open({where:document.body,url:jR(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:BR,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=di(r,"network-request-failed"),m=mi().setTimeout(()=>{u(f)},UR.get());function p(){mi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GR=500,KR=600,QR="_blank",YR="http://localhost";class mv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function XR(r,t,n,s=GR,o=KR){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},FR),{width:s.toString(),height:o.toString(),top:u,left:f}),y=Je().toLowerCase();n&&(m=e0(y)?QR:n),JE(y)&&(t=t||YR,p.scrollbars="yes");const T=Object.entries(p).reduce((C,[z,X])=>`${C}${z}=${X},`,"");if(p1(y)&&m!=="_self")return $R(t||"",m),new mv(null);const R=window.open(t||"",m,T);Tt(R,r,"popup-blocked");try{R.focus()}catch{}return new mv(R)}function $R(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR="__/auth/handler",ZR="emulator/auth/handler",JR=encodeURIComponent("fac");async function gv(r,t,n,s,o,u){Tt(r.config.authDomain,r,"auth-domain-config-required"),Tt(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:ao,eventId:o};if(t instanceof h0){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",Pb(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,R]of Object.entries({}))f[T]=R}if(t instanceof Xl){const T=t.getScopes().filter(R=>R!=="");T.length>0&&(f.scopes=T.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const p=await r._getAppCheckToken(),y=p?`#${JR}=${encodeURIComponent(p)}`:"";return`${tI(r)}?${Kl(m).slice(1)}${y}`}function tI({config:r}){return r.emulator?Mm(r,ZR):`https://${r.authDomain}/${WR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd="webStorageSupport";class eI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_0,this._completeRedirectFn=wR,this._overrideRedirectResult=AR}async _openPopup(t,n,s,o){var u;Zi((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await gv(t,n,s,am(),o);return XR(t,f,Lm())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await gv(t,n,s,am(),o);return rR(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Zi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await HR(t),s=new IR(t);return n.register("authEvent",o=>(Tt(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Qd,{type:Qd},o=>{var u;const f=(u=o?.[0])===null||u===void 0?void 0:u[Qd];f!==void 0&&n(!!f),Kn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=VR(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return a0()||t0()||Pm()}}const nI=eI;var pv="@firebase/auth",yv="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sI(r){Ei(new Gn("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Tt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:o0(r)},y=new A1(s,o,u,p);return V1(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Ei(new Gn("auth-internal",t=>{const n=Gs(t.getProvider("auth").getImmediate());return(s=>new iI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),xn(pv,yv,rI(r)),xn(pv,yv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI=5*60,oI=ME("authIdTokenMaxAge")||aI;let _v=null;const lI=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>oI)return;const o=n?.token;_v!==o&&(_v=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function uI(r=Om()){const t=Fs(r,"auth");if(t.isInitialized())return t.getImmediate();const n=N1(r,{popupRedirectResolver:nI,persistence:[dR,eR,_0]}),s=ME("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=lI(u.toString());$1(n,f,()=>f(n.currentUser)),X1(n,m=>f(m))}}const o=NE("auth");return o&&M1(n,`http://${o}`),n}function cI(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}S1({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=di("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",cI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sI("Browser");var hI="firebase",fI="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xn(hI,fI,"app");const w0="@firebase/installations",Bm="0.6.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0=1e4,I0=`w:${Bm}`,C0="FIS_v2",dI="https://firebaseinstallations.googleapis.com/v1",mI=60*60*1e3,gI="installations",pI="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},zs=new Hs(gI,pI,yI);function D0(r){return r instanceof Yn&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0({projectId:r}){return`${dI}/projects/${r}/installations`}function N0(r){return{token:r.token,requestStatus:2,expiresIn:vI(r.expiresIn),creationTime:Date.now()}}async function V0(r,t){const s=(await t.json()).error;return zs.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function M0({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function _I(r,{refreshToken:t}){const n=M0(r);return n.append("Authorization",EI(t)),n}async function k0(r){const t=await r();return t.status>=500&&t.status<600?r():t}function vI(r){return Number(r.replace("s","000"))}function EI(r){return`${C0} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TI({appConfig:r,heartbeatServiceProvider:t},{fid:n}){const s=O0(r),o=M0(r),u=t.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={fid:n,authVersion:C0,appId:r.appId,sdkVersion:I0},m={method:"POST",headers:o,body:JSON.stringify(f)},p=await k0(()=>fetch(s,m));if(p.ok){const y=await p.json();return{fid:y.fid||n,registrationStatus:2,refreshToken:y.refreshToken,authToken:N0(y.authToken)}}else throw await V0("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(r){return new Promise(t=>{setTimeout(t,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=/^[cdef][\w-]{21}$/,cm="";function bI(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const n=wI(r);return SI.test(n)?n:cm}catch{return cm}}function wI(r){return AI(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0=new Map;function U0(r,t){const n=ph(r);L0(n,t),RI(n,t)}function L0(r,t){const n=x0.get(r);if(n)for(const s of n)s(t)}function RI(r,t){const n=II();n&&n.postMessage({key:r,fid:t}),CI()}let Ps=null;function II(){return!Ps&&"BroadcastChannel"in self&&(Ps=new BroadcastChannel("[Firebase] FID Change"),Ps.onmessage=r=>{L0(r.data.key,r.data.fid)}),Ps}function CI(){x0.size===0&&Ps&&(Ps.close(),Ps=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI="firebase-installations-database",OI=1,Bs="firebase-installations-store";let Yd=null;function qm(){return Yd||(Yd=qE(DI,OI,{upgrade:(r,t)=>{switch(t){case 0:r.createObjectStore(Bs)}}})),Yd}async function Wc(r,t){const n=ph(r),o=(await qm()).transaction(Bs,"readwrite"),u=o.objectStore(Bs),f=await u.get(n);return await u.put(t,n),await o.done,(!f||f.fid!==t.fid)&&U0(r,t.fid),t}async function z0(r){const t=ph(r),s=(await qm()).transaction(Bs,"readwrite");await s.objectStore(Bs).delete(t),await s.done}async function yh(r,t){const n=ph(r),o=(await qm()).transaction(Bs,"readwrite"),u=o.objectStore(Bs),f=await u.get(n),m=t(f);return m===void 0?await u.delete(n):await u.put(m,n),await o.done,m&&(!f||f.fid!==m.fid)&&U0(r,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jm(r){let t;const n=await yh(r.appConfig,s=>{const o=NI(s),u=VI(r,o);return t=u.registrationPromise,u.installationEntry});return n.fid===cm?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function NI(r){const t=r||{fid:bI(),registrationStatus:0};return B0(t)}function VI(r,t){if(t.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(zs.create("app-offline"));return{installationEntry:t,registrationPromise:o}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},s=MI(r,n);return{installationEntry:n,registrationPromise:s}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:kI(r)}:{installationEntry:t}}async function MI(r,t){try{const n=await TI(r,t);return Wc(r.appConfig,n)}catch(n){throw D0(n)&&n.customData.serverCode===409?await z0(r.appConfig):await Wc(r.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function kI(r){let t=await vv(r.appConfig);for(;t.registrationStatus===1;)await P0(100),t=await vv(r.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await jm(r);return s||n}return t}function vv(r){return yh(r,t=>{if(!t)throw zs.create("installation-not-found");return B0(t)})}function B0(r){return PI(r)?{fid:r.fid,registrationStatus:0}:r}function PI(r){return r.registrationStatus===1&&r.registrationTime+R0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xI({appConfig:r,heartbeatServiceProvider:t},n){const s=UI(r,n),o=_I(r,n),u=t.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={installation:{sdkVersion:I0,appId:r.appId}},m={method:"POST",headers:o,body:JSON.stringify(f)},p=await k0(()=>fetch(s,m));if(p.ok){const y=await p.json();return N0(y)}else throw await V0("Generate Auth Token",p)}function UI(r,{fid:t}){return`${O0(r)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hm(r,t=!1){let n;const s=await yh(r.appConfig,u=>{if(!q0(u))throw zs.create("not-registered");const f=u.authToken;if(!t&&BI(f))return u;if(f.requestStatus===1)return n=LI(r,t),u;{if(!navigator.onLine)throw zs.create("app-offline");const m=jI(u);return n=zI(r,m),m}});return n?await n:s.authToken}async function LI(r,t){let n=await Ev(r.appConfig);for(;n.authToken.requestStatus===1;)await P0(100),n=await Ev(r.appConfig);const s=n.authToken;return s.requestStatus===0?Hm(r,t):s}function Ev(r){return yh(r,t=>{if(!q0(t))throw zs.create("not-registered");const n=t.authToken;return HI(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function zI(r,t){try{const n=await xI(r,t),s=Object.assign(Object.assign({},t),{authToken:n});return await Wc(r.appConfig,s),n}catch(n){if(D0(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await z0(r.appConfig);else{const s=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Wc(r.appConfig,s)}throw n}}function q0(r){return r!==void 0&&r.registrationStatus===2}function BI(r){return r.requestStatus===2&&!qI(r)}function qI(r){const t=Date.now();return t<r.creationTime||r.creationTime+r.expiresIn<t+mI}function jI(r){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:t})}function HI(r){return r.requestStatus===1&&r.requestTime+R0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FI(r){const t=r,{installationEntry:n,registrationPromise:s}=await jm(t);return s?s.catch(console.error):Hm(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GI(r,t=!1){const n=r;return await KI(n),(await Hm(n,t)).token}async function KI(r){const{registrationPromise:t}=await jm(r);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(r){if(!r||!r.options)throw Xd("App Configuration");if(!r.name)throw Xd("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!r.options[n])throw Xd(n);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function Xd(r){return zs.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0="installations",YI="installations-internal",XI=r=>{const t=r.getProvider("app").getImmediate(),n=QI(t),s=Fs(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},$I=r=>{const t=r.getProvider("app").getImmediate(),n=Fs(t,j0).getImmediate();return{getId:()=>FI(n),getToken:o=>GI(n,o)}};function WI(){Ei(new Gn(j0,XI,"PUBLIC")),Ei(new Gn(YI,$I,"PRIVATE"))}WI();xn(w0,Bm);xn(w0,Bm,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc="analytics",ZI="firebase_id",JI="origin",tC=60*1e3,eC="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Fm="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un=new fh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},vn=new Hs("analytics","Analytics",nC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(r){if(!r.startsWith(Fm)){const t=vn.create("invalid-gtag-resource",{gtagURL:r});return un.warn(t.message),""}return r}function H0(r){return Promise.all(r.map(t=>t.catch(n=>n)))}function rC(r,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(r,t)),n}function sC(r,t){const n=rC("firebase-js-sdk-policy",{createScriptURL:iC}),s=document.createElement("script"),o=`${Fm}?l=${r}&id=${t}`;s.src=n?n?.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function aC(r){let t=[];return Array.isArray(window[r])?t=window[r]:window[r]=t,t}async function oC(r,t,n,s,o,u){const f=s[o];try{if(f)await t[f];else{const p=(await H0(n)).find(y=>y.measurementId===o);p&&await t[p.appId]}}catch(m){un.error(m)}r("config",o,u)}async function lC(r,t,n,s,o){try{let u=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const m=await H0(n);for(const p of f){const y=m.find(R=>R.measurementId===p),T=y&&t[y.appId];if(T)u.push(T);else{u=[];break}}}u.length===0&&(u=Object.values(t)),await Promise.all(u),r("event",s,o||{})}catch(u){un.error(u)}}function uC(r,t,n,s){async function o(u,...f){try{if(u==="event"){const[m,p]=f;await lC(r,t,n,m,p)}else if(u==="config"){const[m,p]=f;await oC(r,t,n,s,m,p)}else if(u==="consent"){const[m,p]=f;r("consent",m,p)}else if(u==="get"){const[m,p,y]=f;r("get",m,p,y)}else if(u==="set"){const[m]=f;r("set",m)}else r(u,...f)}catch(m){un.error(m)}}return o}function cC(r,t,n,s,o){let u=function(...f){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=uC(u,r,t,n),{gtagCore:u,wrappedGtag:window[o]}}function hC(r){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Fm)&&n.src.includes(r))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=30,dC=1e3;class mC{constructor(t={},n=dC){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const F0=new mC;function gC(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function pC(r){var t;const{appId:n,apiKey:s}=r,o={method:"GET",headers:gC(s)},u=eC.replace("{app-id}",n),f=await fetch(u,o);if(f.status!==200&&f.status!==304){let m="";try{const p=await f.json();!((t=p.error)===null||t===void 0)&&t.message&&(m=p.error.message)}catch{}throw vn.create("config-fetch-failed",{httpStatus:f.status,responseMessage:m})}return f.json()}async function yC(r,t=F0,n){const{appId:s,apiKey:o,measurementId:u}=r.options;if(!s)throw vn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw vn.create("no-api-key")}const f=t.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new EC;return setTimeout(async()=>{m.abort()},tC),G0({appId:s,apiKey:o,measurementId:u},f,m,t)}async function G0(r,{throttleEndTimeMillis:t,backoffCount:n},s,o=F0){var u;const{appId:f,measurementId:m}=r;try{await _C(s,t)}catch(p){if(m)return un.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:f,measurementId:m};throw p}try{const p=await pC(r);return o.deleteThrottleMetadata(f),p}catch(p){const y=p;if(!vC(y)){if(o.deleteThrottleMetadata(f),m)return un.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${y?.message}]`),{appId:f,measurementId:m};throw p}const T=Number((u=y?.customData)===null||u===void 0?void 0:u.httpStatus)===503?G_(n,o.intervalMillis,fC):G_(n,o.intervalMillis),R={throttleEndTimeMillis:Date.now()+T,backoffCount:n+1};return o.setThrottleMetadata(f,R),un.debug(`Calling attemptFetch again in ${T} millis`),G0(r,R,s,o)}}function _C(r,t){return new Promise((n,s)=>{const o=Math.max(t-Date.now(),0),u=setTimeout(n,o);r.addEventListener(()=>{clearTimeout(u),s(vn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function vC(r){if(!(r instanceof Yn)||!r.customData)return!1;const t=Number(r.customData.httpStatus);return t===429||t===500||t===503||t===504}class EC{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function TC(r,t,n,s,o){if(o&&o.global){r("event",n,s);return}else{const u=await t,f=Object.assign(Object.assign({},s),{send_to:u});r("event",n,f)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AC(){if(UE())try{await LE()}catch(r){return un.warn(vn.create("indexeddb-unavailable",{errorInfo:r?.toString()}).message),!1}else return un.warn(vn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function SC(r,t,n,s,o,u,f){var m;const p=yC(r);p.then(z=>{n[z.measurementId]=z.appId,r.options.measurementId&&z.measurementId!==r.options.measurementId&&un.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${z.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(z=>un.error(z)),t.push(p);const y=AC().then(z=>{if(z)return s.getId()}),[T,R]=await Promise.all([p,y]);hC(u)||sC(u,T.measurementId),o("js",new Date);const C=(m=f?.config)!==null&&m!==void 0?m:{};return C[JI]="firebase",C.update=!0,R!=null&&(C[ZI]=R),o("config",T.measurementId,C),T.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(t){this.app=t}_delete(){return delete Ol[this.app.options.appId],Promise.resolve()}}let Ol={},Tv=[];const Av={};let $d="dataLayer",wC="gtag",Sv,K0,bv=!1;function RC(){const r=[];if(xE()&&r.push("This is a browser extension environment."),Nb()||r.push("Cookies are not available."),r.length>0){const t=r.map((s,o)=>`(${o+1}) ${s}`).join(" "),n=vn.create("invalid-analytics-context",{errorInfo:t});un.warn(n.message)}}function IC(r,t,n){RC();const s=r.options.appId;if(!s)throw vn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)un.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw vn.create("no-api-key");if(Ol[s]!=null)throw vn.create("already-exists",{id:s});if(!bv){aC($d);const{wrappedGtag:u,gtagCore:f}=cC(Ol,Tv,Av,$d,wC);K0=u,Sv=f,bv=!0}return Ol[s]=SC(r,Tv,Av,t,Sv,$d,n),new bC(r)}function CC(r=Om()){r=Ge(r);const t=Fs(r,Zc);return t.isInitialized()?t.getImmediate():DC(r)}function DC(r,t={}){const n=Fs(r,Zc);if(n.isInitialized()){const o=n.getImmediate();if(qr(t,n.getOptions()))return o;throw vn.create("already-initialized")}return n.initialize({options:t})}function OC(r,t,n,s){r=Ge(r),TC(K0,Ol[r.app.options.appId],t,n,s).catch(o=>un.error(o))}const wv="@firebase/analytics",Rv="0.10.17";function NC(){Ei(new Gn(Zc,(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("installations-internal").getImmediate();return IC(s,o,n)},"PUBLIC")),Ei(new Gn("analytics-internal",r,"PRIVATE")),xn(wv,Rv),xn(wv,Rv,"esm2017");function r(t){try{const n=t.getProvider(Zc).getImmediate();return{logEvent:(s,o,u)=>OC(n,s,o,u)}}catch(n){throw vn.create("interop-component-reg-failed",{reason:n})}}}NC();var Iv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Lr,Q0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(V,b){function w(){}w.prototype=b.prototype,V.D=b.prototype,V.prototype=new w,V.prototype.constructor=V,V.C=function(O,k,x){for(var D=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)D[Ue-2]=arguments[Ue];return b.prototype[k].apply(O,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,b,w){w||(w=0);var O=Array(16);if(typeof b=="string")for(var k=0;16>k;++k)O[k]=b.charCodeAt(w++)|b.charCodeAt(w++)<<8|b.charCodeAt(w++)<<16|b.charCodeAt(w++)<<24;else for(k=0;16>k;++k)O[k]=b[w++]|b[w++]<<8|b[w++]<<16|b[w++]<<24;b=V.g[0],w=V.g[1],k=V.g[2];var x=V.g[3],D=b+(x^w&(k^x))+O[0]+3614090360&4294967295;b=w+(D<<7&4294967295|D>>>25),D=x+(k^b&(w^k))+O[1]+3905402710&4294967295,x=b+(D<<12&4294967295|D>>>20),D=k+(w^x&(b^w))+O[2]+606105819&4294967295,k=x+(D<<17&4294967295|D>>>15),D=w+(b^k&(x^b))+O[3]+3250441966&4294967295,w=k+(D<<22&4294967295|D>>>10),D=b+(x^w&(k^x))+O[4]+4118548399&4294967295,b=w+(D<<7&4294967295|D>>>25),D=x+(k^b&(w^k))+O[5]+1200080426&4294967295,x=b+(D<<12&4294967295|D>>>20),D=k+(w^x&(b^w))+O[6]+2821735955&4294967295,k=x+(D<<17&4294967295|D>>>15),D=w+(b^k&(x^b))+O[7]+4249261313&4294967295,w=k+(D<<22&4294967295|D>>>10),D=b+(x^w&(k^x))+O[8]+1770035416&4294967295,b=w+(D<<7&4294967295|D>>>25),D=x+(k^b&(w^k))+O[9]+2336552879&4294967295,x=b+(D<<12&4294967295|D>>>20),D=k+(w^x&(b^w))+O[10]+4294925233&4294967295,k=x+(D<<17&4294967295|D>>>15),D=w+(b^k&(x^b))+O[11]+2304563134&4294967295,w=k+(D<<22&4294967295|D>>>10),D=b+(x^w&(k^x))+O[12]+1804603682&4294967295,b=w+(D<<7&4294967295|D>>>25),D=x+(k^b&(w^k))+O[13]+4254626195&4294967295,x=b+(D<<12&4294967295|D>>>20),D=k+(w^x&(b^w))+O[14]+2792965006&4294967295,k=x+(D<<17&4294967295|D>>>15),D=w+(b^k&(x^b))+O[15]+1236535329&4294967295,w=k+(D<<22&4294967295|D>>>10),D=b+(k^x&(w^k))+O[1]+4129170786&4294967295,b=w+(D<<5&4294967295|D>>>27),D=x+(w^k&(b^w))+O[6]+3225465664&4294967295,x=b+(D<<9&4294967295|D>>>23),D=k+(b^w&(x^b))+O[11]+643717713&4294967295,k=x+(D<<14&4294967295|D>>>18),D=w+(x^b&(k^x))+O[0]+3921069994&4294967295,w=k+(D<<20&4294967295|D>>>12),D=b+(k^x&(w^k))+O[5]+3593408605&4294967295,b=w+(D<<5&4294967295|D>>>27),D=x+(w^k&(b^w))+O[10]+38016083&4294967295,x=b+(D<<9&4294967295|D>>>23),D=k+(b^w&(x^b))+O[15]+3634488961&4294967295,k=x+(D<<14&4294967295|D>>>18),D=w+(x^b&(k^x))+O[4]+3889429448&4294967295,w=k+(D<<20&4294967295|D>>>12),D=b+(k^x&(w^k))+O[9]+568446438&4294967295,b=w+(D<<5&4294967295|D>>>27),D=x+(w^k&(b^w))+O[14]+3275163606&4294967295,x=b+(D<<9&4294967295|D>>>23),D=k+(b^w&(x^b))+O[3]+4107603335&4294967295,k=x+(D<<14&4294967295|D>>>18),D=w+(x^b&(k^x))+O[8]+1163531501&4294967295,w=k+(D<<20&4294967295|D>>>12),D=b+(k^x&(w^k))+O[13]+2850285829&4294967295,b=w+(D<<5&4294967295|D>>>27),D=x+(w^k&(b^w))+O[2]+4243563512&4294967295,x=b+(D<<9&4294967295|D>>>23),D=k+(b^w&(x^b))+O[7]+1735328473&4294967295,k=x+(D<<14&4294967295|D>>>18),D=w+(x^b&(k^x))+O[12]+2368359562&4294967295,w=k+(D<<20&4294967295|D>>>12),D=b+(w^k^x)+O[5]+4294588738&4294967295,b=w+(D<<4&4294967295|D>>>28),D=x+(b^w^k)+O[8]+2272392833&4294967295,x=b+(D<<11&4294967295|D>>>21),D=k+(x^b^w)+O[11]+1839030562&4294967295,k=x+(D<<16&4294967295|D>>>16),D=w+(k^x^b)+O[14]+4259657740&4294967295,w=k+(D<<23&4294967295|D>>>9),D=b+(w^k^x)+O[1]+2763975236&4294967295,b=w+(D<<4&4294967295|D>>>28),D=x+(b^w^k)+O[4]+1272893353&4294967295,x=b+(D<<11&4294967295|D>>>21),D=k+(x^b^w)+O[7]+4139469664&4294967295,k=x+(D<<16&4294967295|D>>>16),D=w+(k^x^b)+O[10]+3200236656&4294967295,w=k+(D<<23&4294967295|D>>>9),D=b+(w^k^x)+O[13]+681279174&4294967295,b=w+(D<<4&4294967295|D>>>28),D=x+(b^w^k)+O[0]+3936430074&4294967295,x=b+(D<<11&4294967295|D>>>21),D=k+(x^b^w)+O[3]+3572445317&4294967295,k=x+(D<<16&4294967295|D>>>16),D=w+(k^x^b)+O[6]+76029189&4294967295,w=k+(D<<23&4294967295|D>>>9),D=b+(w^k^x)+O[9]+3654602809&4294967295,b=w+(D<<4&4294967295|D>>>28),D=x+(b^w^k)+O[12]+3873151461&4294967295,x=b+(D<<11&4294967295|D>>>21),D=k+(x^b^w)+O[15]+530742520&4294967295,k=x+(D<<16&4294967295|D>>>16),D=w+(k^x^b)+O[2]+3299628645&4294967295,w=k+(D<<23&4294967295|D>>>9),D=b+(k^(w|~x))+O[0]+4096336452&4294967295,b=w+(D<<6&4294967295|D>>>26),D=x+(w^(b|~k))+O[7]+1126891415&4294967295,x=b+(D<<10&4294967295|D>>>22),D=k+(b^(x|~w))+O[14]+2878612391&4294967295,k=x+(D<<15&4294967295|D>>>17),D=w+(x^(k|~b))+O[5]+4237533241&4294967295,w=k+(D<<21&4294967295|D>>>11),D=b+(k^(w|~x))+O[12]+1700485571&4294967295,b=w+(D<<6&4294967295|D>>>26),D=x+(w^(b|~k))+O[3]+2399980690&4294967295,x=b+(D<<10&4294967295|D>>>22),D=k+(b^(x|~w))+O[10]+4293915773&4294967295,k=x+(D<<15&4294967295|D>>>17),D=w+(x^(k|~b))+O[1]+2240044497&4294967295,w=k+(D<<21&4294967295|D>>>11),D=b+(k^(w|~x))+O[8]+1873313359&4294967295,b=w+(D<<6&4294967295|D>>>26),D=x+(w^(b|~k))+O[15]+4264355552&4294967295,x=b+(D<<10&4294967295|D>>>22),D=k+(b^(x|~w))+O[6]+2734768916&4294967295,k=x+(D<<15&4294967295|D>>>17),D=w+(x^(k|~b))+O[13]+1309151649&4294967295,w=k+(D<<21&4294967295|D>>>11),D=b+(k^(w|~x))+O[4]+4149444226&4294967295,b=w+(D<<6&4294967295|D>>>26),D=x+(w^(b|~k))+O[11]+3174756917&4294967295,x=b+(D<<10&4294967295|D>>>22),D=k+(b^(x|~w))+O[2]+718787259&4294967295,k=x+(D<<15&4294967295|D>>>17),D=w+(x^(k|~b))+O[9]+3951481745&4294967295,V.g[0]=V.g[0]+b&4294967295,V.g[1]=V.g[1]+(k+(D<<21&4294967295|D>>>11))&4294967295,V.g[2]=V.g[2]+k&4294967295,V.g[3]=V.g[3]+x&4294967295}s.prototype.u=function(V,b){b===void 0&&(b=V.length);for(var w=b-this.blockSize,O=this.B,k=this.h,x=0;x<b;){if(k==0)for(;x<=w;)o(this,V,x),x+=this.blockSize;if(typeof V=="string"){for(;x<b;)if(O[k++]=V.charCodeAt(x++),k==this.blockSize){o(this,O),k=0;break}}else for(;x<b;)if(O[k++]=V[x++],k==this.blockSize){o(this,O),k=0;break}}this.h=k,this.o+=b},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var b=1;b<V.length-8;++b)V[b]=0;var w=8*this.o;for(b=V.length-8;b<V.length;++b)V[b]=w&255,w/=256;for(this.u(V),V=Array(16),b=w=0;4>b;++b)for(var O=0;32>O;O+=8)V[w++]=this.g[b]>>>O&255;return V};function u(V,b){var w=m;return Object.prototype.hasOwnProperty.call(w,V)?w[V]:w[V]=b(V)}function f(V,b){this.h=b;for(var w=[],O=!0,k=V.length-1;0<=k;k--){var x=V[k]|0;O&&x==b||(w[k]=x,O=!1)}this.g=w}var m={};function p(V){return-128<=V&&128>V?u(V,function(b){return new f([b|0],0>b?-1:0)}):new f([V|0],0>V?-1:0)}function y(V){if(isNaN(V)||!isFinite(V))return R;if(0>V)return K(y(-V));for(var b=[],w=1,O=0;V>=w;O++)b[O]=V/w|0,w*=4294967296;return new f(b,0)}function T(V,b){if(V.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(V.charAt(0)=="-")return K(T(V.substring(1),b));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=y(Math.pow(b,8)),O=R,k=0;k<V.length;k+=8){var x=Math.min(8,V.length-k),D=parseInt(V.substring(k,k+x),b);8>x?(x=y(Math.pow(b,x)),O=O.j(x).add(y(D))):(O=O.j(w),O=O.add(y(D)))}return O}var R=p(0),C=p(1),z=p(16777216);r=f.prototype,r.m=function(){if(tt(this))return-K(this).m();for(var V=0,b=1,w=0;w<this.g.length;w++){var O=this.i(w);V+=(0<=O?O:4294967296+O)*b,b*=4294967296}return V},r.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(X(this))return"0";if(tt(this))return"-"+K(this).toString(V);for(var b=y(Math.pow(V,6)),w=this,O="";;){var k=ut(w,b).g;w=pt(w,k.j(b));var x=((0<w.g.length?w.g[0]:w.h)>>>0).toString(V);if(w=k,X(w))return x+O;for(;6>x.length;)x="0"+x;O=x+O}},r.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function X(V){if(V.h!=0)return!1;for(var b=0;b<V.g.length;b++)if(V.g[b]!=0)return!1;return!0}function tt(V){return V.h==-1}r.l=function(V){return V=pt(this,V),tt(V)?-1:X(V)?0:1};function K(V){for(var b=V.g.length,w=[],O=0;O<b;O++)w[O]=~V.g[O];return new f(w,~V.h).add(C)}r.abs=function(){return tt(this)?K(this):this},r.add=function(V){for(var b=Math.max(this.g.length,V.g.length),w=[],O=0,k=0;k<=b;k++){var x=O+(this.i(k)&65535)+(V.i(k)&65535),D=(x>>>16)+(this.i(k)>>>16)+(V.i(k)>>>16);O=D>>>16,x&=65535,D&=65535,w[k]=D<<16|x}return new f(w,w[w.length-1]&-2147483648?-1:0)};function pt(V,b){return V.add(K(b))}r.j=function(V){if(X(this)||X(V))return R;if(tt(this))return tt(V)?K(this).j(K(V)):K(K(this).j(V));if(tt(V))return K(this.j(K(V)));if(0>this.l(z)&&0>V.l(z))return y(this.m()*V.m());for(var b=this.g.length+V.g.length,w=[],O=0;O<2*b;O++)w[O]=0;for(O=0;O<this.g.length;O++)for(var k=0;k<V.g.length;k++){var x=this.i(O)>>>16,D=this.i(O)&65535,Ue=V.i(k)>>>16,le=V.i(k)&65535;w[2*O+2*k]+=D*le,ht(w,2*O+2*k),w[2*O+2*k+1]+=x*le,ht(w,2*O+2*k+1),w[2*O+2*k+1]+=D*Ue,ht(w,2*O+2*k+1),w[2*O+2*k+2]+=x*Ue,ht(w,2*O+2*k+2)}for(O=0;O<b;O++)w[O]=w[2*O+1]<<16|w[2*O];for(O=b;O<2*b;O++)w[O]=0;return new f(w,0)};function ht(V,b){for(;(V[b]&65535)!=V[b];)V[b+1]+=V[b]>>>16,V[b]&=65535,b++}function Q(V,b){this.g=V,this.h=b}function ut(V,b){if(X(b))throw Error("division by zero");if(X(V))return new Q(R,R);if(tt(V))return b=ut(K(V),b),new Q(K(b.g),K(b.h));if(tt(b))return b=ut(V,K(b)),new Q(K(b.g),b.h);if(30<V.g.length){if(tt(V)||tt(b))throw Error("slowDivide_ only works with positive integers.");for(var w=C,O=b;0>=O.l(V);)w=st(w),O=st(O);var k=ft(w,1),x=ft(O,1);for(O=ft(O,2),w=ft(w,2);!X(O);){var D=x.add(O);0>=D.l(V)&&(k=k.add(w),x=D),O=ft(O,1),w=ft(w,1)}return b=pt(V,k.j(b)),new Q(k,b)}for(k=R;0<=V.l(b);){for(w=Math.max(1,Math.floor(V.m()/b.m())),O=Math.ceil(Math.log(w)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),x=y(w),D=x.j(b);tt(D)||0<D.l(V);)w-=O,x=y(w),D=x.j(b);X(x)&&(x=C),k=k.add(x),V=pt(V,D)}return new Q(k,V)}r.A=function(V){return ut(this,V).h},r.and=function(V){for(var b=Math.max(this.g.length,V.g.length),w=[],O=0;O<b;O++)w[O]=this.i(O)&V.i(O);return new f(w,this.h&V.h)},r.or=function(V){for(var b=Math.max(this.g.length,V.g.length),w=[],O=0;O<b;O++)w[O]=this.i(O)|V.i(O);return new f(w,this.h|V.h)},r.xor=function(V){for(var b=Math.max(this.g.length,V.g.length),w=[],O=0;O<b;O++)w[O]=this.i(O)^V.i(O);return new f(w,this.h^V.h)};function st(V){for(var b=V.g.length+1,w=[],O=0;O<b;O++)w[O]=V.i(O)<<1|V.i(O-1)>>>31;return new f(w,V.h)}function ft(V,b){var w=b>>5;b%=32;for(var O=V.g.length-w,k=[],x=0;x<O;x++)k[x]=0<b?V.i(x+w)>>>b|V.i(x+w+1)<<32-b:V.i(x+w);return new f(k,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Q0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=T,Lr=f}).apply(typeof Iv<"u"?Iv:typeof self<"u"?self:typeof window<"u"?window:{});var Ic=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Y0,wl,X0,Uc,hm,$0,W0,Z0;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ic=="object"&&Ic];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)t:{var _=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var U=c[A];if(!(U in _))break t;_=_[U]}c=c[c.length-1],A=_[c],g=g(A),g!=A&&g!=null&&t(_,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var _=0,A=!1,U={next:function(){if(!A&&_<c.length){var H=_++;return{value:g(H,c[H]),done:!1}}return A=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(c){return c||function(){return u(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function T(c,g,_){return c.call.apply(c.bind,arguments)}function R(c,g,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,A),c.apply(g,U)}}return function(){return c.apply(g,arguments)}}function C(c,g,_){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:R,C.apply(null,arguments)}function z(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function X(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,U,H){for(var nt=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)nt[xt-2]=arguments[xt];return g.prototype[U].apply(A,nt)}}function tt(c){const g=c.length;if(0<g){const _=Array(g);for(let A=0;A<g;A++)_[A]=c[A];return _}return[]}function K(c,g){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const U=c.length||0,H=A.length||0;c.length=U+H;for(let nt=0;nt<H;nt++)c[U+nt]=A[nt]}else c.push(A)}}class pt{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function ht(c){return/^[\s\xa0]*$/.test(c)}function Q(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ut(c){return ut[" "](c),c}ut[" "]=function(){};var st=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function ft(c,g,_){for(const A in c)g.call(_,c[A],A,c)}function V(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function b(c){const g={};for(const _ in c)g[_]=c[_];return g}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,g){let _,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(_ in A)c[_]=A[_];for(let H=0;H<w.length;H++)_=w[H],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function k(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function x(c){m.setTimeout(()=>{throw c},0)}function D(){var c=qt;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Ue{constructor(){this.h=this.g=null}add(g,_){const A=le.get();A.set(g,_),this.h?this.h.next=A:this.g=A,this.h=A}}var le=new pt(()=>new F,c=>c.reset());class F{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let it,mt=!1,qt=new Ue,N=()=>{const c=m.Promise.resolve(void 0);it=()=>{c.then(J)}};var J=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(_){x(_)}var g=le;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}mt=!1};function rt(){this.s=this.s,this.C=this.C}rt.prototype.s=!1,rt.prototype.ma=function(){this.s||(this.s=!0,this.N())},rt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function et(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}et.prototype.h=function(){this.defaultPrevented=!0};var yt=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,g),m.removeEventListener("test",_,g)}catch{}return c}();function Ot(c,g){if(et.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(st){t:{try{ut(g.nodeName);var U=!0;break t}catch{}U=!1}U||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:bt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ot.aa.h.call(this)}}X(Ot,et);var bt={2:"touch",3:"pen",4:"mouse"};Ot.prototype.h=function(){Ot.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var De="closure_listenable_"+(1e6*Math.random()|0),te=0;function Xn(c,g,_,A,U){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!A,this.ha=U,this.key=++te,this.da=this.fa=!1}function er(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ai(c){this.src=c,this.g={},this.h=0}Ai.prototype.add=function(c,g,_,A,U){var H=c.toString();c=this.g[H],c||(c=this.g[H]=[],this.h++);var nt=Zr(c,g,A,U);return-1<nt?(g=c[nt],_||(g.fa=!1)):(g=new Xn(g,this.src,H,!!A,U),g.fa=_,c.push(g)),g};function Wr(c,g){var _=g.type;if(_ in c.g){var A=c.g[_],U=Array.prototype.indexOf.call(A,g,void 0),H;(H=0<=U)&&Array.prototype.splice.call(A,U,1),H&&(er(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Zr(c,g,_,A){for(var U=0;U<c.length;++U){var H=c[U];if(!H.da&&H.listener==g&&H.capture==!!_&&H.ha==A)return U}return-1}var Jr="closure_lm_"+(1e6*Math.random()|0),mo={};function nu(c,g,_,A,U){if(Array.isArray(g)){for(var H=0;H<g.length;H++)nu(c,g[H],_,A,U);return null}return _=iu(_),c&&c[De]?c.K(g,_,y(A)?!!A.capture:!1,U):En(c,g,_,!1,A,U)}function En(c,g,_,A,U,H){if(!g)throw Error("Invalid event type");var nt=y(U)?!!U.capture:!!U,xt=Zs(c);if(xt||(c[Jr]=xt=new Ai(c)),_=xt.add(g,_,A,nt,H),_.proxy)return _;if(A=kh(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)yt||(U=nt),U===void 0&&(U=!1),c.addEventListener(g.toString(),A,U);else if(c.attachEvent)c.attachEvent(ts(g.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function kh(){function c(_){return g.call(c.src,c.listener,_)}const g=Ph;return c}function go(c,g,_,A,U){if(Array.isArray(g))for(var H=0;H<g.length;H++)go(c,g[H],_,A,U);else A=y(A)?!!A.capture:!!A,_=iu(_),c&&c[De]?(c=c.i,g=String(g).toString(),g in c.g&&(H=c.g[g],_=Zr(H,_,A,U),-1<_&&(er(H[_]),Array.prototype.splice.call(H,_,1),H.length==0&&(delete c.g[g],c.h--)))):c&&(c=Zs(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Zr(g,_,A,U)),(_=-1<c?g[c]:null)&&Ws(_))}function Ws(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[De])Wr(g.i,c);else{var _=c.type,A=c.proxy;g.removeEventListener?g.removeEventListener(_,A,c.capture):g.detachEvent?g.detachEvent(ts(_),A):g.addListener&&g.removeListener&&g.removeListener(A),(_=Zs(g))?(Wr(_,c),_.h==0&&(_.src=null,g[Jr]=null)):er(c)}}}function ts(c){return c in mo?mo[c]:mo[c]="on"+c}function Ph(c,g){if(c.da)c=!0;else{g=new Ot(g,this);var _=c.listener,A=c.ha||c.src;c.fa&&Ws(c),c=_.call(A,g)}return c}function Zs(c){return c=c[Jr],c instanceof Ai?c:null}var po="__closure_events_fn_"+(1e9*Math.random()>>>0);function iu(c){return typeof c=="function"?c:(c[po]||(c[po]=function(g){return c.handleEvent(g)}),c[po])}function ue(){rt.call(this),this.i=new Ai(this),this.M=this,this.F=null}X(ue,rt),ue.prototype[De]=!0,ue.prototype.removeEventListener=function(c,g,_,A){go(this,c,g,_,A)};function Gt(c,g){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=g.type||g,typeof g=="string")g=new et(g,c);else if(g instanceof et)g.target=g.target||c;else{var U=g;g=new et(A,c),O(g,U)}if(U=!0,_)for(var H=_.length-1;0<=H;H--){var nt=g.g=_[H];U=cn(nt,A,!0,g)&&U}if(nt=g.g=c,U=cn(nt,A,!0,g)&&U,U=cn(nt,A,!1,g)&&U,_)for(H=0;H<_.length;H++)nt=g.g=_[H],U=cn(nt,A,!1,g)&&U}ue.prototype.N=function(){if(ue.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],A=0;A<_.length;A++)er(_[A]);delete c.g[g],c.h--}}this.F=null},ue.prototype.K=function(c,g,_,A){return this.i.add(String(c),g,!1,_,A)},ue.prototype.L=function(c,g,_,A){return this.i.add(String(c),g,!0,_,A)};function cn(c,g,_,A){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var U=!0,H=0;H<g.length;++H){var nt=g[H];if(nt&&!nt.da&&nt.capture==_){var xt=nt.listener,be=nt.ha||nt.src;nt.fa&&Wr(c.i,nt),U=xt.call(be,A)!==!1&&U}}return U&&!A.defaultPrevented}function Qe(c,g,_){if(typeof c=="function")_&&(c=C(c,_));else if(c&&typeof c.handleEvent=="function")c=C(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function ru(c){c.g=Qe(()=>{c.g=null,c.i&&(c.i=!1,ru(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class xh extends rt{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:ru(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function es(c){rt.call(this),this.h=c,this.g={}}X(es,rt);var ns=[];function is(c){ft(c.g,function(g,_){this.g.hasOwnProperty(_)&&Ws(g)},c),c.g={}}es.prototype.N=function(){es.aa.N.call(this),is(this)},es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Un=m.JSON.stringify,Js=m.JSON.parse,rs=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function yo(){}yo.prototype.h=null;function _o(c){return c.h||(c.h=c.i())}function vo(){}var Si={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function bi(){et.call(this,"d")}X(bi,et);function Eo(){et.call(this,"c")}X(Eo,et);var $n={},To=null;function nr(){return To=To||new ue}$n.La="serverreachability";function ta(c){et.call(this,$n.La,c)}X(ta,et);function ir(c){const g=nr();Gt(g,new ta(g))}$n.STAT_EVENT="statevent";function su(c,g){et.call(this,$n.STAT_EVENT,c),this.stat=g}X(su,et);function re(c){const g=nr();Gt(g,new su(g,c))}$n.Ma="timingevent";function Se(c,g){et.call(this,$n.Ma,c),this.size=g}X(Se,et);function pe(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function Tn(){this.g=!0}Tn.prototype.xa=function(){this.g=!1};function Ao(c,g,_,A,U,H){c.info(function(){if(c.g)if(H)for(var nt="",xt=H.split("&"),be=0;be<xt.length;be++){var Ut=xt[be].split("=");if(1<Ut.length){var Ne=Ut[0];Ut=Ut[1];var we=Ne.split("_");nt=2<=we.length&&we[1]=="type"?nt+(Ne+"="+Ut+"&"):nt+(Ne+"=redacted&")}}else nt=null;else nt=H;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+g+`
`+_+`
`+nt})}function Uh(c,g,_,A,U,H,nt){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+g+`
`+_+`
`+H+" "+nt})}function rr(c,g,_,A){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+ss(c,_)+(A?" "+A:"")})}function au(c,g){c.info(function(){return"TIMEOUT: "+g})}Tn.prototype.info=function(){};function ss(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var U=A[1];if(Array.isArray(U)&&!(1>U.length)){var H=U[0];if(H!="noop"&&H!="stop"&&H!="close")for(var nt=1;nt<U.length;nt++)U[nt]=""}}}}return Un(_)}catch{return g}}var sr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},wi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wn;function Zn(){}X(Zn,yo),Zn.prototype.g=function(){return new XMLHttpRequest},Zn.prototype.i=function(){return{}},Wn=new Zn;function tn(c,g,_,A){this.j=c,this.i=g,this.l=_,this.R=A||1,this.U=new es(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new fe}function fe(){this.i=null,this.g="",this.h=!1}var So={},ea={};function Ln(c,g,_){c.L=1,c.v=cs(hn(g)),c.m=_,c.P=!0,Ri(c,null)}function Ri(c,g){c.F=Date.now(),as(c),c.A=hn(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Do(_.i,"t",A),c.C=0,_=c.j.J,c.h=new fe,c.g=Au(c.j,_?g:null,!c.m),0<c.O&&(c.M=new xh(C(c.Y,c,c.g),c.O)),g=c.U,_=c.g,A=c.ca;var U="readystatechange";Array.isArray(U)||(U&&(ns[0]=U.toString()),U=ns);for(var H=0;H<U.length;H++){var nt=nu(_,U[H],A||g.handleEvent,!1,g.h||g);if(!nt)break;g.g[nt.key]=nt}g=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),ir(),Ao(c.i,c.u,c.A,c.l,c.R,c.m)}tn.prototype.ca=function(c){c=c.target;const g=this.M;g&&wn(c)==3?g.j():this.Y(c)},tn.prototype.Y=function(c){try{if(c==this.g)t:{const we=wn(this.g);var g=this.g.Ba();const ki=this.g.Z();if(!(3>we)&&(we!=3||this.g&&(this.h.h||this.g.oa()||mu(this.g)))){this.J||we!=4||g==7||(g==8||0>=ki?ir(3):ir(2)),ar(this);var _=this.g.Z();this.X=_;e:if(ou(this)){var A=mu(this.g);c="";var U=A.length,H=wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Le(this),Jn(this);var nt="";break e}this.h.i=new m.TextDecoder}for(g=0;g<U;g++)this.h.h=!0,c+=this.h.i.decode(A[g],{stream:!(H&&g==U-1)});A.length=0,this.h.g+=c,this.C=0,nt=this.h.g}else nt=this.g.oa();if(this.o=_==200,Uh(this.i,this.u,this.A,this.l,this.R,we,_),this.o){if(this.T&&!this.K){e:{if(this.g){var xt,be=this.g;if((xt=be.g?be.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ht(xt)){var Ut=xt;break e}}Ut=null}if(_=Ut)rr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,os(this,_);else{this.o=!1,this.s=3,re(12),Le(this),Jn(this);break t}}if(this.P){_=!0;let ze;for(;!this.J&&this.C<nt.length;)if(ze=lu(this,nt),ze==ea){we==4&&(this.s=4,re(14),_=!1),rr(this.i,this.l,null,"[Incomplete Response]");break}else if(ze==So){this.s=4,re(15),rr(this.i,this.l,nt,"[Invalid Chunk]"),_=!1;break}else rr(this.i,this.l,ze,null),os(this,ze);if(ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||nt.length!=0||this.h.h||(this.s=1,re(16),_=!1),this.o=this.o&&_,!_)rr(this.i,this.l,nt,"[Invalid Chunked Response]"),Le(this),Jn(this);else if(0<nt.length&&!this.W){this.W=!0;var Ne=this.j;Ne.g==this&&Ne.ba&&!Ne.M&&(Ne.j.info("Great, no buffering proxy detected. Bytes received: "+nt.length),_s(Ne),Ne.M=!0,re(11))}}else rr(this.i,this.l,nt,null),os(this,nt);we==4&&Le(this),this.o&&!this.J&&(we==4?vu(this.j,this):(this.o=!1,as(this)))}else jh(this.g),_==400&&0<nt.indexOf("Unknown SID")?(this.s=3,re(12)):(this.s=0,re(13)),Le(this),Jn(this)}}}catch{}finally{}};function ou(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function lu(c,g){var _=c.C,A=g.indexOf(`
`,_);return A==-1?ea:(_=Number(g.substring(_,A)),isNaN(_)?So:(A+=1,A+_>g.length?ea:(g=g.slice(A,A+_),c.C=A+_,g)))}tn.prototype.cancel=function(){this.J=!0,Le(this)};function as(c){c.S=Date.now()+c.I,uu(c,c.I)}function uu(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=pe(C(c.ba,c),g)}function ar(c){c.B&&(m.clearTimeout(c.B),c.B=null)}tn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(au(this.i,this.A),this.L!=2&&(ir(),re(17)),Le(this),this.s=2,Jn(this)):uu(this,this.S-c)};function Jn(c){c.j.G==0||c.J||vu(c.j,c)}function Le(c){ar(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,is(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function os(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||bo(_.h,c))){if(!c.K&&bo(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)da(_),ha(_);else break t;ko(_),re(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=pe(C(_.Za,_),6e3));if(1>=ia(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Mi(_,11)}else if((c.K||_.g==c)&&da(_),!ht(g))for(U=_.Da.g.parse(g),g=0;g<U.length;g++){let Ut=U[g];if(_.T=Ut[0],Ut=Ut[1],_.G==2)if(Ut[0]=="c"){_.K=Ut[1],_.ia=Ut[2];const Ne=Ut[3];Ne!=null&&(_.la=Ne,_.j.info("VER="+_.la));const we=Ut[4];we!=null&&(_.Aa=we,_.j.info("SVER="+_.Aa));const ki=Ut[5];ki!=null&&typeof ki=="number"&&0<ki&&(A=1.5*ki,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const ze=c.g;if(ze){const ai=ze.g?ze.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ai){var H=A.h;H.g||ai.indexOf("spdy")==-1&&ai.indexOf("quic")==-1&&ai.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(ra(H,H.h),H.h=null))}if(A.D){const xo=ze.g?ze.g.getResponseHeader("X-HTTP-Session-Id"):null;xo&&(A.ya=xo,Xt(A.I,A.D,xo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var nt=c;if(A.qa=Tu(A,A.J?A.ia:null,A.W),nt.K){en(A.h,nt);var xt=nt,be=A.L;be&&(xt.I=be),xt.B&&(ar(xt),as(xt)),A.g=nt}else yu(A);0<_.i.length&&fa(_)}else Ut[0]!="stop"&&Ut[0]!="close"||Mi(_,7);else _.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?Mi(_,7):Vo(_):Ut[0]!="noop"&&_.l&&_.l.ta(Ut),_.v=0)}}ir(4)}catch{}}var cu=class{constructor(c,g){this.g=c,this.map=g}};function Ii(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function na(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ia(c){return c.h?1:c.g?c.g.size:0}function bo(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function ra(c,g){c.g?c.g.add(g):c.h=g}function en(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Ii.prototype.cancel=function(){if(this.i=wo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function wo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return tt(c.i)}function Lh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],_=c.length,A=0;A<_;A++)g.push(c[A]);return g}g=[],_=0;for(A in c)g[_++]=c[A];return g}function sa(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const A in c)g[_++]=A;return g}}}function Ro(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=sa(c),A=Lh(c),U=A.length,H=0;H<U;H++)g.call(void 0,A[H],_&&_[H],c)}var ls=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zh(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),U=null;if(0<=A){var H=c[_].substring(0,A);U=c[_].substring(A+1)}else H=c[_];g(H,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function ye(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ye){this.h=c.h,us(this,c.j),this.o=c.o,this.g=c.g,or(this,c.s),this.l=c.l;var g=c.i,_=new Di;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),Ci(this,_),this.m=c.m}else c&&(g=String(c).match(ls))?(this.h=!1,us(this,g[1]||"",!0),this.o=An(g[2]||""),this.g=An(g[3]||"",!0),or(this,g[4]),this.l=An(g[5]||"",!0),Ci(this,g[6]||"",!0),this.m=An(g[7]||"")):(this.h=!1,this.i=new Di(null,this.h))}ye.prototype.toString=function(){var c=[],g=this.j;g&&c.push(hs(g,Io,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(hs(g,Io,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(hs(_,_.charAt(0)=="/"?Bh:Co,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",hs(_,aa)),c.join("")};function hn(c){return new ye(c)}function us(c,g,_){c.j=_?An(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function or(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Ci(c,g,_){g instanceof Di?(c.i=g,fu(c.i,c.h)):(_||(g=hs(g,qh)),c.i=new Di(g,c.h))}function Xt(c,g,_){c.i.set(g,_)}function cs(c){return Xt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function An(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function hs(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,hu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function hu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Io=/[#\/\?@]/g,Co=/[#\?:]/g,Bh=/[#\?]/g,qh=/[#\?@]/g,aa=/#/g;function Di(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Sn(c){c.g||(c.g=new Map,c.h=0,c.i&&zh(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}r=Di.prototype,r.add=function(c,g){Sn(this),this.i=null,c=ti(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function Oi(c,g){Sn(c),g=ti(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Ni(c,g){return Sn(c),g=ti(c,g),c.g.has(g)}r.forEach=function(c,g){Sn(this),this.g.forEach(function(_,A){_.forEach(function(U){c.call(g,U,A,this)},this)},this)},r.na=function(){Sn(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let A=0;A<g.length;A++){const U=c[A];for(let H=0;H<U.length;H++)_.push(g[A])}return _},r.V=function(c){Sn(this);let g=[];if(typeof c=="string")Ni(this,c)&&(g=g.concat(this.g.get(ti(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},r.set=function(c,g){return Sn(this),this.i=null,c=ti(this,c),Ni(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Do(c,g,_){Oi(c,g),0<_.length&&(c.i=null,c.g.set(ti(c,g),tt(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var A=g[_];const H=encodeURIComponent(String(A)),nt=this.V(A);for(A=0;A<nt.length;A++){var U=H;nt[A]!==""&&(U+="="+encodeURIComponent(String(nt[A]))),c.push(U)}}return this.i=c.join("&")};function ti(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function fu(c,g){g&&!c.j&&(Sn(c),c.i=null,c.g.forEach(function(_,A){var U=A.toLowerCase();A!=U&&(Oi(this,A),Do(this,U,_))},c)),c.j=g}function fs(c,g){const _=new Tn;if(m.Image){const A=new Image;A.onload=z(bn,_,"TestLoadImage: loaded",!0,g,A),A.onerror=z(bn,_,"TestLoadImage: error",!1,g,A),A.onabort=z(bn,_,"TestLoadImage: abort",!1,g,A),A.ontimeout=z(bn,_,"TestLoadImage: timeout",!1,g,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else g(!1)}function zn(c,g){const _=new Tn,A=new AbortController,U=setTimeout(()=>{A.abort(),bn(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:A.signal}).then(H=>{clearTimeout(U),H.ok?bn(_,"TestPingServer: ok",!0,g):bn(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(U),bn(_,"TestPingServer: error",!1,g)})}function bn(c,g,_,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(_)}catch{}}function ds(){this.g=new rs}function ei(c,g,_){const A=_||"";try{Ro(c,function(U,H){let nt=U;y(U)&&(nt=Un(U)),g.push(A+H+"="+encodeURIComponent(nt))})}catch(U){throw g.push(A+"type="+encodeURIComponent("_badmap")),U}}function lr(c){this.l=c.Ub||null,this.j=c.eb||!1}X(lr,yo),lr.prototype.g=function(){return new Vi(this.l,this.j)},lr.prototype.i=function(c){return function(){return c}}({});function Vi(c,g){ue.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}X(Vi,ue),r=Vi.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,ii(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ni(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ii(this)),this.g&&(this.readyState=3,ii(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Oo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Oo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?ni(this):ii(this),this.readyState==3&&Oo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,ni(this))},r.Qa=function(c){this.g&&(this.response=c,ni(this))},r.ga=function(){this.g&&ni(this)};function ni(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ii(c)}r.setRequestHeader=function(c,g){this.u.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function ii(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Vi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function No(c){let g="";return ft(c,function(_,A){g+=A,g+=":",g+=_,g+=`\r
`}),g}function Oe(c,g,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=No(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Xt(c,g,_))}function Ht(c){ue.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}X(Ht,ue);var oa=/^https?$/i,ms=["POST","PUT"];r=Ht.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,g,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wn.g(),this.v=this.o?_o(this.o):_o(Wn),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(H){du(this,H);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)_.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const H of A.keys())_.set(H,A.get(H));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(H=>H.toLowerCase()=="content-type"),U=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ms,g,void 0))||A||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,nt]of _)this.g.setRequestHeader(H,nt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{gs(this),this.u=!0,this.g.send(c),this.u=!1}catch(H){du(this,H)}};function du(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,la(c),ri(c)}function la(c){c.A||(c.A=!0,Gt(c,"complete"),Gt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Gt(this,"complete"),Gt(this,"abort"),ri(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ri(this,!0)),Ht.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ua(this):this.bb())},r.bb=function(){ua(this)};function ua(c){if(c.h&&typeof f<"u"&&(!c.v[1]||wn(c)!=4||c.Z()!=2)){if(c.u&&wn(c)==4)Qe(c.Ea,0,c);else if(Gt(c,"readystatechange"),wn(c)==4){c.h=!1;try{const nt=c.Z();t:switch(nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break t;default:g=!1}var _;if(!(_=g)){var A;if(A=nt===0){var U=String(c.D).match(ls)[1]||null;!U&&m.self&&m.self.location&&(U=m.self.location.protocol.slice(0,-1)),A=!oa.test(U?U.toLowerCase():"")}_=A}if(_)Gt(c,"complete"),Gt(c,"success");else{c.m=6;try{var H=2<wn(c)?c.g.statusText:""}catch{H=""}c.l=H+" ["+c.Z()+"]",la(c)}}finally{ri(c)}}}}function ri(c,g){if(c.g){gs(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Gt(c,"ready");try{_.onreadystatechange=A}catch{}}}function gs(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function wn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<wn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Js(g)}};function mu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function jh(c){const g={};c=(c.g&&2<=wn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(ht(c[A]))continue;var _=k(c[A]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const H=g[U]||[];g[U]=H,H.push(_)}V(g,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ps(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function ca(c){this.Aa=0,this.i=[],this.j=new Tn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ps("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ps("baseRetryDelayMs",5e3,c),this.cb=ps("retryDelaySeedMs",1e4,c),this.Wa=ps("forwardChannelMaxRetries",2,c),this.wa=ps("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ii(c&&c.concurrentRequestLimit),this.Da=new ds,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ca.prototype,r.la=8,r.G=1,r.connect=function(c,g,_,A){re(0),this.W=c,this.H=g||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=Tu(this,null,this.W),fa(this)};function Vo(c){if(gu(c),c.G==3){var g=c.U++,_=hn(c.I);if(Xt(_,"SID",c.K),Xt(_,"RID",g),Xt(_,"TYPE","terminate"),ys(c,_),g=new tn(c,c.j,g),g.L=2,g.v=cs(hn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=g.v,_=!0),_||(g.g=Au(g.j,null),g.g.ea(g.v)),g.F=Date.now(),as(g)}Eu(c)}function ha(c){c.g&&(_s(c),c.g.cancel(),c.g=null)}function gu(c){ha(c),c.u&&(m.clearTimeout(c.u),c.u=null),da(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function fa(c){if(!na(c.h)&&!c.s){c.s=!0;var g=c.Ga;it||N(),mt||(it(),mt=!0),qt.add(g,c),c.B=0}}function Hh(c,g){return ia(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=pe(C(c.Ga,c,g),Po(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const U=new tn(this,this.j,c);let H=this.o;if(this.S&&(H?(H=b(H),O(H,this.S)):H=this.S),this.m!==null||this.O||(U.H=H,H=null),this.P)t:{for(var g=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(g+=A,4096<g){g=_;break t}if(g===4096||_===this.i.length-1){g=_+1;break t}}g=1e3}else g=1e3;g=pu(this,U,g),_=hn(this.I),Xt(_,"RID",c),Xt(_,"CVER",22),this.D&&Xt(_,"X-HTTP-Session-Id",this.D),ys(this,_),H&&(this.O?g="headers="+encodeURIComponent(String(No(H)))+"&"+g:this.m&&Oe(_,this.m,H)),ra(this.h,U),this.Ua&&Xt(_,"TYPE","init"),this.P?(Xt(_,"$req",g),Xt(_,"SID","null"),U.T=!0,Ln(U,_,null)):Ln(U,_,g),this.G=2}}else this.G==3&&(c?Mo(this,c):this.i.length==0||na(this.h)||Mo(this))};function Mo(c,g){var _;g?_=g.l:_=c.U++;const A=hn(c.I);Xt(A,"SID",c.K),Xt(A,"RID",_),Xt(A,"AID",c.T),ys(c,A),c.m&&c.o&&Oe(A,c.m,c.o),_=new tn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=pu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ra(c.h,_),Ln(_,A,g)}function ys(c,g){c.H&&ft(c.H,function(_,A){Xt(g,A,_)}),c.l&&Ro({},function(_,A){Xt(g,A,_)})}function pu(c,g,_){_=Math.min(c.i.length,_);var A=c.l?C(c.l.Na,c.l,c):null;t:{var U=c.i;let H=-1;for(;;){const nt=["count="+_];H==-1?0<_?(H=U[0].g,nt.push("ofs="+H)):H=0:nt.push("ofs="+H);let xt=!0;for(let be=0;be<_;be++){let Ut=U[be].g;const Ne=U[be].map;if(Ut-=H,0>Ut)H=Math.max(0,U[be].g-100),xt=!1;else try{ei(Ne,nt,"req"+Ut+"_")}catch{A&&A(Ne)}}if(xt){A=nt.join("&");break t}}}return c=c.i.splice(0,_),g.D=c,A}function yu(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;it||N(),mt||(it(),mt=!0),qt.add(g,c),c.v=0}}function ko(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=pe(C(c.Fa,c),Po(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,_u(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=pe(C(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,re(10),ha(this),_u(this))};function _s(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function _u(c){c.g=new tn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=hn(c.qa);Xt(g,"RID","rpc"),Xt(g,"SID",c.K),Xt(g,"AID",c.T),Xt(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&Xt(g,"TO",c.ja),Xt(g,"TYPE","xmlhttp"),ys(c,g),c.m&&c.o&&Oe(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=cs(hn(g)),_.m=null,_.P=!0,Ri(_,c)}r.Za=function(){this.C!=null&&(this.C=null,ha(this),ko(this),re(19))};function da(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function vu(c,g){var _=null;if(c.g==g){da(c),_s(c),c.g=null;var A=2}else if(bo(c.h,g))_=g.D,en(c.h,g),A=1;else return;if(c.G!=0){if(g.o)if(A==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var U=c.B;A=nr(),Gt(A,new Se(A,_)),fa(c)}else yu(c);else if(U=g.s,U==3||U==0&&0<g.X||!(A==1&&Hh(c,g)||A==2&&ko(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),U){case 1:Mi(c,5);break;case 4:Mi(c,10);break;case 3:Mi(c,6);break;default:Mi(c,2)}}}function Po(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function Mi(c,g){if(c.j.info("Error code "+g),g==2){var _=C(c.fb,c),A=c.Xa;const U=!A;A=new ye(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||us(A,"https"),cs(A),U?fs(A.toString(),_):zn(A.toString(),_)}else re(2);c.G=0,c.l&&c.l.sa(g),Eu(c),gu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),re(2)):(this.j.info("Failed to ping google.com"),re(1))};function Eu(c){if(c.G=0,c.ka=[],c.l){const g=wo(c.h);(g.length!=0||c.i.length!=0)&&(K(c.ka,g),K(c.ka,c.i),c.h.i.length=0,tt(c.i),c.i.length=0),c.l.ra()}}function Tu(c,g,_){var A=_ instanceof ye?hn(_):new ye(_);if(A.g!="")g&&(A.g=g+"."+A.g),or(A,A.s);else{var U=m.location;A=U.protocol,g=g?g+"."+U.hostname:U.hostname,U=+U.port;var H=new ye(null);A&&us(H,A),g&&(H.g=g),U&&or(H,U),_&&(H.l=_),A=H}return _=c.D,g=c.ya,_&&g&&Xt(A,_,g),Xt(A,"VER",c.la),ys(c,A),A}function Au(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Ht(new lr({eb:_})):new Ht(c.pa),g.Ha(c.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Su(){}r=Su.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ma(){}ma.prototype.g=function(c,g){return new nn(c,g)};function nn(c,g){ue.call(this),this.g=new ca(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!ht(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!ht(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new si(this)}X(nn,ue),nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Vo(this.g)},nn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Un(c),c=_);g.i.push(new cu(g.Ya++,c)),g.G==3&&fa(g)},nn.prototype.N=function(){this.g.l=null,delete this.j,Vo(this.g),delete this.g,nn.aa.N.call(this)};function bu(c){bi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){t:{for(const _ in g){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}X(bu,bi);function wu(){Eo.call(this),this.status=1}X(wu,Eo);function si(c){this.g=c}X(si,Su),si.prototype.ua=function(){Gt(this.g,"a")},si.prototype.ta=function(c){Gt(this.g,new bu(c))},si.prototype.sa=function(c){Gt(this.g,new wu)},si.prototype.ra=function(){Gt(this.g,"b")},ma.prototype.createWebChannel=ma.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,Z0=function(){return new ma},W0=function(){return nr()},$0=$n,hm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},sr.NO_ERROR=0,sr.TIMEOUT=8,sr.HTTP_ERROR=6,Uc=sr,wi.COMPLETE="complete",X0=wi,vo.EventType=Si,Si.OPEN="a",Si.CLOSE="b",Si.ERROR="c",Si.MESSAGE="d",ue.prototype.listen=ue.prototype.K,wl=vo,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,Y0=Ht}).apply(typeof Ic<"u"?Ic:typeof self<"u"?self:typeof window<"u"?window:{});const Cv="@firebase/firestore",Dv="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}We.UNAUTHENTICATED=new We(null),We.GOOGLE_CREDENTIALS=new We("google-credentials-uid"),We.FIRST_PARTY=new We("first-party-uid"),We.MOCK_USER=new We("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lo="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs=new fh("@firebase/firestore");function Ha(){return qs.logLevel}function lt(r,...t){if(qs.logLevel<=kt.DEBUG){const n=t.map(Gm);qs.debug(`Firestore (${lo}): ${r}`,...n)}}function Ji(r,...t){if(qs.logLevel<=kt.ERROR){const n=t.map(Gm);qs.error(`Firestore (${lo}): ${r}`,...n)}}function jr(r,...t){if(qs.logLevel<=kt.WARN){const n=t.map(Gm);qs.warn(`Firestore (${lo}): ${r}`,...n)}}function Gm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,J0(r,s,n)}function J0(r,t,n){let s=`FIRESTORE (${lo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ji(s),new Error(s)}function Ft(r,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||J0(t,o,s)}function Rt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends Yn{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class VC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(We.UNAUTHENTICATED))}shutdown(){}}class MC{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class kC{constructor(t){this.t=t,this.currentUser=We.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ft(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new zr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new zr,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;t.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new zr)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ft(typeof s.accessToken=="string",31837,{l:s}),new tT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new We(t)}}class PC{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=We.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class xC{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new PC(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(We.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ov{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UC{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ft(this.o===void 0,3512);const s=u=>{u.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,lt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>s(u))};const o=u=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ov(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Ft(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Ov(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=LC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function Dt(r,t){return r<t?-1:r>t?1:0}function fm(r,t){let n=0;for(;n<r.length&&n<t.length;){const s=r.codePointAt(n),o=t.codePointAt(n);if(s!==o){if(s<128&&o<128)return Dt(s,o);{const u=eT(),f=zC(u.encode(Nv(r,n)),u.encode(Nv(t,n)));return f!==0?f:Dt(s,o)}}n+=s>65535?2:1}return Dt(r.length,t.length)}function Nv(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function zC(r,t){for(let n=0;n<r.length&&n<t.length;++n)if(r[n]!==t[n])return Dt(r[n],t[n]);return Dt(r.length,t.length)}function to(r,t,n){return r.length===t.length&&r.every((s,o)=>n(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv="__name__";class fi{constructor(t,n,s){n===void 0?n=0:n>t.length&&At(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&At(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return fi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof fi?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=fi.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Dt(t.length,n.length)}static compareSegments(t,n){const s=fi.isNumericId(t),o=fi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?fi.extractNumericId(t).compare(fi.extractNumericId(n)):fm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Lr.fromString(t.substring(4,t.length-2))}}class ne extends fi{construct(t,n,s){return new ne(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ot($.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new ne(n)}static emptyPath(){return new ne([])}}const BC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fe extends fi{construct(t,n,s){return new Fe(t,n,s)}static isValidIdentifier(t){return BC.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Vv}static keyField(){return new Fe([Vv])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ot($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ot($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ot($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ot($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Fe(n)}static emptyPath(){return new Fe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(t){this.path=t}static fromPath(t){return new gt(ne.fromString(t))}static fromName(t){return new gt(ne.fromString(t).popFirst(5))}static empty(){return new gt(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ne.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new ne(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(r,t,n){if(!n)throw new ot($.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function qC(r,t,n,s){if(t===!0&&s===!0)throw new ot($.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Mv(r){if(!gt.isDocumentKey(r))throw new ot($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function kv(r){if(gt.isDocumentKey(r))throw new ot($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function iT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function _h(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":At(12329,{type:typeof r})}function Ll(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ot($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=_h(r);throw new ot($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(r,t){const n={typeString:r};return t&&(n.value=t),n}function Wl(r,t){if(!iT(r))throw new ot($.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ot($.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv=-62135596800,xv=1e6;class ie{static now(){return ie.fromMillis(Date.now())}static fromDate(t){return ie.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*xv);return new ie(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ot($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ot($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Pv)throw new ot($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ot($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/xv}_compareTo(t){return this.seconds===t.seconds?Dt(this.nanoseconds,t.nanoseconds):Dt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Wl(t,ie._jsonSchema))return new ie(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Pv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ie._jsonSchemaVersion="firestore/timestamp/1.0",ie._jsonSchema={type:Ae("string",ie._jsonSchemaVersion),seconds:Ae("number"),nanoseconds:Ae("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{static fromTimestamp(t){return new wt(t)}static min(){return new wt(new ie(0,0))}static max(){return new wt(new ie(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zl=-1;function jC(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=wt.fromTimestamp(s===1e9?new ie(n+1,0):new ie(n,s));return new Hr(o,gt.empty(),t)}function HC(r){return new Hr(r.readTime,r.key,zl)}class Hr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Hr(wt.min(),gt.empty(),zl)}static max(){return new Hr(wt.max(),gt.empty(),zl)}}function FC(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=gt.comparator(r.documentKey,t.documentKey),n!==0?n:Dt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uo(r){if(r.code!==$.FAILED_PRECONDITION||r.message!==GC)throw r;lt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&At(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Z((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):Z.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):Z.reject(n)}static resolve(t){return new Z((n,s)=>{n(t)})}static reject(t){return new Z((n,s)=>{s(t)})}static waitFor(t){return new Z((n,s)=>{let o=0,u=0,f=!1;t.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(t){let n=Z.resolve(!1);for(const s of t)n=n.next(o=>o?Z.resolve(o):s());return n}static forEach(t,n){const s=[];return t.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(t,n){return new Z((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(t[y]).next(T=>{f[y]=T,++m,m===u&&s(f)},T=>o(T))}})}static doWhile(t,n){return new Z((s,o)=>{const u=()=>{t()===!0?n().next(()=>{u()},o):s()};u()})}}function QC(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function co(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this._e(s),this.ae=s=>n.writeSequenceNumber(s))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ae&&this.ae(t),t}}vh.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm=-1;function Eh(r){return r==null}function Jc(r){return r===0&&1/r==-1/0}function YC(r){return typeof r=="number"&&Number.isInteger(r)&&!Jc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="";function XC(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=Uv(t)),t=$C(r.get(n),t);return Uv(t)}function $C(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case rT:n+="";break;default:n+=u}}return n}function Uv(r){return r+rT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function Ks(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function sT(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(t,n){this.comparator=t,this.root=n||He.EMPTY}insert(t,n){return new oe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,He.BLACK,null,null))}remove(t){return new oe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,He.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Cc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Cc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Cc(this.root,t,this.comparator,!0)}}class Cc{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class He{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??He.RED,this.left=o??He.EMPTY,this.right=u??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new He(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return He.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw At(43730,{key:this.key,value:this.value});if(this.right.isRed())throw At(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw At(27949);return t+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw At(57766)}get value(){throw At(16141)}get color(){throw At(16727)}get left(){throw At(29726)}get right(){throw At(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new He(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(t){this.comparator=t,this.data=new oe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new zv(this.data.getIterator())}getIteratorFrom(t){return new zv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof Ce)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Ce(this.comparator);return n.data=t,n}}class zv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(t){this.fields=t,t.sort(Fe.comparator)}static empty(){return new Fn([])}unionWith(t){let n=new Ce(Fe.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Fn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return to(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new aT("Invalid base64 string: "+u):u}}(t);return new Ke(n)}static fromUint8Array(t){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(t);return new Ke(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Dt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const WC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fr(r){if(Ft(!!r,39018),typeof r=="string"){let t=0;const n=WC.exec(r);if(Ft(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ge(r.seconds),nanos:ge(r.nanos)}}function ge(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Gr(r){return typeof r=="string"?Ke.fromBase64String(r):Ke.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="server_timestamp",lT="__type__",uT="__previous_value__",cT="__local_write_time__";function Ym(r){var t,n;return((n=(((t=r?.mapValue)===null||t===void 0?void 0:t.fields)||{})[lT])===null||n===void 0?void 0:n.stringValue)===oT}function Th(r){const t=r.mapValue.fields[uT];return Ym(t)?Th(t):t}function Bl(r){const t=Fr(r.mapValue.fields[cT].timestampValue);return new ie(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(t,n,s,o,u,f,m,p,y,T){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=T}}const th="(default)";class ql{constructor(t,n){this.projectId=t,this.database=n||th}static empty(){return new ql("","")}get isDefaultDatabase(){return this.database===th}isEqual(t){return t instanceof ql&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="__type__",JC="__max__",Dc={mapValue:{}},fT="__vector__",eh="value";function Kr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Ym(r)?4:e2(r)?9007199254740991:t2(r)?10:11:At(28295,{value:r})}function Ti(r,t){if(r===t)return!0;const n=Kr(r);if(n!==Kr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Bl(r).isEqual(Bl(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Fr(o.timestampValue),m=Fr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(o,u){return Gr(o.bytesValue).isEqual(Gr(u.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(o,u){return ge(o.geoPointValue.latitude)===ge(u.geoPointValue.latitude)&&ge(o.geoPointValue.longitude)===ge(u.geoPointValue.longitude)}(r,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return ge(o.integerValue)===ge(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=ge(o.doubleValue),m=ge(u.doubleValue);return f===m?Jc(f)===Jc(m):isNaN(f)&&isNaN(m)}return!1}(r,t);case 9:return to(r.arrayValue.values||[],t.arrayValue.values||[],Ti);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Lv(f)!==Lv(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Ti(f[p],m[p])))return!1;return!0}(r,t);default:return At(52216,{left:r})}}function jl(r,t){return(r.values||[]).find(n=>Ti(n,t))!==void 0}function eo(r,t){if(r===t)return 0;const n=Kr(r),s=Kr(t);if(n!==s)return Dt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Dt(r.booleanValue,t.booleanValue);case 2:return function(u,f){const m=ge(u.integerValue||u.doubleValue),p=ge(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,t);case 3:return Bv(r.timestampValue,t.timestampValue);case 4:return Bv(Bl(r),Bl(t));case 5:return fm(r.stringValue,t.stringValue);case 6:return function(u,f){const m=Gr(u),p=Gr(f);return m.compareTo(p)}(r.bytesValue,t.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const T=Dt(m[y],p[y]);if(T!==0)return T}return Dt(m.length,p.length)}(r.referenceValue,t.referenceValue);case 8:return function(u,f){const m=Dt(ge(u.latitude),ge(f.latitude));return m!==0?m:Dt(ge(u.longitude),ge(f.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return qv(r.arrayValue,t.arrayValue);case 10:return function(u,f){var m,p,y,T;const R=u.fields||{},C=f.fields||{},z=(m=R[eh])===null||m===void 0?void 0:m.arrayValue,X=(p=C[eh])===null||p===void 0?void 0:p.arrayValue,tt=Dt(((y=z?.values)===null||y===void 0?void 0:y.length)||0,((T=X?.values)===null||T===void 0?void 0:T.length)||0);return tt!==0?tt:qv(z,X)}(r.mapValue,t.mapValue);case 11:return function(u,f){if(u===Dc.mapValue&&f===Dc.mapValue)return 0;if(u===Dc.mapValue)return 1;if(f===Dc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},T=Object.keys(y);p.sort(),T.sort();for(let R=0;R<p.length&&R<T.length;++R){const C=fm(p[R],T[R]);if(C!==0)return C;const z=eo(m[p[R]],y[T[R]]);if(z!==0)return z}return Dt(p.length,T.length)}(r.mapValue,t.mapValue);default:throw At(23264,{le:n})}}function Bv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Dt(r,t);const n=Fr(r),s=Fr(t),o=Dt(n.seconds,s.seconds);return o!==0?o:Dt(n.nanos,s.nanos)}function qv(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=eo(n[o],s[o]);if(u)return u}return Dt(n.length,s.length)}function no(r){return dm(r)}function dm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Fr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Gr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return gt.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=dm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${dm(n.fields[f])}`;return o+"}"}(r.mapValue):At(61005,{value:r})}function Lc(r){switch(Kr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Th(r);return t?16+Lc(t):16;case 5:return 2*r.stringValue.length;case 6:return Gr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Lc(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Ks(s.fields,(u,f)=>{o+=u.length+Lc(f)}),o}(r.mapValue);default:throw At(13486,{value:r})}}function jv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function mm(r){return!!r&&"integerValue"in r}function Xm(r){return!!r&&"arrayValue"in r}function Hv(r){return!!r&&"nullValue"in r}function Fv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function zc(r){return!!r&&"mapValue"in r}function t2(r){var t,n;return((n=(((t=r?.mapValue)===null||t===void 0?void 0:t.fields)||{})[hT])===null||n===void 0?void 0:n.stringValue)===fT}function Nl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Ks(r.mapValue.fields,(n,s)=>t.mapValue.fields[n]=Nl(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Nl(r.arrayValue.values[n]);return t}return Object.assign({},r)}function e2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===JC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(t){this.value=t}static empty(){return new kn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!zc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Nl(n)}setAll(t){let n=Fe.emptyPath(),s={},o=[];t.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Nl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());zc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Ti(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];zc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){Ks(n,(o,u)=>t[o]=u);for(const o of s)delete t[o]}clone(){return new kn(Nl(this.value))}}function dT(r){const t=[];return Ks(r.fields,(n,s)=>{const o=new Fe([n]);if(zc(s)){const u=dT(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)}),new Fn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(t,n,s,o,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new Ze(t,0,wt.min(),wt.min(),wt.min(),kn.empty(),0)}static newFoundDocument(t,n,s,o){return new Ze(t,1,n,wt.min(),s,o,0)}static newNoDocument(t,n){return new Ze(t,2,n,wt.min(),wt.min(),kn.empty(),0)}static newUnknownDocument(t,n){return new Ze(t,3,n,wt.min(),wt.min(),kn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(wt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ze&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(t,n){this.position=t,this.inclusive=n}}function Gv(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=gt.comparator(gt.fromName(f.referenceValue),n.key):s=eo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Kv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Ti(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(t,n="asc"){this.field=t,this.dir=n}}function n2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{}class Te extends mT{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new r2(t,n,s):n==="array-contains"?new o2(t,s):n==="in"?new l2(t,s):n==="not-in"?new u2(t,s):n==="array-contains-any"?new c2(t,s):new Te(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new s2(t,s):new a2(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(eo(n,this.value)):n!==null&&Kr(this.value)===Kr(n)&&this.matchesComparison(eo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return At(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qn extends mT{constructor(t,n){super(),this.filters=t,this.op=n,this.he=null}static create(t,n){return new Qn(t,n)}matches(t){return gT(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function gT(r){return r.op==="and"}function pT(r){return i2(r)&&gT(r)}function i2(r){for(const t of r.filters)if(t instanceof Qn)return!1;return!0}function gm(r){if(r instanceof Te)return r.field.canonicalString()+r.op.toString()+no(r.value);if(pT(r))return r.filters.map(t=>gm(t)).join(",");{const t=r.filters.map(n=>gm(n)).join(",");return`${r.op}(${t})`}}function yT(r,t){return r instanceof Te?function(s,o){return o instanceof Te&&s.op===o.op&&s.field.isEqual(o.field)&&Ti(s.value,o.value)}(r,t):r instanceof Qn?function(s,o){return o instanceof Qn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&yT(f,o.filters[m]),!0):!1}(r,t):void At(19439)}function _T(r){return r instanceof Te?function(n){return`${n.field.canonicalString()} ${n.op} ${no(n.value)}`}(r):r instanceof Qn?function(n){return n.op.toString()+" {"+n.getFilters().map(_T).join(" ,")+"}"}(r):"Filter"}class r2 extends Te{constructor(t,n,s){super(t,n,s),this.key=gt.fromName(s.referenceValue)}matches(t){const n=gt.comparator(t.key,this.key);return this.matchesComparison(n)}}class s2 extends Te{constructor(t,n){super(t,"in",n),this.keys=vT("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class a2 extends Te{constructor(t,n){super(t,"not-in",n),this.keys=vT("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function vT(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>gt.fromName(s.referenceValue))}class o2 extends Te{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Xm(n)&&jl(n.arrayValue,this.value)}}class l2 extends Te{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&jl(this.value.arrayValue,n)}}class u2 extends Te{constructor(t,n){super(t,"not-in",n)}matches(t){if(jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!jl(this.value.arrayValue,n)}}class c2 extends Te{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Xm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>jl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(t,n=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Pe=null}}function Qv(r,t=null,n=[],s=[],o=null,u=null,f=null){return new h2(r,t,n,s,o,u,f)}function $m(r){const t=Rt(r);if(t.Pe===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>gm(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Eh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>no(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>no(s)).join(",")),t.Pe=n}return t.Pe}function Wm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!n2(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!yT(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Kv(r.startAt,t.startAt)&&Kv(r.endAt,t.endAt)}function pm(r){return gt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(t,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function f2(r,t,n,s,o,u,f,m){return new ho(r,t,n,s,o,u,f,m)}function ET(r){return new ho(r)}function Yv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function TT(r){return r.collectionGroup!==null}function Vl(r){const t=Rt(r);if(t.Te===null){t.Te=[];const n=new Set;for(const u of t.explicitOrderBy)t.Te.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ce(Fe.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(t).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||t.Te.push(new Hl(u,s))}),n.has(Fe.keyField().canonicalString())||t.Te.push(new Hl(Fe.keyField(),s))}return t.Te}function gi(r){const t=Rt(r);return t.Ie||(t.Ie=d2(t,Vl(r))),t.Ie}function d2(r,t){if(r.limitType==="F")return Qv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Hl(o.field,u)});const n=r.endAt?new nh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new nh(r.startAt.position,r.startAt.inclusive):null;return Qv(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function ym(r,t){const n=r.filters.concat([t]);return new ho(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function _m(r,t,n){return new ho(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Ah(r,t){return Wm(gi(r),gi(t))&&r.limitType===t.limitType}function AT(r){return`${$m(gi(r))}|lt:${r.limitType}`}function Fa(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>_T(o)).join(", ")}]`),Eh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>no(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>no(o)).join(",")),`Target(${s})`}(gi(r))}; limitType=${r.limitType})`}function Sh(r,t){return t.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):gt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,t)&&function(s,o){for(const u of Vl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,t)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,t)&&function(s,o){return!(s.startAt&&!function(f,m,p){const y=Gv(f,m,p);return f.inclusive?y<=0:y<0}(s.startAt,Vl(s),o)||s.endAt&&!function(f,m,p){const y=Gv(f,m,p);return f.inclusive?y>=0:y>0}(s.endAt,Vl(s),o))}(r,t)}function m2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function ST(r){return(t,n)=>{let s=!1;for(const o of Vl(r)){const u=g2(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function g2(r,t,n){const s=r.field.isKeyField()?gt.comparator(t.key,n.key):function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?eo(p,y):At(42886)}(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return At(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Ks(this.inner,(n,s)=>{for(const[o,u]of s)t(o,u)})}isEmpty(){return sT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2=new oe(gt.comparator);function tr(){return p2}const bT=new oe(gt.comparator);function Rl(...r){let t=bT;for(const n of r)t=t.insert(n.key,n);return t}function wT(r){let t=bT;return r.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function xs(){return Ml()}function RT(){return Ml()}function Ml(){return new Qs(r=>r.toString(),(r,t)=>r.isEqual(t))}const y2=new oe(gt.comparator),_2=new Ce(gt.comparator);function Pt(...r){let t=_2;for(const n of r)t=t.add(n);return t}const v2=new Ce(Dt);function E2(){return v2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jc(t)?"-0":t}}function IT(r){return{integerValue:""+r}}function T2(r,t){return YC(t)?IT(t):Zm(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(){this._=void 0}}function A2(r,t,n){return r instanceof ih?function(o,u){const f={fields:{[lT]:{stringValue:oT},[cT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Ym(u)&&(u=Th(u)),u&&(f.fields[uT]=u),{mapValue:f}}(n,t):r instanceof Fl?DT(r,t):r instanceof Gl?OT(r,t):function(o,u){const f=CT(o,u),m=Xv(f)+Xv(o.Ee);return mm(f)&&mm(o.Ee)?IT(m):Zm(o.serializer,m)}(r,t)}function S2(r,t,n){return r instanceof Fl?DT(r,t):r instanceof Gl?OT(r,t):n}function CT(r,t){return r instanceof rh?function(s){return mm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(t)?t:{integerValue:0}:null}class ih extends bh{}class Fl extends bh{constructor(t){super(),this.elements=t}}function DT(r,t){const n=NT(t);for(const s of r.elements)n.some(o=>Ti(o,s))||n.push(s);return{arrayValue:{values:n}}}class Gl extends bh{constructor(t){super(),this.elements=t}}function OT(r,t){let n=NT(t);for(const s of r.elements)n=n.filter(o=>!Ti(o,s));return{arrayValue:{values:n}}}class rh extends bh{constructor(t,n){super(),this.serializer=t,this.Ee=n}}function Xv(r){return ge(r.integerValue||r.doubleValue)}function NT(r){return Xm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function b2(r,t){return r.field.isEqual(t.field)&&function(s,o){return s instanceof Fl&&o instanceof Fl||s instanceof Gl&&o instanceof Gl?to(s.elements,o.elements,Ti):s instanceof rh&&o instanceof rh?Ti(s.Ee,o.Ee):s instanceof ih&&o instanceof ih}(r.transform,t.transform)}class w2{constructor(t,n){this.version=t,this.transformResults=n}}class pi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new pi}static exists(t){return new pi(void 0,t)}static updateTime(t){return new pi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Bc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class wh{}function VT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Jm(r.key,pi.none()):new Zl(r.key,r.data,pi.none());{const n=r.data,s=kn.empty();let o=new Ce(Fe.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Ys(r.key,s,new Fn(o.toArray()),pi.none())}}function R2(r,t,n){r instanceof Zl?function(o,u,f){const m=o.value.clone(),p=Wv(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,t,n):r instanceof Ys?function(o,u,f){if(!Bc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=Wv(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(MT(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,t,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function kl(r,t,n,s){return r instanceof Zl?function(u,f,m,p){if(!Bc(u.precondition,f))return m;const y=u.value.clone(),T=Zv(u.fieldTransforms,p,f);return y.setAll(T),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(r,t,n,s):r instanceof Ys?function(u,f,m,p){if(!Bc(u.precondition,f))return m;const y=Zv(u.fieldTransforms,p,f),T=f.data;return T.setAll(MT(u)),T.setAll(y),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(R=>R.field))}(r,t,n,s):function(u,f,m){return Bc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,t,n)}function I2(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=CT(s.transform,o||null);u!=null&&(n===null&&(n=kn.empty()),n.set(s.field,u))}return n||null}function $v(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&to(s,o,(u,f)=>b2(u,f))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Zl extends wh{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ys extends wh{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function MT(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}}),t}function Wv(r,t,n){const s=new Map;Ft(r.length===n.length,32656,{Ae:n.length,Re:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,S2(f,m,n[o]))}return s}function Zv(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,A2(u,f,t))}return s}class Jm extends wh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class C2 extends wh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&R2(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=kl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=kl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=RT();return this.mutations.forEach(o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=VT(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(wt.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Pt())}isEqual(t){return this.batchId===t.batchId&&to(this.mutations,t.mutations,(n,s)=>$v(n,s))&&to(this.baseMutations,t.baseMutations,(n,s)=>$v(n,s))}}class tg{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Ft(t.mutations.length===s.length,58842,{Ve:t.mutations.length,me:s.length});let o=function(){return y2}();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new tg(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee,zt;function V2(r){switch(r){case $.OK:return At(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return At(15467,{code:r})}}function kT(r){if(r===void 0)return Ji("GRPC error has no .code"),$.UNKNOWN;switch(r){case Ee.OK:return $.OK;case Ee.CANCELLED:return $.CANCELLED;case Ee.UNKNOWN:return $.UNKNOWN;case Ee.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Ee.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Ee.INTERNAL:return $.INTERNAL;case Ee.UNAVAILABLE:return $.UNAVAILABLE;case Ee.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Ee.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Ee.NOT_FOUND:return $.NOT_FOUND;case Ee.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Ee.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Ee.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Ee.ABORTED:return $.ABORTED;case Ee.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Ee.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Ee.DATA_LOSS:return $.DATA_LOSS;default:return At(39323,{code:r})}}(zt=Ee||(Ee={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2=new Lr([4294967295,4294967295],0);function Jv(r){const t=eT().encode(r),n=new Q0;return n.update(t),new Uint8Array(n.digest())}function tE(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Lr([n,s],0),new Lr([o,u],0)]}class eg{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Il(`Invalid padding: ${n}`);if(s<0)throw new Il(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Il(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Il(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*t.length-n,this.ge=Lr.fromNumber(this.fe)}pe(t,n,s){let o=t.add(n.multiply(Lr.fromNumber(s)));return o.compare(M2)===1&&(o=new Lr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.fe===0)return!1;const n=Jv(t),[s,o]=tE(n);for(let u=0;u<this.hashCount;u++){const f=this.pe(s,o,u);if(!this.ye(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new eg(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(t){if(this.fe===0)return;const n=Jv(t),[s,o]=tE(n);for(let u=0;u<this.hashCount;u++){const f=this.pe(s,o,u);this.we(f)}}we(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Il extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,Jl.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Rh(wt.min(),o,new oe(Dt),tr(),Pt())}}class Jl{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Jl(s,n,Pt(),Pt(),Pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(t,n,s,o){this.Se=t,this.removedTargetIds=n,this.key=s,this.be=o}}class PT{constructor(t,n){this.targetId=t,this.De=n}}class xT{constructor(t,n,s=Ke.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class eE{constructor(){this.ve=0,this.Ce=nE(),this.Fe=Ke.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(t){t.approximateByteSize()>0&&(this.xe=!0,this.Fe=t)}Le(){let t=Pt(),n=Pt(),s=Pt();return this.Ce.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:At(38017,{changeType:u})}}),new Jl(this.Fe,this.Me,t,n,s)}ke(){this.xe=!1,this.Ce=nE()}qe(t,n){this.xe=!0,this.Ce=this.Ce.insert(t,n)}Qe(t){this.xe=!0,this.Ce=this.Ce.remove(t)}$e(){this.ve+=1}Ue(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class k2{constructor(t){this.We=t,this.Ge=new Map,this.ze=tr(),this.je=Oc(),this.Je=Oc(),this.He=new oe(Dt)}Ye(t){for(const n of t.Se)t.be&&t.be.isFoundDocument()?this.Ze(n,t.be):this.Xe(n,t.key,t.be);for(const n of t.removedTargetIds)this.Xe(n,t.key,t.be)}et(t){this.forEachTarget(t,n=>{const s=this.tt(n);switch(t.state){case 0:this.nt(n)&&s.Be(t.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(t.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(s.Ke(),s.Be(t.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),s.Be(t.resumeToken));break;default:At(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Ge.forEach((s,o)=>{this.nt(o)&&n(o)})}it(t){const n=t.targetId,s=t.De.count,o=this.st(n);if(o){const u=o.target;if(pm(u))if(s===0){const f=new gt(u.path);this.Xe(n,f,Ze.newNoDocument(f,wt.min()))}else Ft(s===1,20013,{expectedCount:s});else{const f=this.ot(n);if(f!==s){const m=this._t(t),p=m?this.ut(m,t,f):1;if(p!==0){this.rt(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,y)}}}}}_t(t){const n=t.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Gr(s).toUint8Array()}catch(p){if(p instanceof aT)return jr("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new eg(f,o,u)}catch(p){return jr(p instanceof Il?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.fe===0?null:m}ut(t,n,s){return n.De.count===s-this.ht(t,n.targetId)?0:2}ht(t,n){const s=this.We.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.We.lt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.Xe(n,u,null),o++)}),o}Pt(t){const n=new Map;this.Ge.forEach((u,f)=>{const m=this.st(f);if(m){if(u.current&&pm(m.target)){const p=new gt(m.target.path);this.Tt(p).has(f)||this.It(f,p)||this.Xe(f,p,Ze.newNoDocument(p,t))}u.Ne&&(n.set(f,u.Le()),u.ke())}});let s=Pt();this.Je.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const y=this.st(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.ze.forEach((u,f)=>f.setReadTime(t));const o=new Rh(t,n,this.He,this.ze,s);return this.ze=tr(),this.je=Oc(),this.Je=Oc(),this.He=new oe(Dt),o}Ze(t,n){if(!this.nt(t))return;const s=this.It(t,n.key)?2:0;this.tt(t).qe(n.key,s),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(t)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(t))}Xe(t,n,s){if(!this.nt(t))return;const o=this.tt(t);this.It(t,n)?o.qe(n,1):o.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(t)),this.Je=this.Je.insert(n,this.dt(n).add(t)),s&&(this.ze=this.ze.insert(n,s))}removeTarget(t){this.Ge.delete(t)}ot(t){const n=this.tt(t).Le();return this.We.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.tt(t).$e()}tt(t){let n=this.Ge.get(t);return n||(n=new eE,this.Ge.set(t,n)),n}dt(t){let n=this.Je.get(t);return n||(n=new Ce(Dt),this.Je=this.Je.insert(t,n)),n}Tt(t){let n=this.je.get(t);return n||(n=new Ce(Dt),this.je=this.je.insert(t,n)),n}nt(t){const n=this.st(t)!==null;return n||lt("WatchChangeAggregator","Detected inactive target",t),n}st(t){const n=this.Ge.get(t);return n&&n.Oe?null:this.We.Et(t)}rt(t){this.Ge.set(t,new eE),this.We.getRemoteKeysForTarget(t).forEach(n=>{this.Xe(t,n,null)})}It(t,n){return this.We.getRemoteKeysForTarget(t).has(n)}}function Oc(){return new oe(gt.comparator)}function nE(){return new oe(gt.comparator)}const P2={asc:"ASCENDING",desc:"DESCENDING"},x2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},U2={and:"AND",or:"OR"};class L2{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function vm(r,t){return r.useProto3Json||Eh(t)?t:{value:t}}function sh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function UT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function z2(r,t){return sh(r,t.toTimestamp())}function yi(r){return Ft(!!r,49232),wt.fromTimestamp(function(n){const s=Fr(n);return new ie(s.seconds,s.nanos)}(r))}function ng(r,t){return Em(r,t).canonicalString()}function Em(r,t){const n=function(o){return new ne(["projects",o.projectId,"databases",o.database])}(r).child("documents");return t===void 0?n:n.child(t)}function LT(r){const t=ne.fromString(r);return Ft(HT(t),10190,{key:t.toString()}),t}function Tm(r,t){return ng(r.databaseId,t.path)}function Wd(r,t){const n=LT(t);if(n.get(1)!==r.databaseId.projectId)throw new ot($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ot($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new gt(BT(n))}function zT(r,t){return ng(r.databaseId,t)}function B2(r){const t=LT(r);return t.length===4?ne.emptyPath():BT(t)}function Am(r){return new ne(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function BT(r){return Ft(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function iE(r,t,n){return{name:Tm(r,t),fields:n.value.mapValue.fields}}function q2(r,t){let n;if("targetChange"in t){t.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:At(39313,{state:y})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(y,T){return y.useProto3Json?(Ft(T===void 0||typeof T=="string",58123),Ke.fromBase64String(T||"")):(Ft(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Ke.fromUint8Array(T||new Uint8Array))}(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&function(y){const T=y.code===void 0?$.UNKNOWN:kT(y.code);return new ot(T,y.message||"")}(f);n=new xT(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Wd(r,s.document.name),u=yi(s.document.updateTime),f=s.document.createTime?yi(s.document.createTime):wt.min(),m=new kn({mapValue:{fields:s.document.fields}}),p=Ze.newFoundDocument(o,u,f,m),y=s.targetIds||[],T=s.removedTargetIds||[];n=new qc(y,T,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Wd(r,s.document),u=s.readTime?yi(s.readTime):wt.min(),f=Ze.newNoDocument(o,u),m=s.removedTargetIds||[];n=new qc([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Wd(r,s.document),u=s.removedTargetIds||[];n=new qc([],u,o,null)}else{if(!("filter"in t))return At(11601,{At:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new N2(o,u),m=s.targetId;n=new PT(m,f)}}return n}function j2(r,t){let n;if(t instanceof Zl)n={update:iE(r,t.key,t.value)};else if(t instanceof Jm)n={delete:Tm(r,t.key)};else if(t instanceof Ys)n={update:iE(r,t.key,t.data),updateMask:W2(t.fieldMask)};else{if(!(t instanceof C2))return At(16599,{Rt:t.type});n={verify:Tm(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof ih)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Fl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Gl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof rh)return{fieldPath:f.field.canonicalString(),increment:m.Ee};throw At(20930,{transform:f.transform})}(0,s))),t.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:z2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:At(27497)}(r,t.precondition)),n}function H2(r,t){return r&&r.length>0?(Ft(t!==void 0,14353),r.map(n=>function(o,u){let f=o.updateTime?yi(o.updateTime):yi(u);return f.isEqual(wt.min())&&(f=yi(u)),new w2(f,o.transformResults||[])}(n,t))):[]}function F2(r,t){return{documents:[zT(r,t.path)]}}function G2(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=zT(r,o);const u=function(y){if(y.length!==0)return jT(Qn.create(y,"and"))}(t.filters);u&&(n.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(T=>function(C){return{field:Ga(C.field),direction:Y2(C.dir)}}(T))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=vm(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(t.endAt)),{Vt:n,parent:o}}function K2(r){let t=B2(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ft(s===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:t=t.child(T.collectionId)}let u=[];n.where&&(u=function(R){const C=qT(R);return C instanceof Qn&&pT(C)?C.getFilters():[C]}(n.where));let f=[];n.orderBy&&(f=function(R){return R.map(C=>function(X){return new Hl(Ka(X.field),function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(X.direction))}(C))}(n.orderBy));let m=null;n.limit&&(m=function(R){let C;return C=typeof R=="object"?R.value:R,Eh(C)?null:C}(n.limit));let p=null;n.startAt&&(p=function(R){const C=!!R.before,z=R.values||[];return new nh(z,C)}(n.startAt));let y=null;return n.endAt&&(y=function(R){const C=!R.before,z=R.values||[];return new nh(z,C)}(n.endAt)),f2(t,o,f,u,m,"F",p,y)}function Q2(r,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return At(28987,{purpose:o})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function qT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ka(n.unaryFilter.field);return Te.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ka(n.unaryFilter.field);return Te.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ka(n.unaryFilter.field);return Te.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ka(n.unaryFilter.field);return Te.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return At(61313);default:return At(60726)}}(r):r.fieldFilter!==void 0?function(n){return Te.create(Ka(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return At(58110);default:return At(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Qn.create(n.compositeFilter.filters.map(s=>qT(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return At(1026)}}(n.compositeFilter.op))}(r):At(30097,{filter:r})}function Y2(r){return P2[r]}function X2(r){return x2[r]}function $2(r){return U2[r]}function Ga(r){return{fieldPath:r.canonicalString()}}function Ka(r){return Fe.fromServerFormat(r.fieldPath)}function jT(r){return r instanceof Te?function(n){if(n.op==="=="){if(Fv(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NAN"}};if(Hv(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Fv(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NOT_NAN"}};if(Hv(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ga(n.field),op:X2(n.op),value:n.value}}}(r):r instanceof Qn?function(n){const s=n.getFilters().map(o=>jT(o));return s.length===1?s[0]:{compositeFilter:{op:$2(n.op),filters:s}}}(r):At(54877,{filter:r})}function W2(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function HT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(t,n,s,o,u=wt.min(),f=wt.min(),m=Ke.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new Pr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Pr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(t){this.gt=t}}function J2(r){const t=K2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?_m(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(){this.Dn=new eD}addToCollectionParentIndex(t,n){return this.Dn.add(n),Z.resolve()}getCollectionParents(t,n){return Z.resolve(this.Dn.getEntries(n))}addFieldIndex(t,n){return Z.resolve()}deleteFieldIndex(t,n){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,n){return Z.resolve()}getDocumentsMatchingTarget(t,n){return Z.resolve(null)}getIndexType(t,n){return Z.resolve(0)}getFieldIndexes(t,n){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,n){return Z.resolve(Hr.min())}getMinOffsetFromCollectionGroup(t,n){return Z.resolve(Hr.min())}updateCollectionGroup(t,n,s){return Z.resolve()}updateIndexEntries(t,n){return Z.resolve()}}class eD{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Ce(ne.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Ce(ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},FT=41943040;class ln{static withCacheSize(t){return new ln(t,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(FT,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(t){this._r=t}next(){return this._r+=2,this._r}static ar(){return new io(0)}static ur(){return new io(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="LruGarbageCollector",nD=1048576;function aE([r,t],[n,s]){const o=Dt(r,n);return o===0?Dt(t,s):o}class iD{constructor(t){this.Tr=t,this.buffer=new Ce(aE),this.Ir=0}dr(){return++this.Ir}Er(t){const n=[t,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();aE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class rD{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(t){lt(sE,`Garbage collection scheduled in ${t}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){co(n)?lt(sE,"Ignoring IndexedDB error during garbage collection: ",n):await uo(n)}await this.Rr(3e5)})}}class sD{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.mr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return Z.resolve(vh.ue);const s=new iD(n);return this.Vr.forEachTarget(t,o=>s.Er(o.sequenceNumber)).next(()=>this.Vr.gr(t,o=>s.Er(o))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.Vr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(rE)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rE):this.pr(t,n))}getCacheSize(t){return this.Vr.getCacheSize(t)}pr(t,n){let s,o,u,f,m,p,y;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),o=this.params.maximumSequenceNumbersToCollect):o=R,f=Date.now(),this.nthSequenceNumber(t,o))).next(R=>(s=R,m=Date.now(),this.removeTargets(t,s,n))).next(R=>(u=R,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(R=>(y=Date.now(),Ha()<=kt.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${R} documents in `+(y-p)+`ms
Total Duration: ${y-T}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:R})))}}function aD(r,t){return new sD(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(){this.changes=new Qs(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Ze.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Z.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(s!==null&&kl(s.mutation,o,Fn.empty(),ie.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,Pt()).next(()=>s))}getLocalViewOfDocuments(t,n,s=Pt()){const o=xs();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,s).next(u=>{let f=Rl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const s=xs();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,Pt()))}populateOverlays(t,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(t,n,s,o){let u=tr();const f=Ml(),m=function(){return Ml()}();return n.forEach((p,y)=>{const T=s.get(y.key);o.has(y.key)&&(T===void 0||T.mutation instanceof Ys)?u=u.insert(y.key,y):T!==void 0?(f.set(y.key,T.mutation.getFieldMask()),kl(T.mutation,y,T.mutation.getFieldMask(),ie.now())):f.set(y.key,Fn.empty())}),this.recalculateAndSaveOverlays(t,u).next(p=>(p.forEach((y,T)=>f.set(y,T)),n.forEach((y,T)=>{var R;return m.set(y,new lD(T,(R=f.get(y))!==null&&R!==void 0?R:null))}),m))}recalculateAndSaveOverlays(t,n){const s=Ml();let o=new oe((f,m)=>f-m),u=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const y=n.get(p);if(y===null)return;let T=s.get(p)||Fn.empty();T=m.applyToLocalView(y,T),s.set(p,T);const R=(o.get(m.batchId)||Pt()).add(p);o=o.insert(m.batchId,R)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,T=p.value,R=RT();T.forEach(C=>{if(!u.has(C)){const z=VT(n.get(C),s.get(C));z!==null&&R.set(C,z),u=u.add(C)}}),f.push(this.documentOverlayCache.saveOverlays(t,y,R))}return Z.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,o){return function(f){return gt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):TT(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):Z.resolve(xs());let m=zl,p=u;return f.next(y=>Z.forEach(y,(T,R)=>(m<R.largestBatchId&&(m=R.largestBatchId),u.get(T)?Z.resolve():this.remoteDocumentCache.getEntry(t,T).next(C=>{p=p.insert(T,C)}))).next(()=>this.populateOverlays(t,y,u)).next(()=>this.computeViews(t,p,y,Pt())).next(T=>({batchId:m,changes:wT(T)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new gt(n)).next(s=>{let o=Rl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=Rl();return this.indexManager.getCollectionParents(t,u).next(m=>Z.forEach(m,p=>{const y=function(R,C){return new ho(C,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,s,o).next(T=>{T.forEach((R,C)=>{f=f.insert(R,C)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o))).next(f=>{u.forEach((p,y)=>{const T=y.getKey();f.get(T)===null&&(f=f.insert(T,Ze.newInvalidDocument(T)))});let m=Rl();return f.forEach((p,y)=>{const T=u.get(p);T!==void 0&&kl(T.mutation,y,Fn.empty(),ie.now()),Sh(n,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(t){this.serializer=t,this.Br=new Map,this.Lr=new Map}getBundleMetadata(t,n){return Z.resolve(this.Br.get(n))}saveBundleMetadata(t,n){return this.Br.set(n.id,function(o){return{id:o.id,version:o.version,createTime:yi(o.createTime)}}(n)),Z.resolve()}getNamedQuery(t,n){return Z.resolve(this.Lr.get(n))}saveNamedQuery(t,n){return this.Lr.set(n.name,function(o){return{name:o.name,query:J2(o.bundledQuery),readTime:yi(o.readTime)}}(n)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(){this.overlays=new oe(gt.comparator),this.kr=new Map}getOverlay(t,n){return Z.resolve(this.overlays.get(n))}getOverlays(t,n){const s=xs();return Z.forEach(n,o=>this.getOverlay(t,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((o,u)=>{this.wt(t,n,u)}),Z.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.kr.delete(s)),Z.resolve()}getOverlaysForCollection(t,n,s){const o=xs(),u=n.length+1,f=new gt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return Z.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new oe((y,T)=>y-T);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let T=u.get(y.largestBatchId);T===null&&(T=xs(),u=u.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const m=xs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,T)=>m.set(y,T)),!(m.size()>=o)););return Z.resolve(m)}wt(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new O2(n,s));let u=this.kr.get(n);u===void 0&&(u=Pt(),this.kr.set(n,u)),this.kr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(){this.qr=new Ce(Pe.Qr),this.$r=new Ce(Pe.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(t,n){const s=new Pe(t,n);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.Wr(new Pe(t,n))}Gr(t,n){t.forEach(s=>this.removeReference(s,n))}zr(t){const n=new gt(new ne([])),s=new Pe(n,t),o=new Pe(n,t+1),u=[];return this.$r.forEachInRange([s,o],f=>{this.Wr(f),u.push(f.key)}),u}jr(){this.qr.forEach(t=>this.Wr(t))}Wr(t){this.qr=this.qr.delete(t),this.$r=this.$r.delete(t)}Jr(t){const n=new gt(new ne([])),s=new Pe(n,t),o=new Pe(n,t+1);let u=Pt();return this.$r.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(t){const n=new Pe(t,0),s=this.qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Pe{constructor(t,n){this.key=t,this.Hr=n}static Qr(t,n){return gt.comparator(t.key,n.key)||Dt(t.Hr,n.Hr)}static Ur(t,n){return Dt(t.Hr,n.Hr)||gt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Ce(Pe.Qr)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new D2(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Yr=this.Yr.add(new Pe(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return Z.resolve(f)}lookupMutationBatch(t,n){return Z.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Qm:this.er-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Pe(n,0),o=new Pe(n,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([s,o],f=>{const m=this.Zr(f.Hr);u.push(m)}),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Ce(Dt);return n.forEach(o=>{const u=new Pe(o,0),f=new Pe(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,f],m=>{s=s.add(m.Hr)})}),Z.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;gt.isDocumentKey(u)||(u=u.child(""));const f=new Pe(new gt(u),0);let m=new Ce(Dt);return this.Yr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Hr)),!0)},f),Z.resolve(this.ei(m))}ei(t){const n=[];return t.forEach(s=>{const o=this.Zr(s);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){Ft(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return Z.forEach(n.mutations,o=>{const u=new Pe(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Yr=s})}rr(t){}containsKey(t,n){const s=new Pe(n,0),o=this.Yr.firstAfterOrEqual(s);return Z.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}ti(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(t){this.ni=t,this.docs=function(){return new oe(gt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ni(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return Z.resolve(s?s.document.mutableCopy():Ze.newInvalidDocument(n))}getEntries(t,n){let s=tr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Ze.newInvalidDocument(o))}),Z.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=tr();const f=n.path,m=new gt(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:T}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||FC(HC(T),s)<=0||(o.has(T.key)||Sh(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(t,n,s,o){At(9500)}ri(t,n){return Z.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new gD(this)}getSize(t){return Z.resolve(this.size)}}class gD extends oD{constructor(t){super(),this.Or=t}applyChanges(t){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Or.addEntry(t,o)):this.Or.removeEntry(s)}),Z.waitFor(n)}getFromCache(t,n){return this.Or.getEntry(t,n)}getAllFromCache(t,n){return this.Or.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(t){this.persistence=t,this.ii=new Qs(n=>$m(n),Wm),this.lastRemoteSnapshotVersion=wt.min(),this.highestTargetId=0,this.si=0,this.oi=new ig,this.targetCount=0,this._i=io.ar()}forEachTarget(t,n){return this.ii.forEach((s,o)=>n(o)),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.si)}allocateTargetId(t){return this.highestTargetId=this._i.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.si&&(this.si=n),Z.resolve()}hr(t){this.ii.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this._i=new io(n),this.highestTargetId=n),t.sequenceNumber>this.si&&(this.si=t.sequenceNumber)}addTargetData(t,n){return this.hr(n),this.targetCount+=1,Z.resolve()}updateTargetData(t,n){return this.hr(n),Z.resolve()}removeTargetData(t,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.ii.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ii.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)}),Z.waitFor(u).next(()=>o)}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,n){const s=this.ii.get(n)||null;return Z.resolve(s)}addMatchingKeys(t,n,s){return this.oi.Kr(n,s),Z.resolve()}removeMatchingKeys(t,n,s){this.oi.Gr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(t,f))}),Z.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.oi.zr(n),Z.resolve()}getMatchingKeysForTargetId(t,n){const s=this.oi.Jr(n);return Z.resolve(s)}containsKey(t,n){return Z.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(t,n){this.ai={},this.overlays={},this.ui=new vh(0),this.ci=!1,this.ci=!0,this.li=new fD,this.referenceDelegate=t(this),this.hi=new pD(this),this.indexManager=new tD,this.remoteDocumentCache=function(o){return new mD(o)}(s=>this.referenceDelegate.Pi(s)),this.serializer=new Z2(n),this.Ti=new cD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new hD,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ai[t.toKey()];return s||(s=new dD(n,this.referenceDelegate),this.ai[t.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(t,n,s){lt("MemoryPersistence","Starting transaction:",t);const o=new yD(this.ui.next());return this.referenceDelegate.Ii(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ei(t,n){return Z.or(Object.values(this.ai).map(s=>()=>s.containsKey(t,n)))}}class yD extends KC{constructor(t){super(),this.currentSequenceNumber=t}}class rg{constructor(t){this.persistence=t,this.Ai=new ig,this.Ri=null}static Vi(t){return new rg(t)}get mi(){if(this.Ri)return this.Ri;throw At(60996)}addReference(t,n,s){return this.Ai.addReference(s,n),this.mi.delete(s.toString()),Z.resolve()}removeReference(t,n,s){return this.Ai.removeReference(s,n),this.mi.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(t,n){return this.mi.add(n.toString()),Z.resolve()}removeTarget(t,n){this.Ai.zr(n.targetId).forEach(o=>this.mi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(u=>this.mi.add(u.toString()))}).next(()=>s.removeTargetData(t,n))}Ii(){this.Ri=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.mi,s=>{const o=gt.fromPath(s);return this.fi(t,o).next(u=>{u||n.removeEntry(o,wt.min())})}).next(()=>(this.Ri=null,n.apply(t)))}updateLimboDocument(t,n){return this.fi(t,n).next(s=>{s?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(t){return 0}fi(t,n){return Z.or([()=>Z.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class ah{constructor(t,n){this.persistence=t,this.gi=new Qs(s=>XC(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=aD(this,n)}static Vi(t,n){return new ah(t,n)}Ii(){}di(t){return Z.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}mr(t){const n=this.yr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(o=>s+o))}yr(t){let n=0;return this.gr(t,s=>{n++}).next(()=>n)}gr(t,n){return Z.forEach(this.gi,(s,o)=>this.Sr(t,s,o).next(u=>u?Z.resolve():n(o)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(t,f=>this.Sr(t,f,n).next(m=>{m||(s++,u.removeEntry(f,wt.min()))})).next(()=>u.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.gi.set(n,t.currentSequenceNumber),Z.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.gi.set(s,t.currentSequenceNumber),Z.resolve()}removeReference(t,n,s){return this.gi.set(s,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,n){return this.gi.set(n,t.currentSequenceNumber),Z.resolve()}Pi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Lc(t.data.value)),n}Sr(t,n,s){return Z.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.gi.get(n);return Z.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Is=s,this.ds=o}static Es(t,n){let s=Pt(),o=Pt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new sg(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return Ob()?8:QC(Je())>0?6:4}()}initialize(t,n){this.gs=t,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ps(t,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ys(t,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new _D;return this.ws(t,n,f).next(m=>{if(u.result=m,this.Rs)return this.Ss(t,n,f,m.size)})}).next(()=>u.result)}Ss(t,n,s,o){return s.documentReadCount<this.Vs?(Ha()<=kt.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",Fa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Z.resolve()):(Ha()<=kt.DEBUG&&lt("QueryEngine","Query:",Fa(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(Ha()<=kt.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",Fa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,gi(n))):Z.resolve())}ps(t,n){if(Yv(n))return Z.resolve(null);let s=gi(n);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=_m(n,null,"F"),s=gi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(u=>{const f=Pt(...u);return this.gs.getDocuments(t,f).next(m=>this.indexManager.getMinOffset(t,s).next(p=>{const y=this.bs(n,m);return this.Ds(n,y,f,p.readTime)?this.ps(t,_m(n,null,"F")):this.vs(t,y,n,p)}))})))}ys(t,n,s,o){return Yv(n)||o.isEqual(wt.min())?Z.resolve(null):this.gs.getDocuments(t,s).next(u=>{const f=this.bs(n,u);return this.Ds(n,f,s,o)?Z.resolve(null):(Ha()<=kt.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Fa(n)),this.vs(t,f,n,jC(o,zl)).next(m=>m))})}bs(t,n){let s=new Ce(ST(t));return n.forEach((o,u)=>{Sh(t,u)&&(s=s.add(u))}),s}Ds(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(t,n,s){return Ha()<=kt.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",Fa(n)),this.gs.getDocumentsMatchingQuery(t,n,Hr.min(),s)}vs(t,n,s,o){return this.gs.getDocumentsMatchingQuery(t,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag="LocalStore",ED=3e8;class TD{constructor(t,n,s,o){this.persistence=t,this.Cs=n,this.serializer=o,this.Fs=new oe(Dt),this.Ms=new Qs(u=>$m(u),Wm),this.xs=new Map,this.Os=t.getRemoteDocumentCache(),this.hi=t.getTargetCache(),this.Ti=t.getBundleCache(),this.Ns(s)}Ns(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new uD(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Fs))}}function AD(r,t,n,s){return new TD(r,t,n,s)}async function KT(r,t){const n=Rt(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Ns(t),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Pt();for(const y of o){f.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}for(const y of u){m.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(s,p).next(y=>({Bs:y,removedBatchIds:f,addedBatchIds:m}))})})}function SD(r,t){const n=Rt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),u=n.Os.newChangeBuffer({trackRemovals:!0});return function(m,p,y,T){const R=y.batch,C=R.keys();let z=Z.resolve();return C.forEach(X=>{z=z.next(()=>T.getEntry(p,X)).next(tt=>{const K=y.docVersions.get(X);Ft(K!==null,48541),tt.version.compareTo(K)<0&&(R.applyToRemoteDocument(tt,y),tt.isValidDocument()&&(tt.setReadTime(y.commitVersion),T.addEntry(tt)))})}),z.next(()=>m.mutationQueue.removeMutationBatch(p,R))}(n,s,t,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Pt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(t))).next(()=>n.localDocuments.getDocuments(s,o))})}function QT(r){const t=Rt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.hi.getLastRemoteSnapshotVersion(n))}function bD(r,t){const n=Rt(r),s=t.snapshotVersion;let o=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Os.newChangeBuffer({trackRemovals:!0});o=n.Fs;const m=[];t.targetChanges.forEach((T,R)=>{const C=o.get(R);if(!C)return;m.push(n.hi.removeMatchingKeys(u,T.removedDocuments,R).next(()=>n.hi.addMatchingKeys(u,T.addedDocuments,R)));let z=C.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(R)!==null?z=z.withResumeToken(Ke.EMPTY_BYTE_STRING,wt.min()).withLastLimboFreeSnapshotVersion(wt.min()):T.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(T.resumeToken,s)),o=o.insert(R,z),function(tt,K,pt){return tt.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=ED?!0:pt.addedDocuments.size+pt.modifiedDocuments.size+pt.removedDocuments.size>0}(C,z,T)&&m.push(n.hi.updateTargetData(u,z))});let p=tr(),y=Pt();if(t.documentUpdates.forEach(T=>{t.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))}),m.push(wD(u,f,t.documentUpdates).next(T=>{p=T.Ls,y=T.ks})),!s.isEqual(wt.min())){const T=n.hi.getLastRemoteSnapshotVersion(u).next(R=>n.hi.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(T)}return Z.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,y)).next(()=>p)}).then(u=>(n.Fs=o,u))}function wD(r,t,n){let s=Pt(),o=Pt();return n.forEach(u=>s=s.add(u)),t.getEntries(r,s).next(u=>{let f=tr();return n.forEach((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(wt.min())?(t.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(p),f=f.insert(m,p)):lt(ag,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{Ls:f,ks:o}})}function RD(r,t){const n=Rt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=Qm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function ID(r,t){const n=Rt(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.hi.getTargetData(s,t).next(u=>u?(o=u,Z.resolve(o)):n.hi.allocateTargetId(s).next(f=>(o=new Pr(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.hi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(s.targetId,s),n.Ms.set(t,s.targetId)),s})}async function Sm(r,t,n){const s=Rt(r),o=s.Fs.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!co(f))throw f;lt(ag,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Fs=s.Fs.remove(t),s.Ms.delete(o.target)}function oE(r,t,n){const s=Rt(r);let o=wt.min(),u=Pt();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,y,T){const R=Rt(p),C=R.Ms.get(T);return C!==void 0?Z.resolve(R.Fs.get(C)):R.hi.getTargetData(y,T)}(s,f,gi(t)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Cs.getDocumentsMatchingQuery(f,t,n?o:wt.min(),n?u:Pt())).next(m=>(CD(s,m2(t),m),{documents:m,qs:u})))}function CD(r,t,n){let s=r.xs.get(t)||wt.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.xs.set(t,s)}class lE{constructor(){this.activeTargetIds=E2()}Gs(t){this.activeTargetIds=this.activeTargetIds.add(t)}zs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class DD{constructor(){this.Fo=new lE,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Fo.Gs(t),this.Mo[t]||"not-current"}updateQueryState(t,n,s){this.Mo[t]=n}removeLocalQueryTarget(t){this.Fo.zs(t)}isLocalQueryTarget(t){return this.Fo.activeTargetIds.has(t)}clearQueryState(t){delete this.Mo[t]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(t){return this.Fo.activeTargetIds.has(t)}start(){return this.Fo=new lE,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{xo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="ConnectivityMonitor";class cE{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(t){this.ko.push(t)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){lt(uE,"Network connectivity changed: AVAILABLE");for(const t of this.ko)t(0)}Lo(){lt(uE,"Network connectivity changed: UNAVAILABLE");for(const t of this.ko)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nc=null;function bm(){return Nc===null?Nc=function(){return 268435456+Math.round(2147483648*Math.random())}():Nc++,"0x"+Nc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd="RestConnection",ND={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class VD{get Qo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+t.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===th?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(t,n,s,o,u){const f=bm(),m=this.Go(t,n.toUriEncodedString());lt(Zd,`Sending RPC '${t}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,o,u);const{host:y}=new URL(m),T=so(y);return this.jo(t,m,p,s,T).then(R=>(lt(Zd,`Received RPC '${t}' ${f}: `,R),R),R=>{throw jr(Zd,`RPC '${t}' ${f} failed with error: `,R,"url: ",m,"request:",s),R})}Jo(t,n,s,o,u,f){return this.Wo(t,n,s,o,u)}zo(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+lo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>t[u]=o),s&&s.headers.forEach((o,u)=>t[u]=o)}Go(t,n){const s=ND[t];return`${this.$o}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(t){this.Ho=t.Ho,this.Yo=t.Yo}Zo(t){this.Xo=t}e_(t){this.t_=t}n_(t){this.r_=t}onMessage(t){this.i_=t}close(){this.Yo()}send(t){this.Ho(t)}s_(){this.Xo()}o_(){this.t_()}__(t){this.r_(t)}a_(t){this.i_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $e="WebChannelConnection";class kD extends VD{constructor(t){super(t),this.u_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}jo(t,n,s,o,u){const f=bm();return new Promise((m,p)=>{const y=new Y0;y.setWithCredentials(!0),y.listenOnce(X0.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Uc.NO_ERROR:const R=y.getResponseJson();lt($e,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(R)),m(R);break;case Uc.TIMEOUT:lt($e,`RPC '${t}' ${f} timed out`),p(new ot($.DEADLINE_EXCEEDED,"Request time out"));break;case Uc.HTTP_ERROR:const C=y.getStatus();if(lt($e,`RPC '${t}' ${f} failed with status:`,C,"response text:",y.getResponseText()),C>0){let z=y.getResponseJson();Array.isArray(z)&&(z=z[0]);const X=z?.error;if(X&&X.status&&X.message){const tt=function(pt){const ht=pt.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(ht)>=0?ht:$.UNKNOWN}(X.status);p(new ot(tt,X.message))}else p(new ot($.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new ot($.UNAVAILABLE,"Connection failed."));break;default:At(9055,{c_:t,streamId:f,l_:y.getLastErrorCode(),h_:y.getLastError()})}}finally{lt($e,`RPC '${t}' ${f} completed.`)}});const T=JSON.stringify(o);lt($e,`RPC '${t}' ${f} sending request:`,o),y.send(n,"POST",T,s,15)})}P_(t,n,s){const o=bm(),u=[this.$o,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=Z0(),m=W0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const T=u.join("");lt($e,`Creating RPC '${t}' stream ${o}: ${T}`,p);const R=f.createWebChannel(T,p);this.T_(R);let C=!1,z=!1;const X=new MD({Ho:K=>{z?lt($e,`Not sending because RPC '${t}' stream ${o} is closed:`,K):(C||(lt($e,`Opening RPC '${t}' stream ${o} transport.`),R.open(),C=!0),lt($e,`RPC '${t}' stream ${o} sending:`,K),R.send(K))},Yo:()=>R.close()}),tt=(K,pt,ht)=>{K.listen(pt,Q=>{try{ht(Q)}catch(ut){setTimeout(()=>{throw ut},0)}})};return tt(R,wl.EventType.OPEN,()=>{z||(lt($e,`RPC '${t}' stream ${o} transport opened.`),X.s_())}),tt(R,wl.EventType.CLOSE,()=>{z||(z=!0,lt($e,`RPC '${t}' stream ${o} transport closed`),X.__(),this.I_(R))}),tt(R,wl.EventType.ERROR,K=>{z||(z=!0,jr($e,`RPC '${t}' stream ${o} transport errored. Name:`,K.name,"Message:",K.message),X.__(new ot($.UNAVAILABLE,"The operation could not be completed")))}),tt(R,wl.EventType.MESSAGE,K=>{var pt;if(!z){const ht=K.data[0];Ft(!!ht,16349);const Q=ht,ut=Q?.error||((pt=Q[0])===null||pt===void 0?void 0:pt.error);if(ut){lt($e,`RPC '${t}' stream ${o} received error:`,ut);const st=ut.status;let ft=function(w){const O=Ee[w];if(O!==void 0)return kT(O)}(st),V=ut.message;ft===void 0&&(ft=$.INTERNAL,V="Unknown error status: "+st+" with message "+ut.message),z=!0,X.__(new ot(ft,V)),R.close()}else lt($e,`RPC '${t}' stream ${o} received:`,ht),X.a_(ht)}}),tt(m,$0.STAT_EVENT,K=>{K.stat===hm.PROXY?lt($e,`RPC '${t}' stream ${o} detected buffering proxy`):K.stat===hm.NOPROXY&&lt($e,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{X.o_()},0),X}terminate(){this.u_.forEach(t=>t.close()),this.u_=[]}T_(t){this.u_.push(t)}I_(t){this.u_=this.u_.filter(n=>n===t)}}function Jd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ih(r){return new L2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Fi=t,this.timerId=n,this.d_=s,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const n=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,n-s);o>0&&lt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),t())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="PersistentStream";class XT{constructor(t,n,s,o,u,f,m,p){this.Fi=t,this.w_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new YT(t,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(t){this.q_(),this.stream.send(t)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,t!==4?this.F_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Ji(n.toString()),Ji("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.n_(n)}U_(){}auth(){this.state=1;const t=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.b_===n&&this.W_(s,o)},s=>{t(()=>{const o=new ot($.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)})})}W_(t,n){const s=this.K_(this.b_);this.stream=this.z_(t,n),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.e_(()=>{s(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{s(()=>this.G_(o))}),this.stream.onMessage(o=>{s(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(t){return lt(hE,`close with error: ${t}`),this.stream=null,this.close(4,t)}K_(t){return n=>{this.Fi.enqueueAndForget(()=>this.b_===t?n():(lt(hE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class PD extends XT{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}z_(t,n){return this.connection.P_("Listen",t,n)}j_(t){return this.onNext(t)}onNext(t){this.F_.reset();const n=q2(this.serializer,t),s=function(u){if(!("targetChange"in u))return wt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?wt.min():f.readTime?yi(f.readTime):wt.min()}(t);return this.listener.J_(n,s)}H_(t){const n={};n.database=Am(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=pm(p)?{documents:F2(u,p)}:{query:G2(u,p).Vt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=UT(u,f.resumeToken);const y=vm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(wt.min())>0){m.readTime=sh(u,f.snapshotVersion.toTimestamp());const y=vm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,t);const s=Q2(this.serializer,t);s&&(n.labels=s),this.k_(n)}Y_(t){const n={};n.database=Am(this.serializer),n.removeTarget=t,this.k_(n)}}class xD extends XT{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(t,n){return this.connection.P_("Write",t,n)}j_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.ea()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.F_.reset();const n=H2(t.writeResults,t.commitTime),s=yi(t.commitTime);return this.listener.ta(s,n)}na(){const t={};t.database=Am(this.serializer),this.k_(t)}X_(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>j2(this.serializer,s))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{}class LD extends UD{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new ot($.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Wo(t,Em(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ot($.UNKNOWN,u.toString())})}Jo(t,n,s,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Jo(t,Em(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ot($.UNKNOWN,f.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class zD{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(t){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ua("Offline")))}set(t){this.ha(),this.sa=0,t==="Online"&&(this._a=!1),this.ua(t)}ua(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ca(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Ji(n),this._a=!1):lt("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js="RemoteStore";class BD{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo(f=>{s.enqueueAndForget(async()=>{Xs(this)&&(lt(js,"Restarting streams for network reachability change."),await async function(p){const y=Rt(p);y.Ia.add(4),await tu(y),y.Aa.set("Unknown"),y.Ia.delete(4),await Ch(y)}(this))})}),this.Aa=new zD(s,o)}}async function Ch(r){if(Xs(r))for(const t of r.da)await t(!0)}async function tu(r){for(const t of r.da)await t(!1)}function $T(r,t){const n=Rt(r);n.Ta.has(t.targetId)||(n.Ta.set(t.targetId,t),cg(n)?ug(n):fo(n).x_()&&lg(n,t))}function og(r,t){const n=Rt(r),s=fo(n);n.Ta.delete(t),s.x_()&&WT(n,t),n.Ta.size===0&&(s.x_()?s.B_():Xs(n)&&n.Aa.set("Unknown"))}function lg(r,t){if(r.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(wt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}fo(r).H_(t)}function WT(r,t){r.Ra.$e(t),fo(r).Y_(t)}function ug(r){r.Ra=new k2({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>r.Ta.get(t)||null,lt:()=>r.datastore.serializer.databaseId}),fo(r).start(),r.Aa.aa()}function cg(r){return Xs(r)&&!fo(r).M_()&&r.Ta.size>0}function Xs(r){return Rt(r).Ia.size===0}function ZT(r){r.Ra=void 0}async function qD(r){r.Aa.set("Online")}async function jD(r){r.Ta.forEach((t,n)=>{lg(r,t)})}async function HD(r,t){ZT(r),cg(r)?(r.Aa.la(t),ug(r)):r.Aa.set("Unknown")}async function FD(r,t,n){if(r.Aa.set("Online"),t instanceof xT&&t.state===2&&t.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ta.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ta.delete(m),o.Ra.removeTarget(m))}(r,t)}catch(s){lt(js,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await oh(r,s)}else if(t instanceof qc?r.Ra.Ye(t):t instanceof PT?r.Ra.it(t):r.Ra.et(t),!n.isEqual(wt.min()))try{const s=await QT(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.Ra.Pt(f);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const T=u.Ta.get(y);T&&u.Ta.set(y,T.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,y)=>{const T=u.Ta.get(p);if(!T)return;u.Ta.set(p,T.withResumeToken(Ke.EMPTY_BYTE_STRING,T.snapshotVersion)),WT(u,p);const R=new Pr(T.target,p,y,T.sequenceNumber);lg(u,R)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){lt(js,"Failed to raise snapshot:",s),await oh(r,s)}}async function oh(r,t,n){if(!co(t))throw t;r.Ia.add(1),await tu(r),r.Aa.set("Offline"),n||(n=()=>QT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{lt(js,"Retrying IndexedDB access"),await n(),r.Ia.delete(1),await Ch(r)})}function JT(r,t){return t().catch(n=>oh(r,n,t))}async function Dh(r){const t=Rt(r),n=Qr(t);let s=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:Qm;for(;GD(t);)try{const o=await RD(t.localStore,s);if(o===null){t.Pa.length===0&&n.B_();break}s=o.batchId,KD(t,o)}catch(o){await oh(t,o)}tA(t)&&eA(t)}function GD(r){return Xs(r)&&r.Pa.length<10}function KD(r,t){r.Pa.push(t);const n=Qr(r);n.x_()&&n.Z_&&n.X_(t.mutations)}function tA(r){return Xs(r)&&!Qr(r).M_()&&r.Pa.length>0}function eA(r){Qr(r).start()}async function QD(r){Qr(r).na()}async function YD(r){const t=Qr(r);for(const n of r.Pa)t.X_(n.mutations)}async function XD(r,t,n){const s=r.Pa.shift(),o=tg.from(s,t,n);await JT(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Dh(r)}async function $D(r,t){t&&Qr(r).Z_&&await async function(s,o){if(function(f){return V2(f)&&f!==$.ABORTED}(o.code)){const u=s.Pa.shift();Qr(s).N_(),await JT(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Dh(s)}}(r,t),tA(r)&&eA(r)}async function fE(r,t){const n=Rt(r);n.asyncQueue.verifyOperationInProgress(),lt(js,"RemoteStore received new credentials");const s=Xs(n);n.Ia.add(3),await tu(n),s&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ia.delete(3),await Ch(n)}async function WD(r,t){const n=Rt(r);t?(n.Ia.delete(2),await Ch(n)):t||(n.Ia.add(2),await tu(n),n.Aa.set("Unknown"))}function fo(r){return r.Va||(r.Va=function(n,s,o){const u=Rt(n);return u.ia(),new PD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Zo:qD.bind(null,r),e_:jD.bind(null,r),n_:HD.bind(null,r),J_:FD.bind(null,r)}),r.da.push(async t=>{t?(r.Va.N_(),cg(r)?ug(r):r.Aa.set("Unknown")):(await r.Va.stop(),ZT(r))})),r.Va}function Qr(r){return r.ma||(r.ma=function(n,s,o){const u=Rt(n);return u.ia(),new xD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:QD.bind(null,r),n_:$D.bind(null,r),ea:YD.bind(null,r),ta:XD.bind(null,r)}),r.da.push(async t=>{t?(r.ma.N_(),await Dh(r)):(await r.ma.stop(),r.Pa.length>0&&(lt(js,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))})),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,m=new hg(t,n,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fg(r,t){if(Ji("AsyncQueue",`${t}: ${r}`),co(r))return new ot($.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{static emptySet(t){return new Wa(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||gt.comparator(n.key,s.key):(n,s)=>gt.comparator(n.key,s.key),this.keyedMap=Rl(),this.sortedSet=new oe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Wa)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Wa;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(){this.fa=new oe(gt.comparator)}track(t){const n=t.doc.key,s=this.fa.get(n);s?t.type!==0&&s.type===3?this.fa=this.fa.insert(n,t):t.type===3&&s.type!==1?this.fa=this.fa.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.fa=this.fa.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.fa=this.fa.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.fa=this.fa.remove(n):t.type===1&&s.type===2?this.fa=this.fa.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.fa=this.fa.insert(n,{type:2,doc:t.doc}):At(63341,{At:t,ga:s}):this.fa=this.fa.insert(n,t)}pa(){const t=[];return this.fa.inorderTraversal((n,s)=>{t.push(s)}),t}}class ro{constructor(t,n,s,o,u,f,m,p,y){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new ro(t,n,Wa.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ah(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(t=>t.ba())}}class JD{constructor(){this.queries=mE(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,s){const o=Rt(n),u=o.queries;o.queries=mE(),u.forEach((f,m)=>{for(const p of m.wa)p.onError(s)})})(this,new ot($.ABORTED,"Firestore shutting down"))}}function mE(){return new Qs(r=>AT(r),Ah)}async function tO(r,t){const n=Rt(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.Sa()&&t.ba()&&(s=2):(u=new ZD,s=t.ba()?0:1);try{switch(s){case 0:u.ya=await n.onListen(o,!0);break;case 1:u.ya=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=fg(f,`Initialization of query '${Fa(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.wa.push(t),t.va(n.onlineState),u.ya&&t.Ca(u.ya)&&dg(n)}async function eO(r,t){const n=Rt(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.wa.indexOf(t);f>=0&&(u.wa.splice(f,1),u.wa.length===0?o=t.ba()?0:1:!u.Sa()&&t.ba()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function nO(r,t){const n=Rt(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.wa)m.Ca(o)&&(s=!0);f.ya=o}}s&&dg(n)}function iO(r,t,n){const s=Rt(r),o=s.queries.get(t);if(o)for(const u of o.wa)u.onError(n);s.queries.delete(t)}function dg(r){r.Da.forEach(t=>{t.next()})}var wm,gE;(gE=wm||(wm={})).Fa="default",gE.Cache="cache";class rO{constructor(t,n,s){this.query=t,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new ro(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.xa?this.Na(t)&&(this.Ma.next(t),n=!0):this.Ba(t,this.onlineState)&&(this.La(t),n=!0),this.Oa=t,n}onError(t){this.Ma.error(t)}va(t){this.onlineState=t;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,t)&&(this.La(this.Oa),n=!0),n}Ba(t,n){if(!t.fromCache||!this.ba())return!0;const s=n!=="Offline";return(!this.options.ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Na(t){if(t.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(t){t=ro.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.xa=!0,this.Ma.next(t)}ba(){return this.options.source!==wm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(t){this.key=t}}class iA{constructor(t){this.key=t}}class sO{constructor(t,n){this.query=t,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Pt(),this.mutatedKeys=Pt(),this.Xa=ST(t),this.eu=new Wa(this.Xa)}get tu(){return this.Ha}nu(t,n){const s=n?n.ru:new dE,o=n?n.eu:this.eu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((T,R)=>{const C=o.get(T),z=Sh(this.query,R)?R:null,X=!!C&&this.mutatedKeys.has(C.key),tt=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let K=!1;C&&z?C.data.isEqual(z.data)?X!==tt&&(s.track({type:3,doc:z}),K=!0):this.iu(C,z)||(s.track({type:2,doc:z}),K=!0,(p&&this.Xa(z,p)>0||y&&this.Xa(z,y)<0)&&(m=!0)):!C&&z?(s.track({type:0,doc:z}),K=!0):C&&!z&&(s.track({type:1,doc:C}),K=!0,(p||y)&&(m=!0)),K&&(z?(f=f.add(z),u=tt?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{eu:f,ru:s,Ds:m,mutatedKeys:u}}iu(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.eu;this.eu=t.eu,this.mutatedKeys=t.mutatedKeys;const f=t.ru.pa();f.sort((T,R)=>function(z,X){const tt=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return At(20277,{At:K})}};return tt(z)-tt(X)}(T.type,R.type)||this.Xa(T.doc,R.doc)),this.su(s),o=o!=null&&o;const m=n&&!o?this.ou():[],p=this.Za.size===0&&this.current&&!o?1:0,y=p!==this.Ya;return this.Ya=p,f.length!==0||y?{snapshot:new ro(this.query,t.eu,u,f,t.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new dE,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(t){return!this.Ha.has(t)&&!!this.eu.has(t)&&!this.eu.get(t).hasLocalMutations}su(t){t&&(t.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=t.current)}ou(){if(!this.current)return[];const t=this.Za;this.Za=Pt(),this.eu.forEach(s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))});const n=[];return t.forEach(s=>{this.Za.has(s)||n.push(new iA(s))}),this.Za.forEach(s=>{t.has(s)||n.push(new nA(s))}),n}uu(t){this.Ha=t.qs,this.Za=Pt();const n=this.nu(t.documents);return this.applyChanges(n,!0)}cu(){return ro.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const mg="SyncEngine";class aO{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class oO{constructor(t){this.key=t,this.lu=!1}}class lO{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.hu={},this.Pu=new Qs(m=>AT(m),Ah),this.Tu=new Map,this.Iu=new Set,this.du=new oe(gt.comparator),this.Eu=new Map,this.Au=new ig,this.Ru={},this.Vu=new Map,this.mu=io.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function uO(r,t,n=!0){const s=uA(r);let o;const u=s.Pu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await rA(s,t,n,!0),o}async function cO(r,t){const n=uA(r);await rA(n,t,!0,!1)}async function rA(r,t,n,s){const o=await ID(r.localStore,gi(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await hO(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&$T(r.remoteStore,o),m}async function hO(r,t,n,s,o){r.gu=(R,C,z)=>async function(tt,K,pt,ht){let Q=K.view.nu(pt);Q.Ds&&(Q=await oE(tt.localStore,K.query,!1).then(({documents:V})=>K.view.nu(V,Q)));const ut=ht&&ht.targetChanges.get(K.targetId),st=ht&&ht.targetMismatches.get(K.targetId)!=null,ft=K.view.applyChanges(Q,tt.isPrimaryClient,ut,st);return yE(tt,K.targetId,ft._u),ft.snapshot}(r,R,C,z);const u=await oE(r.localStore,t,!0),f=new sO(t,u.qs),m=f.nu(u.documents),p=Jl.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,p);yE(r,n,y._u);const T=new aO(t,n,f);return r.Pu.set(t,T),r.Tu.has(n)?r.Tu.get(n).push(t):r.Tu.set(n,[t]),y.snapshot}async function fO(r,t,n){const s=Rt(r),o=s.Pu.get(t),u=s.Tu.get(o.targetId);if(u.length>1)return s.Tu.set(o.targetId,u.filter(f=>!Ah(f,t))),void s.Pu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Sm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&og(s.remoteStore,o.targetId),Rm(s,o.targetId)}).catch(uo)):(Rm(s,o.targetId),await Sm(s.localStore,o.targetId,!0))}async function dO(r,t){const n=Rt(r),s=n.Pu.get(t),o=n.Tu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),og(n.remoteStore,s.targetId))}async function mO(r,t,n){const s=TO(r);try{const o=await function(f,m){const p=Rt(f),y=ie.now(),T=m.reduce((z,X)=>z.add(X.key),Pt());let R,C;return p.persistence.runTransaction("Locally write mutations","readwrite",z=>{let X=tr(),tt=Pt();return p.Os.getEntries(z,T).next(K=>{X=K,X.forEach((pt,ht)=>{ht.isValidDocument()||(tt=tt.add(pt))})}).next(()=>p.localDocuments.getOverlayedDocuments(z,X)).next(K=>{R=K;const pt=[];for(const ht of m){const Q=I2(ht,R.get(ht.key).overlayedDocument);Q!=null&&pt.push(new Ys(ht.key,Q,dT(Q.value.mapValue),pi.exists(!0)))}return p.mutationQueue.addMutationBatch(z,y,pt,m)}).next(K=>{C=K;const pt=K.applyToLocalDocumentSet(R,tt);return p.documentOverlayCache.saveOverlays(z,K.batchId,pt)})}).then(()=>({batchId:C.batchId,changes:wT(R)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let y=f.Ru[f.currentUser.toKey()];y||(y=new oe(Dt)),y=y.insert(m,p),f.Ru[f.currentUser.toKey()]=y}(s,o.batchId,n),await eu(s,o.changes),await Dh(s.remoteStore)}catch(o){const u=fg(o,"Failed to persist write");n.reject(u)}}async function sA(r,t){const n=Rt(r);try{const s=await bD(n.localStore,t);t.targetChanges.forEach((o,u)=>{const f=n.Eu.get(u);f&&(Ft(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.lu=!0:o.modifiedDocuments.size>0?Ft(f.lu,14607):o.removedDocuments.size>0&&(Ft(f.lu,42227),f.lu=!1))}),await eu(n,s,t)}catch(s){await uo(s)}}function pE(r,t,n){const s=Rt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Pu.forEach((u,f)=>{const m=f.view.va(t);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Rt(f);p.onlineState=m;let y=!1;p.queries.forEach((T,R)=>{for(const C of R.wa)C.va(m)&&(y=!0)}),y&&dg(p)}(s.eventManager,t),o.length&&s.hu.J_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function gO(r,t,n){const s=Rt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Eu.get(t),u=o&&o.key;if(u){let f=new oe(gt.comparator);f=f.insert(u,Ze.newNoDocument(u,wt.min()));const m=Pt().add(u),p=new Rh(wt.min(),new Map,new oe(Dt),f,m);await sA(s,p),s.du=s.du.remove(u),s.Eu.delete(t),gg(s)}else await Sm(s.localStore,t,!1).then(()=>Rm(s,t,n)).catch(uo)}async function pO(r,t){const n=Rt(r),s=t.batch.batchId;try{const o=await SD(n.localStore,t);oA(n,s,null),aA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await eu(n,o)}catch(o){await uo(o)}}async function yO(r,t,n){const s=Rt(r);try{const o=await function(f,m){const p=Rt(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let T;return p.mutationQueue.lookupMutationBatch(y,m).next(R=>(Ft(R!==null,37113),T=R.keys(),p.mutationQueue.removeMutationBatch(y,R))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,T,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T)).next(()=>p.localDocuments.getDocuments(y,T))})}(s.localStore,t);oA(s,t,n),aA(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await eu(s,o)}catch(o){await uo(o)}}function aA(r,t){(r.Vu.get(t)||[]).forEach(n=>{n.resolve()}),r.Vu.delete(t)}function oA(r,t,n){const s=Rt(r);let o=s.Ru[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Ru[s.currentUser.toKey()]=o}}function Rm(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Tu.get(t))r.Pu.delete(s),n&&r.hu.pu(s,n);r.Tu.delete(t),r.isPrimaryClient&&r.Au.zr(t).forEach(s=>{r.Au.containsKey(s)||lA(r,s)})}function lA(r,t){r.Iu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(og(r.remoteStore,n),r.du=r.du.remove(t),r.Eu.delete(n),gg(r))}function yE(r,t,n){for(const s of n)s instanceof nA?(r.Au.addReference(s.key,t),_O(r,s)):s instanceof iA?(lt(mg,"Document no longer in limbo: "+s.key),r.Au.removeReference(s.key,t),r.Au.containsKey(s.key)||lA(r,s.key)):At(19791,{yu:s})}function _O(r,t){const n=t.key,s=n.path.canonicalString();r.du.get(n)||r.Iu.has(s)||(lt(mg,"New document in limbo: "+n),r.Iu.add(s),gg(r))}function gg(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Iu.values().next().value;r.Iu.delete(t);const n=new gt(ne.fromString(t)),s=r.mu.next();r.Eu.set(s,new oO(n)),r.du=r.du.insert(n,s),$T(r.remoteStore,new Pr(gi(ET(n.path)),s,"TargetPurposeLimboResolution",vh.ue))}}async function eu(r,t,n){const s=Rt(r),o=[],u=[],f=[];s.Pu.isEmpty()||(s.Pu.forEach((m,p)=>{f.push(s.gu(p,t,n).then(y=>{var T;if((y||n)&&s.isPrimaryClient){const R=y?!y.fromCache:(T=n?.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(p.targetId,R?"current":"not-current")}if(y){o.push(y);const R=sg.Es(p.targetId,y);u.push(R)}}))}),await Promise.all(f),s.hu.J_(o),await async function(p,y){const T=Rt(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>Z.forEach(y,C=>Z.forEach(C.Is,z=>T.persistence.referenceDelegate.addReference(R,C.targetId,z)).next(()=>Z.forEach(C.ds,z=>T.persistence.referenceDelegate.removeReference(R,C.targetId,z)))))}catch(R){if(!co(R))throw R;lt(ag,"Failed to update sequence numbers: "+R)}for(const R of y){const C=R.targetId;if(!R.fromCache){const z=T.Fs.get(C),X=z.snapshotVersion,tt=z.withLastLimboFreeSnapshotVersion(X);T.Fs=T.Fs.insert(C,tt)}}}(s.localStore,u))}async function vO(r,t){const n=Rt(r);if(!n.currentUser.isEqual(t)){lt(mg,"User change. New user:",t.toKey());const s=await KT(n.localStore,t);n.currentUser=t,function(u,f){u.Vu.forEach(m=>{m.forEach(p=>{p.reject(new ot($.CANCELLED,f))})}),u.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await eu(n,s.Bs)}}function EO(r,t){const n=Rt(r),s=n.Eu.get(t);if(s&&s.lu)return Pt().add(s.key);{let o=Pt();const u=n.Tu.get(t);if(!u)return o;for(const f of u){const m=n.Pu.get(f);o=o.unionWith(m.view.tu)}return o}}function uA(r){const t=Rt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=sA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=EO.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=gO.bind(null,t),t.hu.J_=nO.bind(null,t.eventManager),t.hu.pu=iO.bind(null,t.eventManager),t}function TO(r){const t=Rt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=pO.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=yO.bind(null,t),t}class lh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ih(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,n){return null}Fu(t,n){return null}vu(t){return AD(this.persistence,new vD,t.initialUser,this.serializer)}Du(t){return new GT(rg.Vi,this.serializer)}bu(t){return new DD}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lh.provider={build:()=>new lh};class AO extends lh{constructor(t){super(),this.cacheSizeBytes=t}Cu(t,n){Ft(this.persistence.referenceDelegate instanceof ah,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new rD(s,t.asyncQueue,n)}Du(t){const n=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new GT(s=>ah.Vi(s,n),this.serializer)}}class Im{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>pE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=vO.bind(null,this.syncEngine),await WD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new JD}()}createDatastore(t){const n=Ih(t.databaseInfo.databaseId),s=function(u){return new kD(u)}(t.databaseInfo);return function(u,f,m,p){return new LD(u,f,m,p)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,o,u,f,m){return new BD(s,o,u,f,m)}(this.localStore,this.datastore,t.asyncQueue,n=>pE(this.syncEngine,n,0),function(){return cE.C()?new cE:new OD}())}createSyncEngine(t,n){return function(o,u,f,m,p,y,T){const R=new lO(o,u,f,m,p,y);return T&&(R.fu=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(o){const u=Rt(o);lt(js,"RemoteStore shutting down."),u.Ia.add(5),await tu(u),u.Ea.shutdown(),u.Aa.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Im.provider={build:()=>new Im};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.xu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.xu(this.observer.error,t):Ji("Uncaught Error in snapshot listener:",t.toString()))}Ou(){this.muted=!0}xu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr="FirestoreClient";class bO{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=We.UNAUTHENTICATED,this.clientId=Km.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{lt(Yr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(lt(Yr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=fg(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function tm(r,t){r.asyncQueue.verifyOperationInProgress(),lt(Yr,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await KT(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>{jr("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then(()=>{lt("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{jr("Terminating Firestore due to IndexedDb database deletion failed",o)})}),r._offlineComponents=t}async function _E(r,t){r.asyncQueue.verifyOperationInProgress();const n=await wO(r);lt(Yr,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(s=>fE(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>fE(t.remoteStore,o)),r._onlineComponents=t}async function wO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){lt(Yr,"Using user provided OfflineComponentProvider");try{await tm(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;jr("Error using user provided cache. Falling back to memory cache: "+n),await tm(r,new lh)}}else lt(Yr,"Using default OfflineComponentProvider"),await tm(r,new AO(void 0));return r._offlineComponents}async function cA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(lt(Yr,"Using user provided OnlineComponentProvider"),await _E(r,r._uninitializedComponentsProvider._online)):(lt(Yr,"Using default OnlineComponentProvider"),await _E(r,new Im))),r._onlineComponents}function RO(r){return cA(r).then(t=>t.syncEngine)}async function IO(r){const t=await cA(r),n=t.eventManager;return n.onListen=uO.bind(null,t.syncEngine),n.onUnlisten=fO.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=cO.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=dO.bind(null,t.syncEngine),n}function CO(r,t,n={}){const s=new zr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,y){const T=new SO({next:C=>{T.Ou(),f.enqueueAndForget(()=>eO(u,R)),C.fromCache&&p.source==="server"?y.reject(new ot($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(C)},error:C=>y.reject(C)}),R=new rO(m,T,{includeMetadataChanges:!0,ka:!0});return tO(u,R)}(await IO(r),r.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA="firestore.googleapis.com",EE=!0;class TE{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new ot($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=fA,this.ssl=EE}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:EE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=FT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<nD)throw new ot($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}qC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hA((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ot($.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ot($.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ot($.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Oh{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new TE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ot($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new TE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new VC;switch(s.type){case"firstParty":return new xC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ot($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=vE.get(n);s&&(lt("ComponentProvider","Removing Datastore"),vE.delete(n),s.terminate())}(this),Promise.resolve()}}function DO(r,t,n,s={}){var o;r=Ll(r,Oh);const u=so(t),f=r._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:r._getEmulatorOptions()}),p=`${t}:${n}`;u&&(kE(`https://${p}`),PE("Firestore",!0)),f.host!==fA&&f.host!==p&&jr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},f),{host:p,ssl:u,emulatorOptions:s});if(!qr(y,m)&&(r._setSettings(y),s.mockUserToken)){let T,R;if(typeof s.mockUserToken=="string")T=s.mockUserToken,R=We.MOCK_USER;else{T=Ab(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const C=s.mockUserToken.sub||s.mockUserToken.user_id;if(!C)throw new ot($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new We(C)}r._authCredentials=new MC(new tT(T,R))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new $s(this.firestore,t,this._query)}}class xe{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Br(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new xe(this.firestore,t,this._key)}toJSON(){return{type:xe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(Wl(n,xe._jsonSchema))return new xe(t,s||null,new gt(ne.fromString(n.referencePath)))}}xe._jsonSchemaVersion="firestore/documentReference/1.0",xe._jsonSchema={type:Ae("string",xe._jsonSchemaVersion),referencePath:Ae("string")};class Br extends $s{constructor(t,n,s){super(t,n,ET(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new xe(this.firestore,null,new gt(t))}withConverter(t){return new Br(this.firestore,t,this._path)}}function dA(r,t,...n){if(r=Ge(r),nT("collection","path",t),r instanceof Oh){const s=ne.fromString(t,...n);return kv(s),new Br(r,null,s)}{if(!(r instanceof xe||r instanceof Br))throw new ot($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ne.fromString(t,...n));return kv(s),new Br(r.firestore,null,s)}}function mA(r,t,...n){if(r=Ge(r),arguments.length===1&&(t=Km.newId()),nT("doc","path",t),r instanceof Oh){const s=ne.fromString(t,...n);return Mv(s),new xe(r,null,new gt(s))}{if(!(r instanceof xe||r instanceof Br))throw new ot($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ne.fromString(t,...n));return Mv(s),new xe(r.firestore,r instanceof Br?r.converter:null,new gt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="AsyncQueue";class SE{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new YT(this,"async_queue_retry"),this.oc=()=>{const s=Jd();s&&lt(AE,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=t;const n=Jd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const n=Jd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new zr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Zu.push(t),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!co(t))throw t;lt(AE,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(t){const n=this._c.then(()=>(this.nc=!0,t().catch(s=>{throw this.tc=s,this.nc=!1,Ji("INTERNAL UNHANDLED ERROR: ",bE(s)),s}).then(s=>(this.nc=!1,s))));return this._c=n,n}enqueueAfterDelay(t,n,s){this.ac(),this.sc.indexOf(t)>-1&&(n=0);const o=hg.createAndSchedule(this,t,n,s,u=>this.lc(u));return this.ec.push(o),o}ac(){this.tc&&At(47125,{hc:bE(this.tc)})}verifyOperationInProgress(){}async Pc(){let t;do t=this._c,await t;while(t!==this._c)}Tc(t){for(const n of this.ec)if(n.timerId===t)return!0;return!1}Ic(t){return this.Pc().then(()=>{this.ec.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Pc()})}dc(t){this.sc.push(t)}lc(t){const n=this.ec.indexOf(t);this.ec.splice(n,1)}}function bE(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class Nh extends Oh{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new SE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new SE(t),this._firestoreClient=void 0,await t}}}function OO(r,t){const n=typeof r=="object"?r:Om(),s=typeof r=="string"?r:th,o=Fs(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Eb("firestore");u&&DO(o,...u)}return o}function gA(r){if(r._terminated)throw new ot($.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||NO(r),r._firestoreClient}function NO(r){var t,n,s;const o=r._freezeSettings(),u=function(m,p,y,T){return new ZC(m,p,y,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,hA(T.experimentalLongPollingOptions),T.useFetchStreams,T.isUsingEmulator)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new bO(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m?._online.build();return{_offline:m?._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Pn(Ke.fromBase64String(t))}catch(n){throw new ot($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Pn(Ke.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Wl(t,Pn._jsonSchema))return Pn.fromBase64String(t.bytes)}}Pn._jsonSchemaVersion="firestore/bytes/1.0",Pn._jsonSchema={type:Ae("string",Pn._jsonSchemaVersion),bytes:Ae("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ot($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ot($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ot($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Dt(this._lat,t._lat)||Dt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:_i._jsonSchemaVersion}}static fromJSON(t){if(Wl(t,_i._jsonSchema))return new _i(t.latitude,t.longitude)}}_i._jsonSchemaVersion="firestore/geoPoint/1.0",_i._jsonSchema={type:Ae("string",_i._jsonSchemaVersion),latitude:Ae("number"),longitude:Ae("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,t._values)}toJSON(){return{type:vi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Wl(t,vi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new vi(t.vectorValues);throw new ot($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}vi._jsonSchemaVersion="firestore/vectorValue/1.0",vi._jsonSchema={type:Ae("string",vi._jsonSchemaVersion),vectorValues:Ae("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO=/^__.*__$/;class MO{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Ys(t,this.data,this.fieldMask,n,this.fieldTransforms):new Zl(t,this.data,n,this.fieldTransforms)}}function yA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw At(40011,{Ec:r})}}class yg{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(t){return new yg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Rc({path:s,mc:!1});return o.fc(t),o}gc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(t){return this.Rc({path:void 0,mc:!0})}wc(t){return uh(t,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let t=0;t<this.path.length;t++)this.fc(this.path.get(t))}fc(t){if(t.length===0)throw this.wc("Document fields must not be empty");if(yA(this.Ec)&&VO.test(t))throw this.wc('Document fields cannot begin and end with "__"')}}class kO{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Ih(t)}Dc(t,n,s,o=!1){return new yg({Ec:t,methodName:n,bc:s,path:Fe.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _A(r){const t=r._freezeSettings(),n=Ih(r._databaseId);return new kO(r._databaseId,!!t.ignoreUndefinedProperties,n)}function PO(r,t,n,s,o,u={}){const f=r.Dc(u.merge||u.mergeFields?2:0,t,n,o);TA("Data must be an object, but it was:",f,s);const m=vA(s,f);let p,y;if(u.merge)p=new Fn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const R of u.mergeFields){const C=UO(t,R,n);if(!f.contains(C))throw new ot($.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);zO(T,C)||T.push(C)}p=new Fn(T),y=f.fieldTransforms.filter(R=>p.covers(R.field))}else p=null,y=f.fieldTransforms;return new MO(new kn(m),p,y)}function xO(r,t,n,s=!1){return _g(n,r.Dc(s?4:3,t))}function _g(r,t){if(EA(r=Ge(r)))return TA("Unsupported field value:",t,r),vA(r,t);if(r instanceof pA)return function(s,o){if(!yA(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.mc&&t.Ec!==4)throw t.wc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=_g(m,o.yc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,t)}return function(s,o){if((s=Ge(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return T2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=ie.fromDate(s);return{timestampValue:sh(o.serializer,u)}}if(s instanceof ie){const u=new ie(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:sh(o.serializer,u)}}if(s instanceof _i)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Pn)return{bytesValue:UT(o.serializer,s._byteString)};if(s instanceof xe){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.wc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ng(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof vi)return function(f,m){return{mapValue:{fields:{[hT]:{stringValue:fT},[eh]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.wc("VectorValues must only contain numeric values.");return Zm(m.serializer,y)})}}}}}}(s,o);throw o.wc(`Unsupported field value: ${_h(s)}`)}(r,t)}function vA(r,t){const n={};return sT(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ks(r,(s,o)=>{const u=_g(o,t.Vc(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function EA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ie||r instanceof _i||r instanceof Pn||r instanceof xe||r instanceof pA||r instanceof vi)}function TA(r,t,n){if(!EA(n)||!iT(n)){const s=_h(n);throw s==="an object"?t.wc(r+" a custom object"):t.wc(r+" "+s)}}function UO(r,t,n){if((t=Ge(t))instanceof pg)return t._internalPath;if(typeof t=="string")return AA(r,t);throw uh("Field path arguments must be of type string or ",r,!1,void 0,n)}const LO=new RegExp("[~\\*/\\[\\]]");function AA(r,t,n){if(t.search(LO)>=0)throw uh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new pg(...t.split("."))._internalPath}catch{throw uh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function uh(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ot($.INVALID_ARGUMENT,m+r+p)}function zO(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new xe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new BO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Vh("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class BO extends SA{data(){return super.data()}}function Vh(r,t){return typeof t=="string"?AA(r,t):t instanceof pg?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qO(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ot($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vg{}class bA extends vg{}function jO(r,t,...n){let s=[];t instanceof vg&&s.push(t),s=s.concat(n),function(u){const f=u.filter(p=>p instanceof Eg).length,m=u.filter(p=>p instanceof Mh).length;if(f>1||f>0&&m>0)throw new ot($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class Mh extends bA{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new Mh(t,n,s)}_apply(t){const n=this._parse(t);return wA(t._query,n),new $s(t.firestore,t.converter,ym(t._query,n))}_parse(t){const n=_A(t.firestore);return function(u,f,m,p,y,T,R){let C;if(y.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new ot($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){RE(R,T);const X=[];for(const tt of R)X.push(wE(p,u,tt));C={arrayValue:{values:X}}}else C=wE(p,u,R)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||RE(R,T),C=xO(m,f,R,T==="in"||T==="not-in");return Te.create(y,T,C)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function HO(r,t,n){const s=t,o=Vh("where",r);return Mh._create(o,s,n)}class Eg extends vg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Eg(t,n)}_parse(t){const n=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Qn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)wA(f,p),f=ym(f,p)}(t._query,n),new $s(t.firestore,t.converter,ym(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Tg extends bA{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Tg(t,n)}_apply(t){const n=function(o,u,f){if(o.startAt!==null)throw new ot($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ot($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Hl(u,f)}(t._query,this._field,this._direction);return new $s(t.firestore,t.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new ho(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(t._query,n))}}function FO(r,t="asc"){const n=t,s=Vh("orderBy",r);return Tg._create(s,n)}function wE(r,t,n){if(typeof(n=Ge(n))=="string"){if(n==="")throw new ot($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!TT(t)&&n.indexOf("/")!==-1)throw new ot($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(ne.fromString(n));if(!gt.isDocumentKey(s))throw new ot($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return jv(r,new gt(s))}if(n instanceof xe)return jv(r,n._key);throw new ot($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_h(n)}.`)}function RE(r,t){if(!Array.isArray(r)||r.length===0)throw new ot($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function wA(r,t){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new ot($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ot($.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class GO{convertValue(t,n="none"){switch(Kr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Gr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw At(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Ks(t,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(t){var n,s,o;const u=(o=(s=(n=t.fields)===null||n===void 0?void 0:n[eh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>ge(f.doubleValue));return new vi(u)}convertGeoPoint(t){return new _i(ge(t.latitude),ge(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Th(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Bl(t));default:return null}}convertTimestamp(t){const n=Fr(t);return new ie(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ne.fromString(t);Ft(HT(s),9688,{name:t});const o=new ql(s.get(1),s.get(3)),u=new gt(s.popFirst(5));return o.isEqual(n)||Ji(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KO(r,t,n){let s;return s=r?r.toFirestore(t):t,s}class Vc{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Za extends SA{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new jc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Vh("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Za._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Za._jsonSchemaVersion="firestore/documentSnapshot/1.0",Za._jsonSchema={type:Ae("string",Za._jsonSchemaVersion),bundleSource:Ae("string","DocumentSnapshot"),bundleName:Ae("string"),bundle:Ae("string")};class jc extends Za{data(t={}){return super.data(t)}}class Ja{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Vc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new jc(this._firestore,this._userDataWriter,s.key,s,new Vc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ot($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new jc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Vc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new jc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Vc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,T=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),T=f.indexOf(m.doc.key)),{type:QO(m.type),doc:p,oldIndex:y,newIndex:T}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ja._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Km.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function QO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return At(61501,{type:r})}}Ja._jsonSchemaVersion="firestore/querySnapshot/1.0",Ja._jsonSchema={type:Ae("string",Ja._jsonSchemaVersion),bundleSource:Ae("string","QuerySnapshot"),bundleName:Ae("string"),bundle:Ae("string")};class YO extends GO{constructor(t){super(),this.firestore=t}convertBytes(t){return new Pn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new xe(this.firestore,null,n)}}function XO(r){r=Ll(r,$s);const t=Ll(r.firestore,Nh),n=gA(t),s=new YO(t);return qO(r._query),CO(n,r._query).then(o=>new Ja(t,s,r,o))}function $O(r){return RA(Ll(r.firestore,Nh),[new Jm(r._key,pi.none())])}function WO(r,t){const n=Ll(r.firestore,Nh),s=mA(r),o=KO(r.converter,t);return RA(n,[PO(_A(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,pi.exists(!1))]).then(()=>s)}function RA(r,t){return function(s,o){const u=new zr;return s.asyncQueue.enqueueAndForget(async()=>mO(await RO(s),o,u)),u.promise}(gA(r),t)}(function(t,n=!0){(function(o){lo=o})(ao),Ei(new Gn("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Nh(new kC(s.getProvider("auth-internal")),new UC(f,s.getProvider("app-check-internal")),function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ot($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ql(y.options.projectId,T)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),xn(Cv,Dv,t),xn(Cv,Dv,"esm2017")})();const ZO={apiKey:"AIzaSyB_851yvrL4JUz33TAl_ruxurOtT4Rrud0",authDomain:"my-finance-tracker-82c77.firebaseapp.com",projectId:"my-finance-tracker-82c77",storageBucket:"my-finance-tracker-82c77.firebasestorage.app",messagingSenderId:"623672480384",appId:"1:623672480384:web:5bdeef1416359f846d0c65",measurementId:"G-NJSJSBS90K"},Ag=jE(ZO);CC(Ag);const Sg=OO(Ag),ch=uI(Ag),JO=({onLogin:r})=>{const[t,n]=Yt.useState(""),[s,o]=Yt.useState(""),[u,f]=Yt.useState(!0),[m,p]=Yt.useState(""),[y,T]=Yt.useState(!1),R=async C=>{C.preventDefault(),T(!0),p("");try{if(u){const z=await Y1(ch,t,s);console.log("User logged in:",z.user),r(z.user)}else{const z=await Q1(ch,t,s);console.log("User registered:",z.user),r(z.user)}}catch(z){p(z.message),console.error("Authentication error:",z)}finally{T(!1)}};return S.createElement("div",{style:{maxWidth:"400px",margin:"50px auto",padding:"20px"}},S.createElement("h2",null,u?"Login":"Register"),m&&S.createElement("div",{style:{color:"red",marginBottom:"10px"}},m),S.createElement("form",{onSubmit:R},S.createElement("div",{style:{marginBottom:"15px"}},S.createElement("label",null,"Email:"),S.createElement("input",{type:"email",value:t,onChange:C=>n(C.target.value),required:!0,style:{width:"100%",padding:"8px",marginTop:"5px"}})),S.createElement("div",{style:{marginBottom:"15px"}},S.createElement("label",null,"Password:"),S.createElement("input",{type:"password",value:s,onChange:C=>o(C.target.value),required:!0,style:{width:"100%",padding:"8px",marginTop:"5px"}})),S.createElement("button",{type:"submit",disabled:y,style:{width:"100%",padding:"10px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:y?"not-allowed":"pointer"}},y?"Please wait...":u?"Login":"Register")),S.createElement("p",{style:{textAlign:"center",marginTop:"20px"}},u?"Don't have an account? ":"Already have an account? ",S.createElement("button",{type:"button",onClick:()=>f(!u),style:{background:"none",border:"none",color:"#007bff",cursor:"pointer",textDecoration:"underline"}},u?"Register":"Login")))},tN=async(r,t)=>{try{console.log("Adding transaction for user:",r);const n={...t,userId:r,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},s=await WO(dA(Sg,"transactions"),n);return console.log("Transaction added with ID:",s.id),{id:s.id,...n}}catch(n){throw console.error("Error adding transaction:",n),n}},eN=async r=>{try{console.log("Getting transactions for user:",r);const t=jO(dA(Sg,"transactions"),HO("userId","==",r),FO("createdAt","desc")),n=await XO(t),s=[];return n.forEach(o=>{s.push({id:o.id,...o.data()})}),console.log("Found",s.length,"transactions"),s}catch(t){throw console.error("Error getting transactions:",t),t}},nN=async r=>{try{if(console.log("Deleting transaction:",r),console.log("Transaction ID type:",typeof r),!r)throw new Error("Transaction ID is required");const t=String(r).trim();if(!t)throw new Error("Invalid transaction ID");return console.log("Using string transaction ID:",t),await $O(mA(Sg,"transactions",t)),console.log("Transaction deleted successfully"),t}catch(t){throw console.error("Error deleting transaction:",t),console.error("Original transaction ID:",r),console.error("Transaction ID type:",typeof r),t}},iN=({transactions:r=[]})=>{const[t,n]=Yt.useState({"Maize bran":{quantity:0,weightPerBag:90},"Wheat bran":{quantity:0,weightPerBag:50},"Maize germ":{quantity:0,weightPerBag:50},"Cob dust":{quantity:0,weightPerBag:1}}),[s,o]=Yt.useState(!1),[u,f]=Yt.useState(""),[m,p]=Yt.useState(""),[y,T]=Yt.useState(""),R=["Maize bran","Wheat bran","Maize germ","Cob dust"],z=(()=>{const Q={};return R.forEach(ut=>{Q[ut]={purchases:[],sales:[],totalPurchased:0,totalSold:0,totalPurchasedWeight:0,totalSoldWeight:0}}),r.forEach(ut=>{if(R.includes(ut.category)){const st=ut.category,ft=ut.quantity||0,V=ut.weightPerBag||t[st].weightPerBag,b=ut.totalWeight||ft*V,w={date:ut.date,quantity:ft,weightPerBag:V,totalWeight:b,amount:ut.amount,pricePerUnit:ut.pricePerUnit,description:ut.description};ut.type==="Expense"?(Q[st].purchases.push(w),Q[st].totalPurchased+=ft,Q[st].totalPurchasedWeight+=b):ut.type==="Income"&&(Q[st].sales.push(w),Q[st].totalSold+=ft,Q[st].totalSoldWeight+=b)}}),Q})(),X=Q=>{const ut=t[Q].quantity,st=z[Q].totalPurchased,ft=z[Q].totalSold,V=ut+st-ft,b=ut*t[Q].weightPerBag,w=z[Q].totalPurchasedWeight,O=z[Q].totalSoldWeight,k=b+w-O;return{quantity:V,weight:k,weightPerBag:t[Q].weightPerBag}},tt=()=>{u&&m&&(n(Q=>({...Q,[u]:{...Q[u],quantity:parseFloat(m),weightPerBag:y?parseFloat(y):Q[u].weightPerBag}})),p(""),T(""),f(""),o(!1))},K=Q=>new Intl.NumberFormat("en-KE",{style:"currency",currency:"KES",minimumFractionDigits:2}).format(Q),pt=Q=>new Date(Q).toLocaleDateString("en-KE",{day:"2-digit",month:"2-digit",year:"numeric"}),ht=Q=>Q.quantity<=0?{status:"Out of Stock",color:"#e74c3c"}:Q.quantity<=10?{status:"Low Stock",color:"#f39c12"}:{status:"In Stock",color:"#27ae60"};return S.createElement("div",{style:at.container},S.createElement("div",{style:at.header},S.createElement("h2",{style:at.title},"Inventory Management"),S.createElement("button",{style:at.addStockBtn,onClick:()=>o(!0)},"Add Initial Stock")),s&&S.createElement("div",{style:at.modal},S.createElement("div",{style:at.modalContent},S.createElement("h3",null,"Add Initial Stock"),S.createElement("div",{style:at.formGroup},S.createElement("label",null,"Product:"),S.createElement("select",{value:u,onChange:Q=>f(Q.target.value),style:at.select},S.createElement("option",{value:""},"Select Product"),R.map(Q=>S.createElement("option",{key:Q,value:Q},Q)))),S.createElement("div",{style:at.formGroup},S.createElement("label",null,u==="Cob dust"?"Quantity (kg):":"Quantity (bags):"),S.createElement("input",{type:"number",value:m,onChange:Q=>p(Q.target.value),style:at.input,placeholder:"Enter quantity"})),u&&u!=="Cob dust"&&S.createElement("div",{style:at.formGroup},S.createElement("label",null,"Weight per bag (kg):"),S.createElement("input",{type:"number",value:y,onChange:Q=>T(Q.target.value),style:at.input,placeholder:`Default: ${t[u]?.weightPerBag||0} kg`})),S.createElement("div",{style:at.formButtons},S.createElement("button",{onClick:tt,style:at.saveBtn},"Save"),S.createElement("button",{onClick:()=>o(!1),style:at.cancelBtn},"Cancel")))),S.createElement("div",{style:at.overviewGrid},R.map(Q=>{const ut=X(Q),st=ht(ut);return S.createElement("div",{key:Q,style:at.overviewCard},S.createElement("h3",{style:at.productName},Q),S.createElement("div",{style:at.stockInfo},S.createElement("div",{style:at.stockQuantity},ut.quantity.toFixed(1)," ",Q==="Cob dust"?"kg":"bags"),S.createElement("div",{style:at.stockWeight},ut.weight.toFixed(1)," kg total"),S.createElement("div",{style:{...at.stockStatus,color:st.color}},st.status)))})),S.createElement("div",{style:at.detailsSection},S.createElement("h3",{style:at.sectionTitle},"Detailed Inventory Tracking"),R.map(Q=>{const ut=X(Q),st=z[Q];return S.createElement("div",{key:Q,style:at.productSection},S.createElement("div",{style:at.productHeader},S.createElement("h4",{style:at.productTitle},Q),S.createElement("div",{style:at.currentStockSummary},"Current Stock: ",ut.quantity.toFixed(1)," ",Q==="Cob dust"?"kg":"bags","(",ut.weight.toFixed(1)," kg)")),S.createElement("div",{style:at.movementTables},S.createElement("div",{style:at.tableContainer},S.createElement("h5",{style:at.tableTitle},"Purchases (Stock In)"),st.purchases.length>0?S.createElement("table",{style:at.table},S.createElement("thead",null,S.createElement("tr",{style:at.tableHeader},S.createElement("th",{style:at.th},"Date"),S.createElement("th",{style:at.th},"Quantity"),S.createElement("th",{style:at.th},"Weight"),S.createElement("th",{style:at.th},"Price/Unit"),S.createElement("th",{style:at.th},"Total Amount"))),S.createElement("tbody",null,st.purchases.map((ft,V)=>S.createElement("tr",{key:V,style:at.tableRow},S.createElement("td",{style:at.td},pt(ft.date)),S.createElement("td",{style:at.td},ft.quantity," ",Q==="Cob dust"?"kg":"bags"),S.createElement("td",{style:at.td},ft.totalWeight.toFixed(1)," kg"),S.createElement("td",{style:at.td},K(ft.pricePerUnit)),S.createElement("td",{style:at.td},K(ft.amount)))),S.createElement("tr",{style:at.totalRow},S.createElement("td",{style:at.td},S.createElement("strong",null,"Total")),S.createElement("td",{style:at.td},S.createElement("strong",null,st.totalPurchased.toFixed(1)," ",Q==="Cob dust"?"kg":"bags")),S.createElement("td",{style:at.td},S.createElement("strong",null,st.totalPurchasedWeight.toFixed(1)," kg")),S.createElement("td",{style:at.td}),S.createElement("td",{style:at.td},S.createElement("strong",null,K(st.purchases.reduce((ft,V)=>ft+V.amount,0))))))):S.createElement("div",{style:at.noData},"No purchases recorded")),S.createElement("div",{style:at.tableContainer},S.createElement("h5",{style:at.tableTitle},"Sales (Stock Out)"),st.sales.length>0?S.createElement("table",{style:at.table},S.createElement("thead",null,S.createElement("tr",{style:at.tableHeader},S.createElement("th",{style:at.th},"Date"),S.createElement("th",{style:at.th},"Quantity"),S.createElement("th",{style:at.th},"Weight"),S.createElement("th",{style:at.th},"Price/Unit"),S.createElement("th",{style:at.th},"Total Amount"))),S.createElement("tbody",null,st.sales.map((ft,V)=>S.createElement("tr",{key:V,style:at.tableRow},S.createElement("td",{style:at.td},pt(ft.date)),S.createElement("td",{style:at.td},ft.quantity," ",Q==="Cob dust"?"kg":"bags"),S.createElement("td",{style:at.td},ft.totalWeight.toFixed(1)," kg"),S.createElement("td",{style:at.td},K(ft.pricePerUnit)),S.createElement("td",{style:at.td},K(ft.amount)))),S.createElement("tr",{style:at.totalRow},S.createElement("td",{style:at.td},S.createElement("strong",null,"Total")),S.createElement("td",{style:at.td},S.createElement("strong",null,st.totalSold.toFixed(1)," ",Q==="Cob dust"?"kg":"bags")),S.createElement("td",{style:at.td},S.createElement("strong",null,st.totalSoldWeight.toFixed(1)," kg")),S.createElement("td",{style:at.td}),S.createElement("td",{style:at.td},S.createElement("strong",null,K(st.sales.reduce((ft,V)=>ft+V.amount,0))))))):S.createElement("div",{style:at.noData},"No sales recorded"))))})))},at={container:{maxWidth:"1400px",margin:"0 auto",padding:"10px",fontFamily:"Arial, sans-serif",backgroundColor:"#f5f5f5",minHeight:"100vh"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"#ffffff",padding:"20px",borderRadius:"8px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",marginBottom:"20px",flexWrap:"wrap",gap:"15px"},title:{fontSize:"1.5rem",color:"#2c3e50",margin:0},addStockBtn:{backgroundColor:"#3498db",color:"white",border:"none",padding:"10px 20px",borderRadius:"5px",cursor:"pointer",fontSize:"1rem"},modal:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},modalContent:{backgroundColor:"white",padding:"20px",borderRadius:"8px",width:"400px",maxWidth:"95%",margin:"10px"},formGroup:{marginBottom:"15px"},select:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid #ddd",fontSize:"1rem"},input:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid #ddd",fontSize:"1rem"},formButtons:{display:"flex",gap:"10px",justifyContent:"flex-end",marginTop:"20px"},saveBtn:{backgroundColor:"#27ae60",color:"white",border:"none",padding:"10px 20px",borderRadius:"5px",cursor:"pointer"},cancelBtn:{backgroundColor:"#95a5a6",color:"white",border:"none",padding:"10px 20px",borderRadius:"5px",cursor:"pointer"},overviewGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px",marginBottom:"20px"},overviewCard:{backgroundColor:"#ffffff",padding:"15px",borderRadius:"8px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",minHeight:"120px"},productName:{fontSize:"1.2rem",color:"#2c3e50",margin:"0 0 15px 0"},stockInfo:{textAlign:"center"},stockQuantity:{fontSize:"1.5rem",fontWeight:"bold",color:"#2c3e50",marginBottom:"5px"},stockWeight:{fontSize:"1rem",color:"#7f8c8d",marginBottom:"10px"},stockStatus:{fontSize:"0.9rem",fontWeight:"bold",textTransform:"uppercase"},detailsSection:{backgroundColor:"#ffffff",padding:"20px",borderRadius:"8px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},sectionTitle:{fontSize:"1.5rem",color:"#2c3e50",marginBottom:"20px"},productSection:{marginBottom:"30px",border:"1px solid #ecf0f1",borderRadius:"8px",padding:"15px"},productHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",borderBottom:"2px solid #3498db",paddingBottom:"10px",flexWrap:"wrap",gap:"10px"},productTitle:{fontSize:"1.3rem",color:"#2c3e50",margin:0},currentStockSummary:{fontSize:"1rem",color:"#7f8c8d",fontWeight:"bold"},movementTables:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"20px"},tableContainer:{backgroundColor:"#f8f9fa",padding:"15px",borderRadius:"6px",overflowX:"auto",minWidth:"300px"},tableTitle:{fontSize:"1rem",color:"#2c3e50",marginBottom:"10px"},table:{width:"100%",borderCollapse:"collapse",fontSize:"0.8rem",overflowX:"auto"},tableHeader:{backgroundColor:"#ecf0f1"},th:{padding:"8px 4px",textAlign:"left",borderBottom:"2px solid #bdc3c7",fontWeight:"600",color:"#2c3e50",fontSize:"0.75rem",minWidth:"80px"},tableRow:{borderBottom:"1px solid #ecf0f1"},td:{padding:"6px 4px",color:"#34495e",fontSize:"0.75rem",wordBreak:"break-word"},totalRow:{backgroundColor:"#ecf0f1",fontWeight:"bold"},noData:{textAlign:"center",color:"#7f8c8d",fontSize:"0.9rem",padding:"20px"}};function rN(){const[r,t]=Yt.useState(null),[n,s]=Yt.useState(!0),[o,u]=Yt.useState([]),[f,m]=Yt.useState(!1),[p,y]=Yt.useState(null);Yt.useEffect(()=>{const tt=W1(ch,K=>{t(K),s(!1),K?console.log("User authenticated:",K.email):(console.log("User not authenticated"),u([]))});return()=>tt()},[]),Yt.useEffect(()=>{r&&T()},[r]);const T=async()=>{if(r)try{m(!0),y(null);const tt=await eN(r.uid);console.log("Loaded transactions:",tt),tt.length>0&&(console.log("First transaction:",tt[0]),console.log("First transaction ID:",tt[0].id),console.log("First transaction ID type:",typeof tt[0].id)),u(tt),console.log("Loaded transactions:",tt.length)}catch(tt){y("Failed to load transactions"),console.error("Error loading transactions:",tt)}finally{m(!1)}},R=async tt=>{if(console.log("=== DEBUG: Adding transaction ==="),console.log("User:",r),console.log("Transaction data:",tt),!r){y("You must be logged in to add transactions");return}try{y(null),console.log("Calling addTransactionToDB...");const K=await tN(r.uid,tt);console.log("New transaction returned:",K),u(pt=>{const ht=[K,...pt];return console.log("Updated transactions:",ht),ht}),console.log("Transaction added successfully")}catch(K){y("Failed to add transaction: "+K.message),console.error("Error adding transaction:",K)}},C=async tt=>{if(console.log("=== DEBUG: Deleting transaction ==="),console.log("Transaction ID:",tt),console.log("Transaction ID type:",typeof tt),console.log("Current transactions:",o),!r){y("You must be logged in to delete transactions");return}if(!tt){y("Invalid transaction ID"),console.error("Transaction ID is missing or invalid");return}const K=String(tt);console.log("String transaction ID:",K);const pt=o.find(Q=>Q.id===K);if(console.log("Transaction exists in state:",pt),!window.confirm("Are you sure you want to delete this transaction?")){console.log("User cancelled deletion");return}try{y(null),console.log("Calling deleteTransactionFromDB with:",K),await nN(K),console.log("Database deletion successful"),u(Q=>{const ut=Q.filter(st=>String(st.id)!==K);return console.log("Filtered transactions:",ut),console.log("Original count:",Q.length,"New count:",ut.length),ut}),console.log("Transaction deleted successfully")}catch(Q){y("Failed to delete transaction: "+Q.message),console.error("Error deleting transaction:",Q),console.error("Full error object:",Q)}},z=tt=>{t(tt),console.log("User logged in successfully:",tt.email)},X=async()=>{try{await Z1(ch),t(null),u([]),y(null),console.log("User logged out successfully")}catch(tt){console.error("Error logging out:",tt)}};return n?S.createElement("div",null,S.createElement(Bd,null),S.createElement("div",{style:{textAlign:"center",padding:"50px",fontSize:"18px",color:"#666"}},S.createElement("div",null,"Loading..."))):r?S.createElement("div",null,S.createElement(Bd,null),S.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px 20px",backgroundColor:"#f8f9fa",borderBottom:"1px solid #dee2e6"}},S.createElement("span",{style:{color:"#666"}},"Welcome, ",r.email),S.createElement("button",{onClick:X,style:{padding:"8px 16px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"}},"Logout")),p&&S.createElement("div",{style:{color:"#d32f2f",textAlign:"center",padding:"12px",backgroundColor:"#ffebee",margin:"10px",borderRadius:"8px",border:"1px solid #ffcdd2"}},p,S.createElement("button",{onClick:T,style:{marginLeft:"10px",padding:"4px 8px",backgroundColor:"#f44336",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"}},"Retry")),f&&S.createElement("div",{style:{textAlign:"center",padding:"20px",color:"#666"}},"Loading transactions..."),!f&&o.length===0&&!p&&S.createElement("div",{style:{textAlign:"center",padding:"20px",color:"#666",backgroundColor:"#f5f5f5",margin:"10px",borderRadius:"8px"}},"No transactions yet. Add your first transaction below!"),S.createElement(ob,{onAddTransaction:R}),S.createElement(hb,{transactions:o}),S.createElement(ub,{transactions:o,onDelete:C}),S.createElement(lb,{transactions:o}),S.createElement(iN,{transactions:o})):S.createElement("div",null,S.createElement(Bd,null),S.createElement(JO,{onLogin:z}))}sb.createRoot(document.getElementById("root")).render(S.createElement(Yt.StrictMode,null,S.createElement(rN,null)));
